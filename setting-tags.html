<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Setting tags &mdash; Phonopy v.1.10.8</title>
    
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootswatch-3.3.4/cosmo/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.10.8',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-3.3.4/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="Phonopy v.1.10.8" href="index.html" />
    <link rel="next" title="How to watch animation" href="animation.html" />
    <link rel="prev" title="Output files" href="output-files.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body role="document">

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">
          Phonopy</a>
        <span class="navbar-text navbar-version pull-left"><b>1.10.8</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="procedure.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="workflow.html">Work flow</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Download and install</a></li>
<li class="toctree-l1"><a class="reference internal" href="features.html">Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="input-files.html">Input files</a></li>
<li class="toctree-l1"><a class="reference internal" href="output-files.html">Output files</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Setting tags</a></li>
<li class="toctree-l1"><a class="reference internal" href="command-options.html">Command options</a></li>
<li class="toctree-l1"><a class="reference internal" href="qha.html">Quasi harmonic approximation</a></li>
<li class="toctree-l1"><a class="reference internal" href="gruneisen.html">Mode Grüneisen parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="interfaces.html">Interfaces to calculators</a></li>
<li class="toctree-l1"><a class="reference internal" href="auxiliary-tools.html">Auxiliary tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="external-tools.html">External tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="phonopy-module.html">Using phonopy as a python module</a></li>
<li class="toctree-l1"><a class="reference internal" href="theory.html">Formulations</a></li>
<li class="toctree-l1"><a class="reference internal" href="citation.html">How to cite phonopy</a></li>
<li class="toctree-l1"><a class="reference internal" href="reference.html">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Change Log</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Setting tags</a><ul>
<li><a class="reference internal" href="#basic-tags">Basic tags</a><ul>
<li><a class="reference internal" href="#dim"><code class="docutils literal"><span class="pre">DIM</span></code></a></li>
<li><a class="reference internal" href="#primitive-axis"><code class="docutils literal"><span class="pre">PRIMITIVE_AXIS</span></code></a></li>
<li><a class="reference internal" href="#atom-name"><code class="docutils literal"><span class="pre">ATOM_NAME</span></code></a></li>
<li><a class="reference internal" href="#eigenvectors"><code class="docutils literal"><span class="pre">EIGENVECTORS</span></code></a></li>
<li><a class="reference internal" href="#mass"><code class="docutils literal"><span class="pre">MASS</span></code></a></li>
<li><a class="reference internal" href="#magmom"><code class="docutils literal"><span class="pre">MAGMOM</span></code></a></li>
<li><a class="reference internal" href="#cell-filename"><code class="docutils literal"><span class="pre">CELL_FILENAME</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#unit-conversion-factor">Unit conversion factor</a><ul>
<li><a class="reference internal" href="#frequency-conversion-factor"><code class="docutils literal"><span class="pre">frequency_conversion_factor</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#displacement-creation-tags">Displacement creation tags</a><ul>
<li><a class="reference internal" href="#create-displacements"><code class="docutils literal"><span class="pre">CREATE_DISPLACEMENTS</span></code></a></li>
<li><a class="reference internal" href="#displacement-distance"><code class="docutils literal"><span class="pre">DISPLACEMENT_DISTANCE</span></code></a></li>
<li><a class="reference internal" href="#diag"><code class="docutils literal"><span class="pre">DIAG</span></code></a></li>
<li><a class="reference internal" href="#pm"><code class="docutils literal"><span class="pre">PM</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#band-structure-tags">Band structure tags</a><ul>
<li><a class="reference internal" href="#band-band-points"><code class="docutils literal"><span class="pre">BAND</span></code>, <code class="docutils literal"><span class="pre">BAND_POINTS</span></code></a></li>
<li><a class="reference internal" href="#band-labels"><code class="docutils literal"><span class="pre">BAND_LABELS</span></code></a></li>
<li><a class="reference internal" href="#band-connection"><code class="docutils literal"><span class="pre">BAND_CONNECTION</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#mesh-sampling-tags">Mesh sampling tags</a><ul>
<li><a class="reference internal" href="#mp-mesh"><code class="docutils literal"><span class="pre">MP</span></code>, <code class="docutils literal"><span class="pre">MESH</span></code></a></li>
<li><a class="reference internal" href="#mp-shift"><code class="docutils literal"><span class="pre">MP_SHIFT</span></code></a></li>
<li><a class="reference internal" href="#gamma-center"><code class="docutils literal"><span class="pre">GAMMA_CENTER</span></code></a></li>
<li><a class="reference internal" href="#write-mesh"><code class="docutils literal"><span class="pre">WRITE_MESH</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#density-of-states-dos-tags">Density of states (DOS) tags</a><ul>
<li><a class="reference internal" href="#dos"><code class="docutils literal"><span class="pre">DOS</span></code></a></li>
<li><a class="reference internal" href="#dos-range"><code class="docutils literal"><span class="pre">DOS_RANGE</span></code></a></li>
<li><a class="reference internal" href="#pdos"><code class="docutils literal"><span class="pre">PDOS</span></code></a></li>
<li><a class="reference internal" href="#projection-direction"><code class="docutils literal"><span class="pre">PROJECTION_DIRECTION</span></code></a></li>
<li><a class="reference internal" href="#xyz-projection"><code class="docutils literal"><span class="pre">XYZ_PROJECTION</span></code></a></li>
<li><a class="reference internal" href="#sigma"><code class="docutils literal"><span class="pre">SIGMA</span></code></a></li>
<li><a class="reference internal" href="#tetrahedron"><code class="docutils literal"><span class="pre">TETRAHEDRON</span></code></a></li>
<li><a class="reference internal" href="#debye-model"><code class="docutils literal"><span class="pre">DEBYE_MODEL</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#thermal-properties-related-tags">Thermal properties related tags</a><ul>
<li><a class="reference internal" href="#tprop-tmin-tmax-tstep"><code class="docutils literal"><span class="pre">TPROP</span></code>, <code class="docutils literal"><span class="pre">TMIN</span></code>, <code class="docutils literal"><span class="pre">TMAX</span></code>, <code class="docutils literal"><span class="pre">TSTEP</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#thermal-displacements">Thermal displacements</a><ul>
<li><a class="reference internal" href="#tdisp-tmax-tmin-tstep"><code class="docutils literal"><span class="pre">TDISP</span></code>, <code class="docutils literal"><span class="pre">TMAX</span></code>, <code class="docutils literal"><span class="pre">TMIN</span></code>, <code class="docutils literal"><span class="pre">TSTEP</span></code></a></li>
<li><a class="reference internal" href="#tdispmat-tmax-tmin-tstep"><code class="docutils literal"><span class="pre">TDISPMAT</span></code>, <code class="docutils literal"><span class="pre">TMAX</span></code>, <code class="docutils literal"><span class="pre">TMIN</span></code>, <code class="docutils literal"><span class="pre">TSTEP</span></code></a></li>
<li><a class="reference internal" href="#cutoff-frequency"><code class="docutils literal"><span class="pre">CUTOFF_FREQUENCY</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#specific-q-points">Specific q-points</a><ul>
<li><a class="reference internal" href="#qpoints"><code class="docutils literal"><span class="pre">QPOINTS</span></code></a></li>
<li><a class="reference internal" href="#writedm"><code class="docutils literal"><span class="pre">WRITEDM</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#non-analytical-term-correction">Non-analytical term correction</a><ul>
<li><a class="reference internal" href="#nac"><code class="docutils literal"><span class="pre">NAC</span></code></a></li>
<li><a class="reference internal" href="#q-direction"><code class="docutils literal"><span class="pre">Q_DIRECTION</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#group-velocity">Group velocity</a><ul>
<li><a class="reference internal" href="#id3"><code class="docutils literal"><span class="pre">GROUP_VELOCITY</span></code></a></li>
<li><a class="reference internal" href="#gv-delta-q"><code class="docutils literal"><span class="pre">GV_DELTA_Q</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#symmetry">Symmetry</a><ul>
<li><a class="reference internal" href="#symmetry-tag"><code class="docutils literal"><span class="pre">SYMMETRY</span></code></a></li>
<li><a class="reference internal" href="#mesh-symmetry"><code class="docutils literal"><span class="pre">MESH_SYMMETRY</span></code></a></li>
<li><a class="reference internal" href="#fc-symmetry"><code class="docutils literal"><span class="pre">FC_SYMMETRY</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#force-constants">Force constants</a><ul>
<li><a class="reference internal" href="#id5"><code class="docutils literal"><span class="pre">FORCE_CONSTANTS</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#create-animation-file">Create animation file</a><ul>
<li><a class="reference internal" href="#anime-type"><code class="docutils literal"><span class="pre">ANIME_TYPE</span></code></a></li>
<li><a class="reference internal" href="#anime"><code class="docutils literal"><span class="pre">ANIME</span></code></a><ul>
<li><a class="reference internal" href="#for-v-sim">For v_sim</a></li>
<li><a class="reference internal" href="#for-the-other-animation-formats">For the other animation formats</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#create-modulated-structure">Create modulated structure</a><ul>
<li><a class="reference internal" href="#modulation"><code class="docutils literal"><span class="pre">MODULATION</span></code></a><ul>
<li><a class="reference internal" href="#usage">Usage</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#characters-of-irreducible-representations">Characters of irreducible representations</a><ul>
<li><a class="reference internal" href="#irreps"><code class="docutils literal"><span class="pre">IRREPS</span></code></a></li>
<li><a class="reference internal" href="#show-irreps"><code class="docutils literal"><span class="pre">SHOW_IRREPS</span></code></a></li>
<li><a class="reference internal" href="#little-cogroup"><code class="docutils literal"><span class="pre">LITTLE_COGROUP</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="output-files.html" title="Previous Chapter: Output files"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Output files</span>
    </a>
  </li>
  <li>
    <a href="animation.html" title="Next Chapter: How to watch animation"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">How to watch ... &raquo;</span>
    </a>
  </li>
              
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="section" id="setting-tags">
<span id="id1"></span><h1>Setting tags<a class="headerlink" href="#setting-tags" title="Permalink to this headline">¶</a></h1>
<p>Most of the setting tags have corresponding command-line options (<a class="reference internal" href="command-options.html#command-options"><span class="std std-ref">Command options</span></a>).</p>
<p>For specifying real and reciprocal points, fractional values
(e.g. <code class="docutils literal"><span class="pre">1/3</span></code>) are accepted. However fractional values must not
have space among characters (e.g. <code class="docutils literal"><span class="pre">1</span> <span class="pre">/</span> <span class="pre">3</span></code>) are not allowed.</p>
<div class="section" id="basic-tags">
<h2>Basic tags<a class="headerlink" href="#basic-tags" title="Permalink to this headline">¶</a></h2>
<div class="section" id="dim">
<h3><code class="docutils literal"><span class="pre">DIM</span></code><a class="headerlink" href="#dim" title="Permalink to this headline">¶</a></h3>
<p>The supercell is created from the input unit cell. When three integers
are specified, a supercell elongated along axes of unit cell is
created.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">DIM</span> <span class="o">=</span> <span class="mi">2</span> <span class="mi">2</span> <span class="mi">3</span>
</pre></div>
</div>
<p>In this case, a 2x2x3 supercell is created.</p>
<p>When nine integers are specified, the supercell is created by
multiplying the supercell matrix <img class="math" src="_images/math/334501cd15978f356e18bb02e2ac826bf4f61cac.png" alt="M_\mathrm{s}"/> with the unit
cell. For example,</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">DIM</span> <span class="o">=</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">1</span>  <span class="mi">1</span> <span class="mi">0</span> <span class="mi">1</span>  <span class="mi">1</span> <span class="mi">1</span> <span class="mi">0</span>
</pre></div>
</div>
<p>the supercell matrix is</p>
<div class="math">
<p><img src="_images/math/370a27d3721c3d408adee710a70e84a8c17a3cfa.png" alt="M_\mathrm{s} = \begin{pmatrix}
0 &amp; 1 &amp; 1 \\
1 &amp; 0 &amp; 1 \\
1 &amp; 1 &amp; 0
\end{pmatrix}"/></p>
</div><p>where the rows correspond to the first three, second three, and third
three sets of numbers, respectively. When lattice parameters of unit
cell are the column vectors of <img class="math" src="_images/math/b3da4e758165f6ef26ea31cd90aa4bb2fbd57852.png" alt="\mathbf{a}_\mathrm{u}"/>,
<img class="math" src="_images/math/1413ad461b1aa17d57bf4c458a1f286643e5e50f.png" alt="\mathbf{b}_\mathrm{u}"/>, and <img class="math" src="_images/math/a0273596f3e79f38512ca0a60f69cc7a99a8f43f.png" alt="\mathbf{c}_\mathrm{u}"/>,
those of supercell, <img class="math" src="_images/math/5a3081ef3ed7b99083f1dbeaac0c75f368a2fb85.png" alt="\mathbf{a}_\mathrm{s}"/>,
<img class="math" src="_images/math/a454cca58ead035bdbdfad251eda86d17a8fc5bf.png" alt="\mathbf{b}_\mathrm{s}"/>, <img class="math" src="_images/math/0298b49b4e11950a7d7fb75b0640a25264c63428.png" alt="\mathbf{c}_\mathrm{s}"/>, are
determined by,</p>
<div class="math">
<p><img src="_images/math/aef849e5e686975b6970503cfacaa2183ea9d66d.png" alt="( \mathbf{a}_\mathrm{s} \; \mathbf{b}_\mathrm{s} \; \mathbf{c}_\mathrm{s} )
=  ( \mathbf{a}_\mathrm{u} \; \mathbf{b}_\mathrm{u} \;
\mathbf{c}_\mathrm{u} ) M_\mathrm{s}"/></p>
</div><p>Be careful that the axes in <code class="docutils literal"><span class="pre">POSCAR</span></code> is defined by three row
vectors, i.e., <img class="math" src="_images/math/7c67257dd8e20170c54e8bf5ba21d60613ef9d52.png" alt="( \mathbf{a}_\mathrm{u} \; \mathbf{b}_\mathrm{u}
\; \mathbf{c}_\mathrm{u} )^T"/>.</p>
</div>
<div class="section" id="primitive-axis">
<span id="primitive-axis-tag"></span><h3><code class="docutils literal"><span class="pre">PRIMITIVE_AXIS</span></code><a class="headerlink" href="#primitive-axis" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">PRIMITIVE_AXIS</span> <span class="o">=</span> <span class="mf">0.0</span> <span class="mf">0.5</span> <span class="mf">0.5</span>  <span class="mf">0.5</span> <span class="mf">0.0</span> <span class="mf">0.5</span>  <span class="mf">0.5</span> <span class="mf">0.5</span> <span class="mf">0.0</span>
</pre></div>
</div>
<p>Likewise,</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">PRIMITIVE_AXIS</span> <span class="o">=</span> <span class="mi">0</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span>  <span class="mi">1</span><span class="o">/</span><span class="mi">2</span> <span class="mi">0</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span>  <span class="mi">1</span><span class="o">/</span><span class="mi">2</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span> <span class="mi">0</span>
</pre></div>
</div>
<p>The primitive cell for building the dynamical matrix is created by
multiplying primitive-axis matrix <img class="math" src="_images/math/ed5eb22a8204dd3e7e6237395da7ec7597f29649.png" alt="M_\mathrm{p}"/>. Let the matrix
as,</p>
<div class="math">
<p><img src="_images/math/caae48609c859da79fee1f3cad4bb668c0308f58.png" alt="M_\mathrm{p} = \begin{pmatrix}
0.0 &amp; 0.5 &amp; 0.5 \\
0.5 &amp; 0.0 &amp; 0.5 \\
0.5 &amp; 0.5 &amp; 0.0
\end{pmatrix}"/></p>
</div><p>where the rows correspond to the first three, second three, and
third three sets of numbers, respectively.</p>
<p>When lattice parameters of unit cell (set by <code class="docutils literal"><span class="pre">POSCAR</span></code>) are the
column vectors of <img class="math" src="_images/math/b3da4e758165f6ef26ea31cd90aa4bb2fbd57852.png" alt="\mathbf{a}_\mathrm{u}"/>,
<img class="math" src="_images/math/1413ad461b1aa17d57bf4c458a1f286643e5e50f.png" alt="\mathbf{b}_\mathrm{u}"/>, and <img class="math" src="_images/math/a0273596f3e79f38512ca0a60f69cc7a99a8f43f.png" alt="\mathbf{c}_\mathrm{u}"/>,
those of supercell, <img class="math" src="_images/math/5954dc42d29df3a300246e8f86ff6f2b8a276abf.png" alt="\mathbf{a}_\mathrm{p}"/>,
<img class="math" src="_images/math/2a11ea14b938f167771e6645622afa0832f6dd1c.png" alt="\mathbf{b}_\mathrm{p}"/>, <img class="math" src="_images/math/a3969b8079498f063e84f8a36ef1de8cded0f198.png" alt="\mathbf{c}_\mathrm{p}"/>, are
determined by,</p>
<div class="math">
<p><img src="_images/math/69c637cecf4eb06c05f9e38a8832942b497ebfe9.png" alt="( \mathbf{a}_\mathrm{p} \; \mathbf{b}_\mathrm{p} \; \mathbf{c}_\mathrm{p} )
=  ( \mathbf{a}_\mathrm{u} \; \mathbf{b}_\mathrm{u} \;
\mathbf{c}_\mathrm{u} ) M_\mathrm{p}"/></p>
</div><p>Be careful that the axes in <code class="docutils literal"><span class="pre">POSCAR</span></code> is defined by three row
vectors, i.e., <img class="math" src="_images/math/7c67257dd8e20170c54e8bf5ba21d60613ef9d52.png" alt="( \mathbf{a}_\mathrm{u} \; \mathbf{b}_\mathrm{u}
\; \mathbf{c}_\mathrm{u} )^T"/>.</p>
</div>
<div class="section" id="atom-name">
<h3><code class="docutils literal"><span class="pre">ATOM_NAME</span></code><a class="headerlink" href="#atom-name" title="Permalink to this headline">¶</a></h3>
<p>Chemical symbols</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">ATOM_NAME</span> <span class="o">=</span> <span class="n">Si</span> <span class="n">O</span>
</pre></div>
</div>
<p>The number of chemical symbols have to be same as that of the numbers
in the sixth line of <code class="docutils literal"><span class="pre">POSCAR</span></code>.</p>
<p>Chemical symbols read by phonopy are overwritten by those written in
<code class="docutils literal"><span class="pre">POSCAR</span></code>. See <code class="docutils literal"><span class="pre">POSCAR</span></code> examples. In WIEN2k mode,
you don&#8217;t need to set this tag, i.e., chemical symbols are read from
the structure file.</p>
</div>
<div class="section" id="eigenvectors">
<h3><code class="docutils literal"><span class="pre">EIGENVECTORS</span></code><a class="headerlink" href="#eigenvectors" title="Permalink to this headline">¶</a></h3>
<p>When this tag is &#8216;.TRUE.&#8217;, eigenvectors are calculated. With <code class="docutils literal"><span class="pre">-p</span></code>
option, partial density of states are calculated.</p>
</div>
<div class="section" id="mass">
<span id="mass-tag"></span><h3><code class="docutils literal"><span class="pre">MASS</span></code><a class="headerlink" href="#mass" title="Permalink to this headline">¶</a></h3>
<p>This tag is not necessary to use usually, because atomic masses are
automatically set from the chemical symbols.</p>
<p>Atomic masses of a <strong>primitive cell</strong> are overwritten by the values
specified. The order of atoms in the primitive cell that is defined by
<code class="docutils literal"><span class="pre">PRIMITIVE_AXIS</span></code> tag can be shown using <code class="docutils literal"><span class="pre">-v</span></code> option. It must be
noted that this tag does not affect to the symmetry search.</p>
<p>For example, when there are six atoms in a primitive cell, <code class="docutils literal"><span class="pre">MASS</span></code> is
set as follows</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">MASS</span> <span class="o">=</span>   <span class="mf">28.085</span> <span class="mf">28.085</span> <span class="mf">16.000</span> <span class="mf">16.000</span> <span class="mf">16.000</span> <span class="mf">16.000</span>
</pre></div>
</div>
</div>
<div class="section" id="magmom">
<span id="magmom-tag"></span><h3><code class="docutils literal"><span class="pre">MAGMOM</span></code><a class="headerlink" href="#magmom" title="Permalink to this headline">¶</a></h3>
<p>Symmetry of spin such as collinear magnetic moments is considered
using this tag. The number of values has to be equal to the number of
atoms in the unit cell, not the primitive cell or supercell. If this
tag is used with <code class="docutils literal"><span class="pre">-d</span></code> option (<code class="docutils literal"><span class="pre">CREATE_DISPLACEMENTS</span></code> tag),
<code class="docutils literal"><span class="pre">MAGMOM</span></code> file is created. This file contains the <code class="docutils literal"><span class="pre">MAGMOM</span></code>
information of the supercell used for VASP. Unlike <code class="docutils literal"><span class="pre">MAGMOM</span></code> in VASP,
<code class="docutils literal"><span class="pre">*</span></code> can not be used, i.e., all the values (the same number of times
to the number of atoms in unit cell) have to be explicitly written.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">MAGMOM</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="mf">1.0</span> <span class="o">-</span><span class="mf">1.0</span> <span class="o">-</span><span class="mf">1.0</span>
</pre></div>
</div>
</div>
<div class="section" id="cell-filename">
<span id="dimension-tag"></span><h3><code class="docutils literal"><span class="pre">CELL_FILENAME</span></code><a class="headerlink" href="#cell-filename" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">CELL_FILENAME</span> <span class="o">=</span> <span class="n">UPOSCAR</span>
</pre></div>
</div>
<p>See <a class="reference internal" href="command-options.html#cell-filename-option"><span class="std std-ref">Input cell</span></a>.</p>
</div>
</div>
<div class="section" id="unit-conversion-factor">
<h2>Unit conversion factor<a class="headerlink" href="#unit-conversion-factor" title="Permalink to this headline">¶</a></h2>
<div class="section" id="frequency-conversion-factor">
<span id="frequency-conversion-factor-tag"></span><h3><code class="docutils literal"><span class="pre">frequency_conversion_factor</span></code><a class="headerlink" href="#frequency-conversion-factor" title="Permalink to this headline">¶</a></h3>
<p>Unit conversion factor of frequency from input values to your favorite
unit is specified. The default value is that to convert to THz. The
default conversion factors for <code class="docutils literal"><span class="pre">wien2k</span></code>, <code class="docutils literal"><span class="pre">abinit</span></code>, <code class="docutils literal"><span class="pre">pwscf</span></code>, and
<code class="docutils literal"><span class="pre">elk</span></code> are 3.44595, 21.49068, 108.9708, and 154.1079
respectively. These are determined following the physical unit systems
of the calculators. How to calcualte these conversion factors is
explained at <a class="reference internal" href="theory.html#physical-unit-conversion"><span class="std std-ref">About physical unit conversion</span></a>.</p>
<p>When calculating thermal property, the factor to THz is
required. Otherwise the calculated thermal properties have wrong
units. In the case of band structure plot, any factor can be used,
where the frequency is simply shown in the unit you specified.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">FREQUENCY_CONVERSION_FACTOR</span> <span class="o">=</span> <span class="mf">521.471</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="displacement-creation-tags">
<h2>Displacement creation tags<a class="headerlink" href="#displacement-creation-tags" title="Permalink to this headline">¶</a></h2>
<div class="section" id="create-displacements">
<h3><code class="docutils literal"><span class="pre">CREATE_DISPLACEMENTS</span></code><a class="headerlink" href="#create-displacements" title="Permalink to this headline">¶</a></h3>
<p>Supercells with displacements are created.  This tag is used as the
post process of phonon calculation.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">CREATE_DISPLACEMENTS</span> <span class="o">=</span> <span class="o">.</span><span class="n">TRUE</span><span class="o">.</span>
<span class="n">DIM</span> <span class="o">=</span> <span class="mi">2</span> <span class="mi">2</span> <span class="mi">2</span>
</pre></div>
</div>
</div>
<div class="section" id="displacement-distance">
<span id="displacement-distance-tag"></span><h3><code class="docutils literal"><span class="pre">DISPLACEMENT_DISTANCE</span></code><a class="headerlink" href="#displacement-distance" title="Permalink to this headline">¶</a></h3>
<p>Finite atomic displacement distance is set as specified value when
creating supercells with displacements. The default displacement
amplitude is 0.01 <img class="math" src="_images/math/cc7e3efb47bfc638a0117dab0201e2df22f31d5e.png" alt="\textrm{\AA}"/>, but when the <code class="docutils literal"><span class="pre">wien2k</span></code> or
<code class="docutils literal"><span class="pre">abinit</span></code> option is specified, the default value is 0.02 Bohr.</p>
</div>
<div class="section" id="diag">
<h3><code class="docutils literal"><span class="pre">DIAG</span></code><a class="headerlink" href="#diag" title="Permalink to this headline">¶</a></h3>
<p>When this tag is set <code class="docutils literal"><span class="pre">.FALSE.</span></code>, displacements in diagonal directions
are not searched, i.e. all the displacements are along the lattice
vectors. <code class="docutils literal"><span class="pre">DIAG</span> <span class="pre">=</span> <span class="pre">.FALSE.</span></code> is recommended if one of the lattice
parameter of your supercell is much longer or much shorter than the
other lattice parameters.</p>
</div>
<div class="section" id="pm">
<h3><code class="docutils literal"><span class="pre">PM</span></code><a class="headerlink" href="#pm" title="Permalink to this headline">¶</a></h3>
<p>This tag specified how displacements are found. When <code class="docutils literal"><span class="pre">PM</span> <span class="pre">=</span> <span class="pre">.FALSE.</span></code>,
least displacements that can calculate force constants are found. This
may cause less accurate result. When <code class="docutils literal"><span class="pre">PM</span> <span class="pre">=</span> <span class="pre">.TRUE.</span></code>, all the
displacements that are opposite to the least displacements are found.
The default setting is <code class="docutils literal"><span class="pre">PM</span> <span class="pre">=</span> <span class="pre">AUTO</span></code>. Plus-minus displacements are
considered with this tag. If the plus and minus displacements are
symmetrically equivalent, only the plus displacement is found. This
may be in between <code class="docutils literal"><span class="pre">.FALSE.</span></code> and <code class="docutils literal"><span class="pre">.TRUE.</span></code>. You can check how it
works to see the file <code class="docutils literal"><span class="pre">DISP</span></code> where displacement directions on atoms
are written.</p>
</div>
</div>
<div class="section" id="band-structure-tags">
<span id="band-structure-related-tags"></span><h2>Band structure tags<a class="headerlink" href="#band-structure-tags" title="Permalink to this headline">¶</a></h2>
<div class="section" id="band-band-points">
<h3><code class="docutils literal"><span class="pre">BAND</span></code>, <code class="docutils literal"><span class="pre">BAND_POINTS</span></code><a class="headerlink" href="#band-band-points" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal"><span class="pre">BAND</span></code> gives sampling band paths. The reciprocal points are
specified in reduced coordinates. The given points are connected for
defining band paths. When comma <code class="docutils literal"><span class="pre">,</span></code> is inserted between the points,
the paths are disconnected.</p>
<p><code class="docutils literal"><span class="pre">BAND_POINTS</span></code> gives the number of sampling points including the path
ends. The default value is <code class="docutils literal"><span class="pre">BAND_POINTS</span> <span class="pre">=</span> <span class="pre">51</span></code>.</p>
<p>An example of three paths, (0,0,0) to (1/2,0,1/2), (1/2,1/2,1) to
(0,0,0), and (0,0,0) to (1/2,1/2,1/2), with 101 sampling points of
each path are as follows:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">BAND</span> <span class="o">=</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span>  <span class="mi">1</span><span class="o">/</span><span class="mi">2</span> <span class="mi">0</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span>  <span class="mi">1</span><span class="o">/</span><span class="mi">2</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span> <span class="mi">1</span>  <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span>   <span class="mi">1</span><span class="o">/</span><span class="mi">2</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span>
<span class="n">BAND_POINTS</span> <span class="o">=</span> <span class="mi">101</span>
</pre></div>
</div>
</div>
<div class="section" id="band-labels">
<span id="band-labels-tag"></span><h3><code class="docutils literal"><span class="pre">BAND_LABELS</span></code><a class="headerlink" href="#band-labels" title="Permalink to this headline">¶</a></h3>
<p>Labels specified are depicted in band structure plot at the points of
band segments. The number of labels has to correspond to the
number of band paths specified by <code class="docutils literal"><span class="pre">BAND</span></code> plus one.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">BAND</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span> <span class="mi">0</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span>   <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span>   <span class="mi">1</span><span class="o">/</span><span class="mi">2</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span>
<span class="n">BAND_LABELS</span> <span class="o">=</span> <span class="n">X</span> \<span class="n">Gamma</span> <span class="n">L</span>
</pre></div>
</div>
<p><a class="reference internal" href="_images/band-labels.png"><img alt="bandlabels" src="_images/band-labels.png" style="width: 406.0px; height: 306.0px;" /></a></p>
<p>The colors of curves are automatically determined by matplotlib. The
same color in a band segment shows the same kind of band. Between
different band segments, the correspondence of colors doesn&#8217;t mean
anything.</p>
</div>
<div class="section" id="band-connection">
<span id="band-connection-tag"></span><h3><code class="docutils literal"><span class="pre">BAND_CONNECTION</span></code><a class="headerlink" href="#band-connection" title="Permalink to this headline">¶</a></h3>
<p>With this option, band connections are estimated from eigenvectors and
band structure is drawn considering band crossings. In sensitive
cases, to obtain better band connections, it requires to increase
number of points calculated in band segments by the <code class="docutils literal"><span class="pre">BAND_POINTS</span></code> tag.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">BAND</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span> <span class="mi">0</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span>   <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span>   <span class="mi">1</span><span class="o">/</span><span class="mi">2</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span>
<span class="n">BAND_POINTS</span> <span class="o">=</span> <span class="mi">101</span>
<span class="n">BAND_CONNECTION</span> <span class="o">=</span> <span class="o">.</span><span class="n">TRUE</span><span class="o">.</span>
</pre></div>
</div>
<p><a class="reference internal" href="_images/band-connection.png"><img alt="bandconnection" src="_images/band-connection.png" style="width: 406.0px; height: 306.0px;" /></a></p>
</div>
</div>
<div class="section" id="mesh-sampling-tags">
<span id="id2"></span><h2>Mesh sampling tags<a class="headerlink" href="#mesh-sampling-tags" title="Permalink to this headline">¶</a></h2>
<p>Mesh sampling tags are used commonly for calculations of thermal
properties and density of states.</p>
<div class="section" id="mp-mesh">
<span id="mp-tag"></span><h3><code class="docutils literal"><span class="pre">MP</span></code>, <code class="docutils literal"><span class="pre">MESH</span></code><a class="headerlink" href="#mp-mesh" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal"><span class="pre">MP</span></code> numbers give uniform meshes in each axis. As the default
behavior, the center of mesh is determined by the Monkhorst-Pack
scheme, i.e., for odd number, a point comes to the center, and for
even number, the center is shifted half in the distance between
neighboring mesh points.</p>
<p>Examples of an even mesh with <img class="math" src="_images/math/85011adca50d3725af2e048eeb9ec7b02ccdd401.png" alt="\Gamma"/> center in two ways,</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">MP</span> <span class="o">=</span> <span class="mi">8</span> <span class="mi">8</span> <span class="mi">8</span>
<span class="n">GAMMA_CENTER</span> <span class="o">=</span> <span class="o">.</span><span class="n">TRUE</span><span class="o">.</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">MP</span> <span class="o">=</span> <span class="mi">8</span> <span class="mi">8</span> <span class="mi">8</span>
<span class="n">MP_SHIFT</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span>
</pre></div>
</div>
</div>
<div class="section" id="mp-shift">
<h3><code class="docutils literal"><span class="pre">MP_SHIFT</span></code><a class="headerlink" href="#mp-shift" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal"><span class="pre">MP_SHIFT</span></code> gives the shifts in direction along the corresponding
reciprocal axes (<img class="math" src="_images/math/f5794f4da3d30691ddf257b9e2f277fc5820f618.png" alt="a^*"/>, <img class="math" src="_images/math/324809b3ab6dc33e198cf54d34924d693adde57f.png" alt="b^*"/>, <img class="math" src="_images/math/eef50c8001339d908f076abcacca512054f8f1b8.png" alt="c^*"/>). 0 or 1/2
(0.5) can be used as these values. 1/2 means the half mesh shift with
respect to neighboring grid points in each direction.</p>
</div>
<div class="section" id="gamma-center">
<h3><code class="docutils literal"><span class="pre">GAMMA_CENTER</span></code><a class="headerlink" href="#gamma-center" title="Permalink to this headline">¶</a></h3>
<p>Instead of employing the Monkhorst-Pack scheme for the mesh sampling,
<img class="math" src="_images/math/85011adca50d3725af2e048eeb9ec7b02ccdd401.png" alt="\Gamma"/> center mesh is used. The default value is <code class="docutils literal"><span class="pre">.FALSE.</span></code>.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">GAMMA_CENTER</span> <span class="o">=</span> <span class="o">.</span><span class="n">TRUE</span><span class="o">.</span>
</pre></div>
</div>
</div>
<div class="section" id="write-mesh">
<span id="write-mesh-tag"></span><h3><code class="docutils literal"><span class="pre">WRITE_MESH</span></code><a class="headerlink" href="#write-mesh" title="Permalink to this headline">¶</a></h3>
<p>With a dense mesh, with eigenvectors, without mesh symmetry, sometimes
its output file <code class="docutils literal"><span class="pre">mesh.yaml</span></code> or <code class="docutils literal"><span class="pre">mesh.hdf5</span></code> can be huge. However
when those files are not needed, e.g., in (P)DOS calculation,
<code class="docutils literal"><span class="pre">WRITE_MESH</span> <span class="pre">=</span> <span class="pre">.FALSE.</span></code> can disable to write out those files. With
(P)DOS calculation, DOS output files are obtained even with
<code class="docutils literal"><span class="pre">WRITE_MESH</span> <span class="pre">=</span> <span class="pre">.FALSE.</span></code>. The default setting is <code class="docutils literal"><span class="pre">.TRUE.</span></code>.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">WRITE_MESH</span> <span class="o">=</span> <span class="o">.</span><span class="n">FALSE</span><span class="o">.</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="density-of-states-dos-tags">
<span id="dos-related-tags"></span><h2>Density of states (DOS) tags<a class="headerlink" href="#density-of-states-dos-tags" title="Permalink to this headline">¶</a></h2>
<p>Density of states (DOS) is calcualted either with smearing method
(default) or tetrahedron method. The physical unit of horizontal axis
is that of frequency that the user employs, e.g., THz, and that of
vertical axis is {no. of states}/({unit cell} x {unit of the
horizontal axis}). If the DOS is integrated over the frequency range,
it will be <img class="math" src="_images/math/303402c838902cc79f9bc2e4043c2ec27833d469.png" alt="3N_\mathrm{a}"/> states, where <img class="math" src="_images/math/5477894f53c543b441eb8e2091a4ca80e4124300.png" alt="N_\mathrm{a}"/> is
the number of atoms in the unit cell.</p>
<div class="section" id="dos">
<h3><code class="docutils literal"><span class="pre">DOS</span></code><a class="headerlink" href="#dos" title="Permalink to this headline">¶</a></h3>
<p>This tag enables to calculate DOS. This tag is automatically set when
<code class="docutils literal"><span class="pre">PDOS</span></code> tag or <code class="docutils literal"><span class="pre">-p</span></code> option.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">DOS</span> <span class="o">=</span> <span class="o">.</span><span class="n">TRUE</span><span class="o">.</span>
</pre></div>
</div>
</div>
<div class="section" id="dos-range">
<h3><code class="docutils literal"><span class="pre">DOS_RANGE</span></code><a class="headerlink" href="#dos-range" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">DOS_RANGE</span> <span class="o">=</span> <span class="mi">0</span> <span class="mi">40</span> <span class="mf">0.1</span>
</pre></div>
</div>
<p>Total and partial density of states are drawn with some
parameters. The example makes DOS be calculated from frequency=0 to 40
with 0.1 pitch.</p>
</div>
<div class="section" id="pdos">
<h3><code class="docutils literal"><span class="pre">PDOS</span></code><a class="headerlink" href="#pdos" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">PDOS</span> <span class="o">=</span> <span class="mi">1</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span> <span class="mi">4</span> <span class="mi">5</span> <span class="mi">6</span>
</pre></div>
</div>
<p>By setting this tag, <code class="docutils literal"><span class="pre">EIGENVECTORS</span> <span class="pre">=</span> <span class="pre">.TRUE.</span></code> and <code class="docutils literal"><span class="pre">MESH_SYMMETRY</span> <span class="pre">=</span>
<span class="pre">.FALSE.</span></code> are automatically set.  <code class="docutils literal"><span class="pre">PDOS</span></code> tag controls how elements
of eigenvectors are added. Each value gives the atom index in
primitive cell. <code class="docutils literal"><span class="pre">,</span></code> separates the atom sets. Therefore in the
example, atom 1 and 2 are summarized as one curve and atom 3, 4, 5,
and, 6 are summarized as the other curve.</p>
<p>The projection is applied along arbitrary direction using
<code class="docutils literal"><span class="pre">PROJECTION_DIRECTION</span></code> tag.</p>
</div>
<div class="section" id="projection-direction">
<span id="projection-direction-tag"></span><h3><code class="docutils literal"><span class="pre">PROJECTION_DIRECTION</span></code><a class="headerlink" href="#projection-direction" title="Permalink to this headline">¶</a></h3>
<p>Eigenvectors are projected along the direction specified by this tag.
Projection direction is specified in reduced coordinates, i.e., with
respect to <em>a</em>, <em>b</em>, <em>c</em> axes.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">PDOS</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span>
<span class="n">PROJECTION_DIRECTION</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span>
</pre></div>
</div>
</div>
<div class="section" id="xyz-projection">
<span id="xyz-projection-tag"></span><h3><code class="docutils literal"><span class="pre">XYZ_PROJECTION</span></code><a class="headerlink" href="#xyz-projection" title="Permalink to this headline">¶</a></h3>
<p>PDOS is calculated using eigenvectors projected along x, y, and z
Cartesian coordinates. The format of output file <code class="docutils literal"><span class="pre">partial_dos.dat</span></code>
becomes different when using this tag, where phonon-mode-frequency and
x, y, and z components of PDOS are written out in the order:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">frequency</span> <span class="n">atom1_x</span> <span class="n">atom1_y</span> <span class="n">atom1_z</span> <span class="n">atom2_x</span> <span class="n">atom2_y</span> <span class="n">atom2_z</span> <span class="o">...</span>
</pre></div>
</div>
<p>With <code class="docutils literal"><span class="pre">-p</span></code> option, three curves are drawn. These correspond to
sums of all projections to x, sums of all projections to y, and sums
of all projections to z composents of eigenvectors, respectively.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">XYZ_PROJECTION</span> <span class="o">=</span> <span class="o">.</span><span class="n">TRUE</span><span class="o">.</span>
</pre></div>
</div>
</div>
<div class="section" id="sigma">
<span id="sigma-tag"></span><h3><code class="docutils literal"><span class="pre">SIGMA</span></code><a class="headerlink" href="#sigma" title="Permalink to this headline">¶</a></h3>
<p>This tag specifies the smearing width. The unit is same as that used
for phonon frequency. The default value is the value given by the
difference of maximum and minimum frequencies divided by 100.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">SIGMA</span> <span class="o">=</span> <span class="mf">0.1</span>
</pre></div>
</div>
</div>
<div class="section" id="tetrahedron">
<span id="debye-model-tag"></span><h3><code class="docutils literal"><span class="pre">TETRAHEDRON</span></code><a class="headerlink" href="#tetrahedron" title="Permalink to this headline">¶</a></h3>
<p>Tetrahedron method is used instead of smearing method.</p>
</div>
<div class="section" id="debye-model">
<h3><code class="docutils literal"><span class="pre">DEBYE_MODEL</span></code><a class="headerlink" href="#debye-model" title="Permalink to this headline">¶</a></h3>
<p>By setting <code class="docutils literal"><span class="pre">.TRUE.</span></code>, DOS at lower phonon frequencies are fit to a
Debye model. By default, the DOS from 0 to 1/4 of the maximum phonon
frequencies are used for the fitting. The function used to the fitting
is <img class="math" src="_images/math/21cfc212472ef68b0adf2fecdebc64ec323ea55e.png" alt="D(\omega)=a\omega^2"/> where <img class="math" src="_images/math/7dd2a5ea01fbd72ad2a58dd1f3d6ecbfde6208a1.png" alt="a"/> is the parameter and
the Debye frequency is <img class="math" src="_images/math/38b7b6a9b8ad6b6ee8842e88d9c354ac2798048e.png" alt="(9N/a)^{1/3}"/> where <img class="math" src="_images/math/75e27f04188974063be3230dca208cd495b77ce1.png" alt="N"/> is the
number of atoms in unit cell. Users have to unserstand that this is
<strong>not</strong> a unique way to determine Debye frequency. Debye frequency is
dependent on how to parameterize it.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">DEBYE_MODEL</span> <span class="o">=</span> <span class="o">.</span><span class="n">TRUE</span><span class="o">.</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="thermal-properties-related-tags">
<span id="thermal-properties-tag"></span><h2>Thermal properties related tags<a class="headerlink" href="#thermal-properties-related-tags" title="Permalink to this headline">¶</a></h2>
<div class="section" id="tprop-tmin-tmax-tstep">
<h3><code class="docutils literal"><span class="pre">TPROP</span></code>, <code class="docutils literal"><span class="pre">TMIN</span></code>, <code class="docutils literal"><span class="pre">TMAX</span></code>, <code class="docutils literal"><span class="pre">TSTEP</span></code><a class="headerlink" href="#tprop-tmin-tmax-tstep" title="Permalink to this headline">¶</a></h3>
<p>Thermal properties, free energy, heat capacity, and entropy, are
calculated from their statistical thermodynamic expressions (see
<a class="reference internal" href="theory.html#thermal-properties-expressions"><span class="std std-ref">Thermodynamic properties</span></a>). Thermal properties are
calculated from phonon frequencies on a sampling mesh in the
reciprocal space. Therefore These tags are used with <code class="docutils literal"><span class="pre">MP</span></code> tag and
their convergence with respect to the sampling mesh has to be
checked. Usually this calculation is not computationally demanding, so
the convergence is easily achieved with increasing the density of the
sampling mesh. <code class="docutils literal"><span class="pre">-p</span></code> option can be used together to plot the thermal
propreties. Phonon frequencies have to be calculated in THz. Therefore
unit conversion factor to THz may be specified using
<code class="docutils literal"><span class="pre">FREQUENCY_CONVERSION_FACTOR</span></code> tag. The calculated values are
written into <code class="docutils literal"><span class="pre">thermal_properties.yaml</span></code>. The unit systems of free
energy, heat capacity, and entropy are kJ/mol, J/K/mol, and J/K/mol,
respectively, where 1 mol means <img class="math" src="_images/math/23b105d808058931d6f8bc7bfc042bce29601629.png" alt="\mathrm{N_A}\times"/> your input
unit cell (not formula unit), i.e. you have to divide the value by
number of formula unit in your unit cell by yourself. For example, in
MgO (conventional) unit cell, if you want to compare with experimental
results in kJ/mol, you have to divide the phonopy output by four.</p>
<p><code class="docutils literal"><span class="pre">TMIN</span></code>, <code class="docutils literal"><span class="pre">TMAX</span></code>, and <code class="docutils literal"><span class="pre">TSTEP</span></code> tags are used to specify the
temperature range to be calculated. The default values of them are 0,
1000, and 10, respectively.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">TPROP</span> <span class="o">=</span> <span class="o">.</span><span class="n">TRUE</span><span class="o">.</span>
<span class="n">TMAX</span> <span class="o">=</span> <span class="mi">2000</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="thermal-displacements">
<span id="thermal-atomic-displacements-tags"></span><h2>Thermal displacements<a class="headerlink" href="#thermal-displacements" title="Permalink to this headline">¶</a></h2>
<div class="section" id="tdisp-tmax-tmin-tstep">
<span id="thermal-displacements-tag"></span><h3><code class="docutils literal"><span class="pre">TDISP</span></code>, <code class="docutils literal"><span class="pre">TMAX</span></code>, <code class="docutils literal"><span class="pre">TMIN</span></code>, <code class="docutils literal"><span class="pre">TSTEP</span></code><a class="headerlink" href="#tdisp-tmax-tmin-tstep" title="Permalink to this headline">¶</a></h3>
<p>Mean square displacements projected to Cartesian axes as a function of
temperature are calculated from the number of phonon excitations. The
usages of <code class="docutils literal"><span class="pre">TMAX</span></code>, <code class="docutils literal"><span class="pre">TMIN</span></code>, <code class="docutils literal"><span class="pre">TSTEP</span></code> tags are same as those in
<a class="reference internal" href="#thermal-properties-tag"><span class="std std-ref">thermal properties tags</span></a>. The result is
writen into <code class="docutils literal"><span class="pre">thermal_displacements.yaml</span></code>. See the detail of the
method, <a class="reference internal" href="thermal-displacement.html#thermal-displacement"><span class="std std-ref">Mean square displacement</span></a>.</p>
<p>The projection is applied along arbitrary direction using
<code class="docutils literal"><span class="pre">PROJECTION_DIRECTION</span></code> tag (<a class="reference internal" href="#projection-direction-tag"><span class="std std-ref">PROJECTION_DIRECTION</span></a>).</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">TDISP</span> <span class="o">=</span> <span class="o">.</span><span class="n">TRUE</span><span class="o">.</span>
<span class="n">PROJECTION_DIRECTION</span> <span class="o">=</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">0</span>
</pre></div>
</div>
</div>
<div class="section" id="tdispmat-tmax-tmin-tstep">
<span id="thermal-displacement-matrices-tag"></span><h3><code class="docutils literal"><span class="pre">TDISPMAT</span></code>, <code class="docutils literal"><span class="pre">TMAX</span></code>, <code class="docutils literal"><span class="pre">TMIN</span></code>, <code class="docutils literal"><span class="pre">TSTEP</span></code><a class="headerlink" href="#tdispmat-tmax-tmin-tstep" title="Permalink to this headline">¶</a></h3>
<p>Mean square displacement matricies are calculated. The difinition is
shown at <a class="reference internal" href="thermal-displacement.html#thermal-displacement"><span class="std std-ref">Mean square displacement</span></a>. The result is
writen into <code class="docutils literal"><span class="pre">thermal_displacement_matrices.yaml</span></code> where six matrix
elements are given in the order of xx, yy, zz, yz, xz, xy.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">TDISPMAT</span> <span class="o">=</span> <span class="o">.</span><span class="n">TRUE</span><span class="o">.</span>
</pre></div>
</div>
</div>
<div class="section" id="cutoff-frequency">
<h3><code class="docutils literal"><span class="pre">CUTOFF_FREQUENCY</span></code><a class="headerlink" href="#cutoff-frequency" title="Permalink to this headline">¶</a></h3>
<p>Frequencies lower than this cutoff frequency are not used to calculate
thermal displacements.</p>
</div>
</div>
<div class="section" id="specific-q-points">
<h2>Specific q-points<a class="headerlink" href="#specific-q-points" title="Permalink to this headline">¶</a></h2>
<div class="section" id="qpoints">
<span id="qpoints-tag"></span><h3><code class="docutils literal"><span class="pre">QPOINTS</span></code><a class="headerlink" href="#qpoints" title="Permalink to this headline">¶</a></h3>
<p>When <code class="docutils literal"><span class="pre">QPOINTS</span> <span class="pre">=</span> <span class="pre">.TRUE.</span></code>, <code class="docutils literal"><span class="pre">QPOINTS</span></code> file in your working directory
is read, and the q-points written in this file are calculated.</p>
</div>
<div class="section" id="writedm">
<span id="writedm-tag"></span><h3><code class="docutils literal"><span class="pre">WRITEDM</span></code><a class="headerlink" href="#writedm" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">WRITEDM</span> <span class="o">=</span> <span class="o">.</span><span class="n">TRUE</span><span class="o">.</span>
</pre></div>
</div>
<p>Dynamical matrices <img class="math" src="_images/math/9dfa31437b58c0473299320aa638151cd88cf61b.png" alt="D"/> are written into <code class="docutils literal"><span class="pre">qpoints.yaml</span></code>
in the following <img class="math" src="_images/math/5847e753f86bfd982384cb8a040ef59d28b5679d.png" alt="6N\times3N"/> format, where <em>N</em> is the number of atoms in
the primitive cell.</p>
<p>The physical unit of dynamical matrix is <code class="docutils literal"><span class="pre">[unit</span> <span class="pre">of</span> <span class="pre">force]</span> <span class="pre">/</span> <span class="pre">([unit</span> <span class="pre">of</span>
<span class="pre">displacement]</span> <span class="pre">*</span> <span class="pre">[unit</span> <span class="pre">of</span> <span class="pre">mass])</span></code>, i.e., square of the unit of phonon
frequency before multiplying the unit conversion factor
(see <a class="reference internal" href="#frequency-conversion-factor-tag"><span class="std std-ref">frequency_conversion_factor</span></a>).</p>
<div class="math">
<p><img src="_images/math/e50f4616cc4a93d66c058d7e7088ab45e923d842.png" alt="D =
\begin{pmatrix}
D_{11} &amp; D_{12} &amp; D_{13} &amp; \\
D_{21} &amp; D_{22} &amp; D_{23} &amp; \cdots \\
D_{31} &amp; D_{32} &amp; D_{33} &amp; \\
&amp; \vdots &amp;  &amp; \\
\end{pmatrix},"/></p>
</div><p>and <img class="math" src="_images/math/c413fea74f291cd36029018375a89834c7b1f7d0.png" alt="D_{jj'}"/> is</p>
<div class="math">
<p><img src="_images/math/29509e5ce122f5ae4454252844a766c5506c2dbb.png" alt="D_{jj'} =
\begin{pmatrix}
Re(D_{jj'}^{xx}) &amp; Im(D_{jj'}^{xx}) &amp; Re(D_{jj'}^{xy}) &amp;
Im(D_{jj'}^{xy}) &amp; Re(D_{jj'}^{xz}) &amp; Im(D_{jj'}^{xz}) \\
Re(D_{jj'}^{yx}) &amp; Im(D_{jj'}^{yx}) &amp; Re(D_{jj'}^{yy}) &amp;
Im(D_{jj'}^{yy}) &amp; Re(D_{jj'}^{yz}) &amp; Im(D_{jj'}^{yz}) \\
Re(D_{jj'}^{zx}) &amp; Im(D_{jj'}^{zx}) &amp; Re(D_{jj'}^{zy}) &amp;
Im(D_{jj'}^{zy}) &amp; Re(D_{jj'}^{zz}) &amp; Im(D_{jj'}^{zz}) \\
\end{pmatrix},"/></p>
</div><p>where <em>j</em> and <em>j&#8217;</em> are the atomic indices in the primitive cell. The
phonon frequencies may be recovered from <code class="docutils literal"><span class="pre">qpoints.yaml</span></code> by writing a
simple python script. For example, <code class="docutils literal"><span class="pre">qpoints.yaml</span></code> is obtained for
NaCl at <img class="math" src="_images/math/548d8dd6dd7d62e5b5ce61a5527c3c1b67e0df5a.png" alt="q=(0, 0.5, 0.5)"/> by</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">phonopy</span> <span class="o">--</span><span class="n">dim</span><span class="o">=</span><span class="s2">&quot;2 2 2&quot;</span> <span class="o">--</span><span class="n">pa</span><span class="o">=</span><span class="s2">&quot;0 1/2 1/2  1/2 0 1/2  1/2 1/2 0&quot;</span> <span class="o">--</span><span class="n">qpoints</span><span class="o">=</span><span class="s2">&quot;0 1/2 1/2&quot;</span> <span class="o">--</span><span class="n">writedm</span>
</pre></div>
</div>
<p>and the dynamical matrix may be used as</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env python</span>

<span class="kn">import</span> <span class="nn">yaml</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>

<span class="n">data</span> <span class="o">=</span> <span class="n">yaml</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="s2">&quot;qpoints.yaml&quot;</span><span class="p">))</span>
<span class="n">dynmat</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">dynmat_data</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;phonon&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;dynamical_matrix&#39;</span><span class="p">]</span>
<span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">dynmat_data</span><span class="p">:</span>
    <span class="n">vals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
    <span class="n">dynmat</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vals</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">vals</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="mi">1j</span><span class="p">)</span>
<span class="n">dynmat</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">dynmat</span><span class="p">)</span>

<span class="n">eigvals</span><span class="p">,</span> <span class="n">eigvecs</span><span class="p">,</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">eigh</span><span class="p">(</span><span class="n">dynmat</span><span class="p">)</span>
<span class="n">frequencies</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">eigvals</span><span class="o">.</span><span class="n">real</span><span class="p">))</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">sign</span><span class="p">(</span><span class="n">eigvals</span><span class="o">.</span><span class="n">real</span><span class="p">)</span>
<span class="n">conversion_factor_to_THz</span> <span class="o">=</span> <span class="mf">15.633302</span>
<span class="k">print</span> <span class="n">frequencies</span> <span class="o">*</span> <span class="n">conversion_factor_to_THz</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="non-analytical-term-correction">
<span id="nac-tag"></span><h2>Non-analytical term correction<a class="headerlink" href="#non-analytical-term-correction" title="Permalink to this headline">¶</a></h2>
<div class="section" id="nac">
<h3><code class="docutils literal"><span class="pre">NAC</span></code><a class="headerlink" href="#nac" title="Permalink to this headline">¶</a></h3>
<p>Non-analytical term correction is applied to dynamical
matrix. <code class="docutils literal"><span class="pre">BORN</span></code> file has to be prepared in the current directory. See
<a class="reference internal" href="input-files.html#born-file"><span class="std std-ref">BORN (optional)</span></a> and <a class="reference internal" href="theory.html#non-analytical-term-correction-theory"><span class="std std-ref">Non-analytical term correction</span></a>.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">NAC</span> <span class="o">=</span> <span class="o">.</span><span class="n">TRUE</span><span class="o">.</span>
</pre></div>
</div>
</div>
<div class="section" id="q-direction">
<h3><code class="docutils literal"><span class="pre">Q_DIRECTION</span></code><a class="headerlink" href="#q-direction" title="Permalink to this headline">¶</a></h3>
<p>This tag is used to activate NAC at
<img class="math" src="_images/math/39880e04d581edbff26ded5a5c24a2a5bded3b68.png" alt="\mathbf{q}\rightarrow\mathbf{0}"/>, i.e. practically
<img class="math" src="_images/math/85011adca50d3725af2e048eeb9ec7b02ccdd401.png" alt="\Gamma"/>-point. Away from <img class="math" src="_images/math/85011adca50d3725af2e048eeb9ec7b02ccdd401.png" alt="\Gamma"/>-point, this setting is
ignored and the specified <strong>q</strong>-point is used as the <strong>q</strong>-direction.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">MP</span> <span class="o">=</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span>
<span class="n">NAC</span> <span class="o">=</span> <span class="o">.</span><span class="n">TRUE</span><span class="o">.</span>
<span class="n">Q_DIRECTION</span> <span class="o">=</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">0</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="group-velocity">
<span id="group-velocity-tag"></span><h2>Group velocity<a class="headerlink" href="#group-velocity" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id3">
<h3><code class="docutils literal"><span class="pre">GROUP_VELOCITY</span></code><a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<p>Group velocities at q-points are calculated by using this tag. The
group velocities are written into a yaml file corresponding to the run
mode in Cartesian coordinates. The physical unit depends on physical
units of input files and frequency conversion factor, but if VASP and
the default settings (e.g., THz for phonon frequency) are simply used,
then the physical unit will be Angstrom THz.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">GROUP_VELOCITY</span> <span class="o">=</span> <span class="o">.</span><span class="n">TRUE</span><span class="o">.</span>
</pre></div>
</div>
<p>Technical details are shown at <a class="reference internal" href="group-velocity.html#group-velocity"><span class="std std-ref">Method</span></a>.</p>
</div>
<div class="section" id="gv-delta-q">
<h3><code class="docutils literal"><span class="pre">GV_DELTA_Q</span></code><a class="headerlink" href="#gv-delta-q" title="Permalink to this headline">¶</a></h3>
<p>The reciprocal distance used for finite difference method is
specified. The default value is 1e-4.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">GV_DELTA_Q</span> <span class="o">=</span> <span class="mf">0.01</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="symmetry">
<h2>Symmetry<a class="headerlink" href="#symmetry" title="Permalink to this headline">¶</a></h2>
<div class="section" id="symmetry-tag">
<span id="id4"></span><h3><code class="docutils literal"><span class="pre">SYMMETRY</span></code><a class="headerlink" href="#symmetry-tag" title="Permalink to this headline">¶</a></h3>
<p>P1 symmetry is enforced to the input unit cell by setting <code class="docutils literal"><span class="pre">SYMMETRY</span> <span class="pre">=</span> <span class="pre">.FALSE</span></code>.</p>
</div>
<div class="section" id="mesh-symmetry">
<span id="nomeshsym-tag"></span><h3><code class="docutils literal"><span class="pre">MESH_SYMMETRY</span></code><a class="headerlink" href="#mesh-symmetry" title="Permalink to this headline">¶</a></h3>
<p>Symmetry search on the reciprocal sampling mesh is disabled by setting
<code class="docutils literal"><span class="pre">MESH_SYMMETRY</span> <span class="pre">=</span> <span class="pre">.FALSE.</span></code>.</p>
</div>
<div class="section" id="fc-symmetry">
<span id="fc-symmetry-tag"></span><h3><code class="docutils literal"><span class="pre">FC_SYMMETRY</span></code><a class="headerlink" href="#fc-symmetry" title="Permalink to this headline">¶</a></h3>
<p>This tag is used to symmetrize force constants partly. The number of
iteration of the following set of symmetrization applied to force
constants is specified. The default value is 0. In the case of VASP,
this tag is usually unnecessary to be specified.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">FC_SYMMETRY</span> <span class="o">=</span> <span class="mi">1</span>
</pre></div>
</div>
<p>From the translation invariance condition,</p>
<div class="math">
<p><img src="_images/math/859da292a0166c63bf5996ad87564a56a6e256b2.png" alt="\sum_i \Phi_{ij}^{\alpha\beta} = 0, \;\;\text{for all $j$, $\alpha$, $\beta$},"/></p>
</div><p>where <em>i</em> and <em>j</em> are the atom indices, and <img class="math" src="_images/math/ad59b6e24a4a00ac621801f8d7513d68be654ab5.png" alt="\alpha"/> and
<img class="math" src="_images/math/8ce03f78ed945f2ef3dac87c8799b55b393527e7.png" alt="\beta"/> are the Catesian indices for atoms <em>i</em> and <em>j</em>,
respectively. Force constants are symmetric in each pair as</p>
<div class="math">
<p><img src="_images/math/15c631d53db4147bef304341d0ffb3279fca8fcf.png" alt="\Phi_{ij}^{\alpha\beta}
     = \frac{\partial^2 U}{\partial u_i^\alpha \partial u_j^\beta}
     = \frac{\partial^2 U}{\partial u_j^\beta \partial u_i^\alpha}
     = \Phi_{ji}^{\beta\alpha}"/></p>
</div><p>These symmetrizations break the symmetry conditions each other. Be
careful that the other symmetries of force constants, i.e., the
symmetry from crystal symmetry or rotational symmetry, are broken to
force applying <code class="docutils literal"><span class="pre">FC_SYMMETRY</span></code>.</p>
</div>
</div>
<div class="section" id="force-constants">
<span id="force-constants-tag"></span><h2>Force constants<a class="headerlink" href="#force-constants" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id5">
<h3><code class="docutils literal"><span class="pre">FORCE_CONSTANTS</span></code><a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">FORCE_CONSTANTS</span> <span class="o">=</span> <span class="n">READ</span>
</pre></div>
</div>
<p>There are three values to be set, which are <code class="docutils literal"><span class="pre">READ</span></code> and <code class="docutils literal"><span class="pre">WRITE</span></code>,
and <code class="docutils literal"><span class="pre">.FALSE.</span></code>. The default is <code class="docutils literal"><span class="pre">.FALSE.</span></code>. When <code class="docutils literal"><span class="pre">FORCE_CONSTANTS</span> <span class="pre">=</span>
<span class="pre">READ</span></code>, force constants are read from <code class="docutils literal"><span class="pre">FORCE_CONSTANTS</span></code> file. With
<code class="docutils literal"><span class="pre">FORCE_CONSTANTS</span> <span class="pre">=</span> <span class="pre">WRITE</span></code>, force constants calculated from
<code class="docutils literal"><span class="pre">FORCE_SETS</span></code> are written to <code class="docutils literal"><span class="pre">FORCE_CONSTANTS</span></code> file.</p>
<p>The file format of <code class="docutils literal"><span class="pre">FORCE_CONSTANTS</span></code> is shown
<a class="reference internal" href="input-files.html#file-force-constants"><span class="std std-ref">here</span></a>.</p>
</div>
</div>
<div class="section" id="create-animation-file">
<span id="animation-tag"></span><h2>Create animation file<a class="headerlink" href="#create-animation-file" title="Permalink to this headline">¶</a></h2>
<div class="section" id="anime-type">
<h3><code class="docutils literal"><span class="pre">ANIME_TYPE</span></code><a class="headerlink" href="#anime-type" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">ANIME_TYPE</span> <span class="o">=</span> <span class="n">JMOL</span>
</pre></div>
</div>
<p>There are <code class="docutils literal"><span class="pre">V_SIM</span></code>, <code class="docutils literal"><span class="pre">ARC</span></code>, <code class="docutils literal"><span class="pre">XYZ</span></code>, <code class="docutils literal"><span class="pre">JMOL</span></code>, and <code class="docutils literal"><span class="pre">POSCAR</span></code>
settings. Those may be viewed by <code class="docutils literal"><span class="pre">v_sim</span></code>, <code class="docutils literal"><span class="pre">gdis</span></code>, <code class="docutils literal"><span class="pre">jmol</span></code>
(animation), <code class="docutils literal"><span class="pre">jmol</span></code> (vibration), respectively. For <code class="docutils literal"><span class="pre">POSCAR</span></code>, a set
of <code class="docutils literal"><span class="pre">POSCAR</span></code> format structure files corresponding to respective
animation images are created such as <code class="docutils literal"><span class="pre">APOSCAR-000</span></code>,
<code class="docutils literal"><span class="pre">APOSCAR-001</span></code>,....</p>
<p>There are several parameters to be set in the <code class="docutils literal"><span class="pre">ANIME</span></code> tag.</p>
</div>
<div class="section" id="anime">
<h3><code class="docutils literal"><span class="pre">ANIME</span></code><a class="headerlink" href="#anime" title="Permalink to this headline">¶</a></h3>
<p><strong>The format of ``ANIME`` tag was modified after ver. 0.9.3.3.</strong></p>
<div class="section" id="for-v-sim">
<h4>For v_sim<a class="headerlink" href="#for-v-sim" title="Permalink to this headline">¶</a></h4>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">ANIME</span> <span class="o">=</span> <span class="mf">0.5</span> <span class="mf">0.5</span> <span class="mi">0</span>
</pre></div>
</div>
<p>The values are the <em>q</em>-point to be calculated. An animation file of
<code class="docutils literal"><span class="pre">anime.ascii</span></code> is generated.</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="animation.html">How to watch animation</a></li>
</ul>
</div>
</div>
<div class="section" id="for-the-other-animation-formats">
<h4>For the other animation formats<a class="headerlink" href="#for-the-other-animation-formats" title="Permalink to this headline">¶</a></h4>
<p>Phonon is only calculated at <img class="math" src="_images/math/85011adca50d3725af2e048eeb9ec7b02ccdd401.png" alt="\Gamma"/> point. So <em>q</em>-point is not
necessary to be set.</p>
<p><code class="docutils literal"><span class="pre">anime.arc</span></code>, <code class="docutils literal"><span class="pre">anime.xyz</span></code>, <code class="docutils literal"><span class="pre">anime.xyz_jmol</span></code>, or <code class="docutils literal"><span class="pre">APOSCAR-*</span></code>
are generated according to the <code class="docutils literal"><span class="pre">ANIME_TYPE</span></code> setting.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">ANIME</span> <span class="o">=</span> <span class="mi">4</span> <span class="mi">5</span> <span class="mi">20</span>  <span class="mf">0.5</span> <span class="mf">0.5</span> <span class="mi">0</span>
</pre></div>
</div>
<p>The values are as follows from left:</p>
<ol class="arabic simple">
<li>Band index given by ascending order in phonon frequency.</li>
<li>Magnitude to be multiplied. In the harmonic phonon calculation,
there is no amplitude information obtained directly. The relative
amplitude among atoms in primitive cell can be obtained from
eigenvectors with the constraint of the norm or the eigenvectors
equals one, i.e., number of atoms in the primitive is large, the
displacements become small. Therefore this has to be adjusted to
make the animation good looking.</li>
<li>Number of images in one phonon period.</li>
<li>(4-6) Shift of atomic points in reduced coordinate in real space. These
values can be omitted and the default values are <code class="docutils literal"><span class="pre">0</span> <span class="pre">0</span> <span class="pre">0</span></code>.</li>
</ol>
<p>For <code class="docutils literal"><span class="pre">anime.xyz_jmol</span></code>, the first and third values are not used,
however dummy values, e.g. 0, are required.</p>
</div>
</div>
</div>
<div class="section" id="create-modulated-structure">
<span id="modulation-tag"></span><h2>Create modulated structure<a class="headerlink" href="#create-modulated-structure" title="Permalink to this headline">¶</a></h2>
<div class="section" id="modulation">
<h3><code class="docutils literal"><span class="pre">MODULATION</span></code><a class="headerlink" href="#modulation" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal"><span class="pre">MODULATION</span></code> tag is used to create a crystal structure with
displacements along normal modes at q-point in the specified supercell
dimension.</p>
<p>Atomic displacement of the <em>j</em>-th atom is created from the real part
of the eigenvectors with amplitudes and phase factors as</p>
<div class="math">
<p><img src="_images/math/92df5da360ff79a484d8eca1772ec0cb98fb7a80.png" alt="\frac{A} { \sqrt{N_\mathrm{a}m_j} } \operatorname{Re} \left[ \exp(i\phi)
\mathbf{e}_j \exp( \mathbf{q} \cdot \mathbf{r}_{jl} ) \right],"/></p>
</div><p>where <img class="math" src="_images/math/0acafa529182e79b4f56165ec677554fba7fcf98.png" alt="A"/> is the amplitude, <img class="math" src="_images/math/10e009bdb83f96c5f47c58b34d5d4b12ef268d5b.png" alt="\phi"/> is the phase,
<img class="math" src="_images/math/5477894f53c543b441eb8e2091a4ca80e4124300.png" alt="N_\mathrm{a}"/> is the number of atoms in the supercell specified
in this tag and <img class="math" src="_images/math/6d5f7404ca9c2f30c463f91e94d4554d279edac3.png" alt="m_j"/> is the mass of the <em>j</em>-th atom,
<img class="math" src="_images/math/dd9f8e4fa6ad795780215243cbd5a5719b772ad3.png" alt="\mathbf{q}"/> is the q-point specified, <img class="math" src="_images/math/8944162cdbb501982779e0d2161819c2eedf0c48.png" alt="\mathbf{r}_{jl}"/>
is the position of the <em>j</em>-th atom in the <em>l</em>-th unit cell, and
<img class="math" src="_images/math/e7b8c9bb509f9569603622c23c91da69c6b64dc5.png" alt="\mathbf{e}_j"/> is the <em>j</em>-th atom part of eigenvector. Convention of
eigenvector or dynamical matrix employed in phonopy is shown in
<a class="reference internal" href="theory.html#dynacmial-matrix-theory"><span class="std std-ref">Dynamical matrix</span></a>.</p>
<p>If several modes are specified as shown in the example above, they are
overlapped on the structure. The output filenames are
<code class="docutils literal"><span class="pre">MPOSCAR...</span></code>. Each modulated structure of a normal mode is written
in <code class="docutils literal"><span class="pre">MPOSCAR-&lt;number&gt;</span></code> where the numbers correspond to the order of
specified sets of modulations. <code class="docutils literal"><span class="pre">MPOSCAR</span></code> is the structure where all
the modulations are summed. <code class="docutils literal"><span class="pre">MPOSCAR-orig</span></code> is the structure without
containing modulation, but the dimension is the one that is specified.
Some information is written into <code class="docutils literal"><span class="pre">modulation.yaml</span></code>.</p>
<div class="section" id="usage">
<h4>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h4>
<p>The first three (nine) values correspond to supercell dimension
(supercell matrix) like the <a class="reference internal" href="#dimension-tag"><span class="std std-ref">CELL_FILENAME</span></a> tag. The following
values are used to describe how the atoms are modulated. Multiple sets
of modulations can be specified by separating by comma <code class="docutils literal"><span class="pre">,</span></code>. In each
set, the first three values give a Q-point in the reduced coordinates
in reciprocal space. Then the next three values are the band index
from the bottom with ascending order, amplitude, and phase factor in
degrees. The phase factor is optional. If it is not specified, 0 is
used.</p>
<p>Before multiplying user specified phase factor, the phase of
the modulation vector is adjusted as the largest absolute value,
<img class="math" src="_images/math/a6ddd9b14b89b24abb3f1f855dcc1f94a1af73a4.png" alt="\left|\mathbf{e}_j\right|/\sqrt{m_j}"/>, of element of
3N dimensional modulation vector to be real. The complex modulation
vector is shown in <code class="docutils literal"><span class="pre">modulation.yaml</span></code>.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">MODULATION</span> <span class="o">=</span> <span class="mi">3</span> <span class="mi">3</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">3</span> <span class="mi">1</span><span class="o">/</span><span class="mi">3</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">3</span> <span class="mi">1</span><span class="o">/</span><span class="mi">3</span> <span class="mi">0</span> <span class="mi">2</span> <span class="mf">3.5</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">MODULATION</span> <span class="o">=</span> <span class="mi">3</span> <span class="mi">3</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">3</span> <span class="mi">1</span><span class="o">/</span><span class="mi">3</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">3</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">2</span> <span class="mi">2</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">MODULATION</span> <span class="o">=</span> <span class="mi">3</span> <span class="mi">3</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">3</span> <span class="mi">1</span><span class="o">/</span><span class="mi">3</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">3</span> <span class="mi">1</span><span class="o">/</span><span class="mi">3</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">90</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">MODULATION</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span> <span class="o">-</span><span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">2</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="characters-of-irreducible-representations">
<span id="irreducible-representation-related-tags"></span><h2>Characters of irreducible representations<a class="headerlink" href="#characters-of-irreducible-representations" title="Permalink to this headline">¶</a></h2>
<div class="section" id="irreps">
<span id="irreps-tag"></span><h3><code class="docutils literal"><span class="pre">IRREPS</span></code><a class="headerlink" href="#irreps" title="Permalink to this headline">¶</a></h3>
<p>Characters of irreducible representations (IRs) of phonon modes are
shown. For this calculation, a primitive cell has to be used. If the
input unit cell is a non-primitive cell, it has to be transformed to a
primitive cell using <code class="docutils literal"><span class="pre">PRIMITIVE_AXIS</span></code> tag.</p>
<p>The first three values gives a <em>q</em>-point in reduced coordinates
to be calculated.  The degenerated modes are searched only by the closeness of
frequencies. The frequency difference to be tolerated is specified by
the fourth value in the frequency unit that the user specified.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">IRREPS</span> <span class="o">=</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">1</span><span class="n">e</span><span class="o">-</span><span class="mi">3</span>
</pre></div>
</div>
<p>Only the databases of IRs for a few point group types at the
<img class="math" src="_images/math/85011adca50d3725af2e048eeb9ec7b02ccdd401.png" alt="\Gamma"/> point are implemented. If the database is available,
the symbols of the IRs and the rotation operations are shown.</p>
</div>
<div class="section" id="show-irreps">
<h3><code class="docutils literal"><span class="pre">SHOW_IRREPS</span></code><a class="headerlink" href="#show-irreps" title="Permalink to this headline">¶</a></h3>
<p>Irreducible representations are shown along with character table.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">IRREPS</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="mi">3</span> <span class="mi">1</span><span class="o">/</span><span class="mi">3</span> <span class="mi">0</span>
<span class="n">SHOW_IRREPS</span> <span class="o">=</span> <span class="o">.</span><span class="n">TRUE</span><span class="o">.</span>
</pre></div>
</div>
</div>
<div class="section" id="little-cogroup">
<h3><code class="docutils literal"><span class="pre">LITTLE_COGROUP</span></code><a class="headerlink" href="#little-cogroup" title="Permalink to this headline">¶</a></h3>
<p>Show irreps of little co-group (point-group of wavevector) instead of
little group.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">IRREPS</span> <span class="o">=</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">1</span><span class="o">/</span><span class="mi">8</span>
<span class="n">LITTLE_COGROUP</span> <span class="o">=</span> <span class="o">.</span><span class="n">TRUE</span><span class="o">.</span>
</pre></div>
</div>
</div>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
<div id="sourcelink">
  <a href="_sources/setting-tags.txt"
     rel="nofollow">Source</a>
</div>
      
    </p>
    <p>
        &copy; Copyright 2009, Atsushi Togo.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.<br/>
    </p>
  </div>
</footer>
  </body>
</html>