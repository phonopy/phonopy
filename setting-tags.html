<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Setting tags &#8212; Phonopy v.1.13.2</title>
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="How to watch animation" href="animation.html" />
    <link rel="prev" title="Output files" href="output-files.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">
          Phonopy</a>
        <span class="navbar-text navbar-version pull-left"><b>1.13.2</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="symmetry.html">Crystal symmetry</a></li>
<li class="toctree-l1"><a class="reference internal" href="procedure.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="workflow.html">Work flow</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="input-files.html">Input files</a></li>
<li class="toctree-l1"><a class="reference internal" href="output-files.html">Output files</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Setting tags</a></li>
<li class="toctree-l1"><a class="reference internal" href="command-options.html">Command options</a></li>
<li class="toctree-l1"><a class="reference internal" href="dynamic-structure-factor.html">Dynamic structure factor</a></li>
<li class="toctree-l1"><a class="reference internal" href="gruneisen.html">Mode Grüneisen parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="qha.html">Quasi harmonic approximation</a></li>
<li class="toctree-l1"><a class="reference internal" href="interfaces.html">Interfaces to calculators</a></li>
<li class="toctree-l1"><a class="reference internal" href="auxiliary-tools.html">Auxiliary tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="external-tools.html">External tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="phonopy-module.html">Phonopy API for Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="formulation.html">Formulations</a></li>
<li class="toctree-l1"><a class="reference internal" href="citation.html">How to cite phonopy</a></li>
<li class="toctree-l1"><a class="reference internal" href="reference.html">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Change Log</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="documentation.html">Documentation</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Setting tags</a><ul>
<li><a class="reference internal" href="#basic-tags">Basic tags</a><ul>
<li><a class="reference internal" href="#dim"><code class="docutils literal notranslate"><span class="pre">DIM</span></code></a></li>
<li><a class="reference internal" href="#primitive-axes-or-primitive-axis"><code class="docutils literal notranslate"><span class="pre">PRIMITIVE_AXES</span></code> or <code class="docutils literal notranslate"><span class="pre">PRIMITIVE_AXIS</span></code></a></li>
<li><a class="reference internal" href="#atom-name"><code class="docutils literal notranslate"><span class="pre">ATOM_NAME</span></code></a></li>
<li><a class="reference internal" href="#eigenvectors"><code class="docutils literal notranslate"><span class="pre">EIGENVECTORS</span></code></a></li>
<li><a class="reference internal" href="#mass"><code class="docutils literal notranslate"><span class="pre">MASS</span></code></a></li>
<li><a class="reference internal" href="#magmom"><code class="docutils literal notranslate"><span class="pre">MAGMOM</span></code></a></li>
<li><a class="reference internal" href="#cell-filename"><code class="docutils literal notranslate"><span class="pre">CELL_FILENAME</span></code></a></li>
<li><a class="reference internal" href="#frequency-conversion-factor"><code class="docutils literal notranslate"><span class="pre">FREQUENCY_CONVERSION_FACTOR</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#displacement-creation-tags">Displacement creation tags</a><ul>
<li><a class="reference internal" href="#create-displacements"><code class="docutils literal notranslate"><span class="pre">CREATE_DISPLACEMENTS</span></code></a></li>
<li><a class="reference internal" href="#displacement-distance"><code class="docutils literal notranslate"><span class="pre">DISPLACEMENT_DISTANCE</span></code></a></li>
<li><a class="reference internal" href="#diag"><code class="docutils literal notranslate"><span class="pre">DIAG</span></code></a></li>
<li><a class="reference internal" href="#pm"><code class="docutils literal notranslate"><span class="pre">PM</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#band-structure-tags">Band structure tags</a><ul>
<li><a class="reference internal" href="#band-and-band-points"><code class="docutils literal notranslate"><span class="pre">BAND</span></code> and <code class="docutils literal notranslate"><span class="pre">BAND_POINTS</span></code></a></li>
<li><a class="reference internal" href="#band-labels"><code class="docutils literal notranslate"><span class="pre">BAND_LABELS</span></code></a></li>
<li><a class="reference internal" href="#band-connection"><code class="docutils literal notranslate"><span class="pre">BAND_CONNECTION</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#mesh-sampling-tags">Mesh sampling tags</a><ul>
<li><a class="reference internal" href="#mesh-mp-or-mesh-numbers"><code class="docutils literal notranslate"><span class="pre">MESH</span></code>, <code class="docutils literal notranslate"><span class="pre">MP</span></code>, or <code class="docutils literal notranslate"><span class="pre">MESH_NUMBERS</span></code></a></li>
<li><a class="reference internal" href="#mp-shift"><code class="docutils literal notranslate"><span class="pre">MP_SHIFT</span></code></a></li>
<li><a class="reference internal" href="#gamma-center"><code class="docutils literal notranslate"><span class="pre">GAMMA_CENTER</span></code></a></li>
<li><a class="reference internal" href="#write-mesh"><code class="docutils literal notranslate"><span class="pre">WRITE_MESH</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#phonon-density-of-states-dos-tags">Phonon density of states (DOS) tags</a><ul>
<li><a class="reference internal" href="#dos"><code class="docutils literal notranslate"><span class="pre">DOS</span></code></a></li>
<li><a class="reference internal" href="#dos-range"><code class="docutils literal notranslate"><span class="pre">DOS_RANGE</span></code></a></li>
<li><a class="reference internal" href="#fmin-fmax-and-fpitch"><code class="docutils literal notranslate"><span class="pre">FMIN</span></code>, <code class="docutils literal notranslate"><span class="pre">FMAX</span></code>, and <code class="docutils literal notranslate"><span class="pre">FPITCH</span></code></a></li>
<li><a class="reference internal" href="#pdos"><code class="docutils literal notranslate"><span class="pre">PDOS</span></code></a></li>
<li><a class="reference internal" href="#projection-direction"><code class="docutils literal notranslate"><span class="pre">PROJECTION_DIRECTION</span></code></a></li>
<li><a class="reference internal" href="#xyz-projection"><code class="docutils literal notranslate"><span class="pre">XYZ_PROJECTION</span></code></a></li>
<li><a class="reference internal" href="#sigma"><code class="docutils literal notranslate"><span class="pre">SIGMA</span></code></a></li>
<li><a class="reference internal" href="#tetrahedron"><code class="docutils literal notranslate"><span class="pre">TETRAHEDRON</span></code></a></li>
<li><a class="reference internal" href="#debye-model"><code class="docutils literal notranslate"><span class="pre">DEBYE_MODEL</span></code></a></li>
<li><a class="reference internal" href="#momemt-and-moment-order"><code class="docutils literal notranslate"><span class="pre">MOMEMT</span></code> and <code class="docutils literal notranslate"><span class="pre">MOMENT_ORDER</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#thermal-properties-related-tags">Thermal properties related tags</a><ul>
<li><a class="reference internal" href="#tprop-tmin-tmax-and-tstep"><code class="docutils literal notranslate"><span class="pre">TPROP</span></code>, <code class="docutils literal notranslate"><span class="pre">TMIN</span></code>, <code class="docutils literal notranslate"><span class="pre">TMAX</span></code>, and <code class="docutils literal notranslate"><span class="pre">TSTEP</span></code></a></li>
<li><a class="reference internal" href="#pretend-real"><code class="docutils literal notranslate"><span class="pre">PRETEND_REAL</span></code></a></li>
<li><a class="reference internal" href="#cutoff-frequency"><code class="docutils literal notranslate"><span class="pre">CUTOFF_FREQUENCY</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#thermal-displacements">Thermal displacements</a><ul>
<li><a class="reference internal" href="#tdisp-tmax-tmin-and-tstep"><code class="docutils literal notranslate"><span class="pre">TDISP</span></code>, <code class="docutils literal notranslate"><span class="pre">TMAX</span></code>, <code class="docutils literal notranslate"><span class="pre">TMIN</span></code>, and <code class="docutils literal notranslate"><span class="pre">TSTEP</span></code></a></li>
<li><a class="reference internal" href="#tdispmat-tmax-tmin-and-tstep"><code class="docutils literal notranslate"><span class="pre">TDISPMAT</span></code>, <code class="docutils literal notranslate"><span class="pre">TMAX</span></code>, <code class="docutils literal notranslate"><span class="pre">TMIN</span></code>, and <code class="docutils literal notranslate"><span class="pre">TSTEP</span></code></a></li>
<li><a class="reference internal" href="#tdispmat-cif"><code class="docutils literal notranslate"><span class="pre">TDISPMAT_CIF</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#specific-q-points">Specific q-points</a><ul>
<li><a class="reference internal" href="#qpoints"><code class="docutils literal notranslate"><span class="pre">QPOINTS</span></code></a></li>
<li><a class="reference internal" href="#writedm"><code class="docutils literal notranslate"><span class="pre">WRITEDM</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#non-analytical-term-correction">Non-analytical term correction</a><ul>
<li><a class="reference internal" href="#nac"><code class="docutils literal notranslate"><span class="pre">NAC</span></code></a></li>
<li><a class="reference internal" href="#nac-method"><code class="docutils literal notranslate"><span class="pre">NAC_METHOD</span></code></a></li>
<li><a class="reference internal" href="#q-direction"><code class="docutils literal notranslate"><span class="pre">Q_DIRECTION</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#group-velocity">Group velocity</a><ul>
<li><a class="reference internal" href="#id3"><code class="docutils literal notranslate"><span class="pre">GROUP_VELOCITY</span></code></a></li>
<li><a class="reference internal" href="#gv-delta-q"><code class="docutils literal notranslate"><span class="pre">GV_DELTA_Q</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#symmetry">Symmetry</a><ul>
<li><a class="reference internal" href="#symmetry-tag"><code class="docutils literal notranslate"><span class="pre">SYMMETRY</span></code></a></li>
<li><a class="reference internal" href="#mesh-symmetry"><code class="docutils literal notranslate"><span class="pre">MESH_SYMMETRY</span></code></a></li>
<li><a class="reference internal" href="#fc-symmetry"><code class="docutils literal notranslate"><span class="pre">FC_SYMMETRY</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#force-constants">Force constants</a><ul>
<li><a class="reference internal" href="#id5"><code class="docutils literal notranslate"><span class="pre">FORCE_CONSTANTS</span></code></a></li>
<li><a class="reference internal" href="#full-force-constants"><code class="docutils literal notranslate"><span class="pre">FULL_FORCE_CONSTANTS</span></code></a></li>
<li><a class="reference internal" href="#read-force-constants"><code class="docutils literal notranslate"><span class="pre">READ_FORCE_CONSTANTS</span></code></a></li>
<li><a class="reference internal" href="#write-force-constants"><code class="docutils literal notranslate"><span class="pre">WRITE_FORCE_CONSTANTS</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#create-animation-file">Create animation file</a><ul>
<li><a class="reference internal" href="#anime-type"><code class="docutils literal notranslate"><span class="pre">ANIME_TYPE</span></code></a></li>
<li><a class="reference internal" href="#anime"><code class="docutils literal notranslate"><span class="pre">ANIME</span></code></a><ul>
<li><a class="reference internal" href="#for-v-sim">For v_sim</a></li>
<li><a class="reference internal" href="#for-the-other-animation-formats">For the other animation formats</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#create-modulated-structure">Create modulated structure</a><ul>
<li><a class="reference internal" href="#modulation"><code class="docutils literal notranslate"><span class="pre">MODULATION</span></code></a><ul>
<li><a class="reference internal" href="#usage">Usage</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#characters-of-irreducible-representations">Characters of irreducible representations</a><ul>
<li><a class="reference internal" href="#irreps"><code class="docutils literal notranslate"><span class="pre">IRREPS</span></code></a></li>
<li><a class="reference internal" href="#show-irreps"><code class="docutils literal notranslate"><span class="pre">SHOW_IRREPS</span></code></a></li>
<li><a class="reference internal" href="#little-cogroup"><code class="docutils literal notranslate"><span class="pre">LITTLE_COGROUP</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#input-output-file-control">Input/Output file control</a><ul>
<li><a class="reference internal" href="#fc-format-readfc-format-writefc-format"><code class="docutils literal notranslate"><span class="pre">FC_FORMAT</span></code>,  <code class="docutils literal notranslate"><span class="pre">READFC_FORMAT</span></code>, <code class="docutils literal notranslate"><span class="pre">WRITEFC_FORMAT</span></code></a></li>
<li><a class="reference internal" href="#band-format-mesh-format-qpoints-format"><code class="docutils literal notranslate"><span class="pre">BAND_FORMAT</span></code>, <code class="docutils literal notranslate"><span class="pre">MESH_FORMAT</span></code>, <code class="docutils literal notranslate"><span class="pre">QPOINTS_FORMAT</span></code></a></li>
<li><a class="reference internal" href="#hdf5"><code class="docutils literal notranslate"><span class="pre">HDF5</span></code></a><ul>
<li><a class="reference internal" href="#force-constants-hdf5"><code class="docutils literal notranslate"><span class="pre">force_constants.hdf5</span></code></a></li>
<li><a class="reference internal" href="#mesh-hdf5"><code class="docutils literal notranslate"><span class="pre">mesh.hdf5</span></code></a></li>
<li><a class="reference internal" href="#qpoints-hdf5"><code class="docutils literal notranslate"><span class="pre">qpoints.hdf5</span></code></a></li>
<li><a class="reference internal" href="#band-hdf5"><code class="docutils literal notranslate"><span class="pre">band.hdf5</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="output-files.html" title="Previous Chapter: Output files"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Output files</span>
    </a>
  </li>
  <li>
    <a href="animation.html" title="Next Chapter: How to watch animation"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">How to watch ... &raquo;</span>
    </a>
  </li>
              
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="section" id="setting-tags">
<span id="id1"></span><h1>Setting tags<a class="headerlink" href="#setting-tags" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#basic-tags" id="id6">Basic tags</a><ul>
<li><a class="reference internal" href="#dim" id="id7"><code class="docutils literal notranslate"><span class="pre">DIM</span></code></a></li>
<li><a class="reference internal" href="#primitive-axes-or-primitive-axis" id="id8"><code class="docutils literal notranslate"><span class="pre">PRIMITIVE_AXES</span></code> or <code class="docutils literal notranslate"><span class="pre">PRIMITIVE_AXIS</span></code></a></li>
<li><a class="reference internal" href="#atom-name" id="id9"><code class="docutils literal notranslate"><span class="pre">ATOM_NAME</span></code></a></li>
<li><a class="reference internal" href="#eigenvectors" id="id10"><code class="docutils literal notranslate"><span class="pre">EIGENVECTORS</span></code></a></li>
<li><a class="reference internal" href="#mass" id="id11"><code class="docutils literal notranslate"><span class="pre">MASS</span></code></a></li>
<li><a class="reference internal" href="#magmom" id="id12"><code class="docutils literal notranslate"><span class="pre">MAGMOM</span></code></a></li>
<li><a class="reference internal" href="#cell-filename" id="id13"><code class="docutils literal notranslate"><span class="pre">CELL_FILENAME</span></code></a></li>
<li><a class="reference internal" href="#frequency-conversion-factor" id="id14"><code class="docutils literal notranslate"><span class="pre">FREQUENCY_CONVERSION_FACTOR</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#displacement-creation-tags" id="id15">Displacement creation tags</a><ul>
<li><a class="reference internal" href="#create-displacements" id="id16"><code class="docutils literal notranslate"><span class="pre">CREATE_DISPLACEMENTS</span></code></a></li>
<li><a class="reference internal" href="#displacement-distance" id="id17"><code class="docutils literal notranslate"><span class="pre">DISPLACEMENT_DISTANCE</span></code></a></li>
<li><a class="reference internal" href="#diag" id="id18"><code class="docutils literal notranslate"><span class="pre">DIAG</span></code></a></li>
<li><a class="reference internal" href="#pm" id="id19"><code class="docutils literal notranslate"><span class="pre">PM</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#band-structure-tags" id="id20">Band structure tags</a><ul>
<li><a class="reference internal" href="#band-and-band-points" id="id21"><code class="docutils literal notranslate"><span class="pre">BAND</span></code> and <code class="docutils literal notranslate"><span class="pre">BAND_POINTS</span></code></a></li>
<li><a class="reference internal" href="#band-labels" id="id22"><code class="docutils literal notranslate"><span class="pre">BAND_LABELS</span></code></a></li>
<li><a class="reference internal" href="#band-connection" id="id23"><code class="docutils literal notranslate"><span class="pre">BAND_CONNECTION</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#mesh-sampling-tags" id="id24">Mesh sampling tags</a><ul>
<li><a class="reference internal" href="#mesh-mp-or-mesh-numbers" id="id25"><code class="docutils literal notranslate"><span class="pre">MESH</span></code>, <code class="docutils literal notranslate"><span class="pre">MP</span></code>, or <code class="docutils literal notranslate"><span class="pre">MESH_NUMBERS</span></code></a></li>
<li><a class="reference internal" href="#mp-shift" id="id26"><code class="docutils literal notranslate"><span class="pre">MP_SHIFT</span></code></a></li>
<li><a class="reference internal" href="#gamma-center" id="id27"><code class="docutils literal notranslate"><span class="pre">GAMMA_CENTER</span></code></a></li>
<li><a class="reference internal" href="#write-mesh" id="id28"><code class="docutils literal notranslate"><span class="pre">WRITE_MESH</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#phonon-density-of-states-dos-tags" id="id29">Phonon density of states (DOS) tags</a><ul>
<li><a class="reference internal" href="#dos" id="id30"><code class="docutils literal notranslate"><span class="pre">DOS</span></code></a></li>
<li><a class="reference internal" href="#dos-range" id="id31"><code class="docutils literal notranslate"><span class="pre">DOS_RANGE</span></code></a></li>
<li><a class="reference internal" href="#fmin-fmax-and-fpitch" id="id32"><code class="docutils literal notranslate"><span class="pre">FMIN</span></code>, <code class="docutils literal notranslate"><span class="pre">FMAX</span></code>, and <code class="docutils literal notranslate"><span class="pre">FPITCH</span></code></a></li>
<li><a class="reference internal" href="#pdos" id="id33"><code class="docutils literal notranslate"><span class="pre">PDOS</span></code></a></li>
<li><a class="reference internal" href="#projection-direction" id="id34"><code class="docutils literal notranslate"><span class="pre">PROJECTION_DIRECTION</span></code></a></li>
<li><a class="reference internal" href="#xyz-projection" id="id35"><code class="docutils literal notranslate"><span class="pre">XYZ_PROJECTION</span></code></a></li>
<li><a class="reference internal" href="#sigma" id="id36"><code class="docutils literal notranslate"><span class="pre">SIGMA</span></code></a></li>
<li><a class="reference internal" href="#tetrahedron" id="id37"><code class="docutils literal notranslate"><span class="pre">TETRAHEDRON</span></code></a></li>
<li><a class="reference internal" href="#debye-model" id="id38"><code class="docutils literal notranslate"><span class="pre">DEBYE_MODEL</span></code></a></li>
<li><a class="reference internal" href="#momemt-and-moment-order" id="id39"><code class="docutils literal notranslate"><span class="pre">MOMEMT</span></code> and <code class="docutils literal notranslate"><span class="pre">MOMENT_ORDER</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#thermal-properties-related-tags" id="id40">Thermal properties related tags</a><ul>
<li><a class="reference internal" href="#tprop-tmin-tmax-and-tstep" id="id41"><code class="docutils literal notranslate"><span class="pre">TPROP</span></code>, <code class="docutils literal notranslate"><span class="pre">TMIN</span></code>, <code class="docutils literal notranslate"><span class="pre">TMAX</span></code>, and <code class="docutils literal notranslate"><span class="pre">TSTEP</span></code></a></li>
<li><a class="reference internal" href="#pretend-real" id="id42"><code class="docutils literal notranslate"><span class="pre">PRETEND_REAL</span></code></a></li>
<li><a class="reference internal" href="#cutoff-frequency" id="id43"><code class="docutils literal notranslate"><span class="pre">CUTOFF_FREQUENCY</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#thermal-displacements" id="id44">Thermal displacements</a><ul>
<li><a class="reference internal" href="#tdisp-tmax-tmin-and-tstep" id="id45"><code class="docutils literal notranslate"><span class="pre">TDISP</span></code>, <code class="docutils literal notranslate"><span class="pre">TMAX</span></code>, <code class="docutils literal notranslate"><span class="pre">TMIN</span></code>, and <code class="docutils literal notranslate"><span class="pre">TSTEP</span></code></a></li>
<li><a class="reference internal" href="#tdispmat-tmax-tmin-and-tstep" id="id46"><code class="docutils literal notranslate"><span class="pre">TDISPMAT</span></code>, <code class="docutils literal notranslate"><span class="pre">TMAX</span></code>, <code class="docutils literal notranslate"><span class="pre">TMIN</span></code>, and <code class="docutils literal notranslate"><span class="pre">TSTEP</span></code></a></li>
<li><a class="reference internal" href="#tdispmat-cif" id="id47"><code class="docutils literal notranslate"><span class="pre">TDISPMAT_CIF</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#specific-q-points" id="id48">Specific q-points</a><ul>
<li><a class="reference internal" href="#qpoints" id="id49"><code class="docutils literal notranslate"><span class="pre">QPOINTS</span></code></a></li>
<li><a class="reference internal" href="#writedm" id="id50"><code class="docutils literal notranslate"><span class="pre">WRITEDM</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#non-analytical-term-correction" id="id51">Non-analytical term correction</a><ul>
<li><a class="reference internal" href="#nac" id="id52"><code class="docutils literal notranslate"><span class="pre">NAC</span></code></a></li>
<li><a class="reference internal" href="#nac-method" id="id53"><code class="docutils literal notranslate"><span class="pre">NAC_METHOD</span></code></a></li>
<li><a class="reference internal" href="#q-direction" id="id54"><code class="docutils literal notranslate"><span class="pre">Q_DIRECTION</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#group-velocity" id="id55">Group velocity</a><ul>
<li><a class="reference internal" href="#id3" id="id56"><code class="docutils literal notranslate"><span class="pre">GROUP_VELOCITY</span></code></a></li>
<li><a class="reference internal" href="#gv-delta-q" id="id57"><code class="docutils literal notranslate"><span class="pre">GV_DELTA_Q</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#symmetry" id="id58">Symmetry</a><ul>
<li><a class="reference internal" href="#symmetry-tag" id="id59"><code class="docutils literal notranslate"><span class="pre">SYMMETRY</span></code></a></li>
<li><a class="reference internal" href="#mesh-symmetry" id="id60"><code class="docutils literal notranslate"><span class="pre">MESH_SYMMETRY</span></code></a></li>
<li><a class="reference internal" href="#fc-symmetry" id="id61"><code class="docutils literal notranslate"><span class="pre">FC_SYMMETRY</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#force-constants" id="id62">Force constants</a><ul>
<li><a class="reference internal" href="#id5" id="id63"><code class="docutils literal notranslate"><span class="pre">FORCE_CONSTANTS</span></code></a></li>
<li><a class="reference internal" href="#full-force-constants" id="id64"><code class="docutils literal notranslate"><span class="pre">FULL_FORCE_CONSTANTS</span></code></a></li>
<li><a class="reference internal" href="#read-force-constants" id="id65"><code class="docutils literal notranslate"><span class="pre">READ_FORCE_CONSTANTS</span></code></a></li>
<li><a class="reference internal" href="#write-force-constants" id="id66"><code class="docutils literal notranslate"><span class="pre">WRITE_FORCE_CONSTANTS</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#create-animation-file" id="id67">Create animation file</a><ul>
<li><a class="reference internal" href="#anime-type" id="id68"><code class="docutils literal notranslate"><span class="pre">ANIME_TYPE</span></code></a></li>
<li><a class="reference internal" href="#anime" id="id69"><code class="docutils literal notranslate"><span class="pre">ANIME</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#create-modulated-structure" id="id70">Create modulated structure</a><ul>
<li><a class="reference internal" href="#modulation" id="id71"><code class="docutils literal notranslate"><span class="pre">MODULATION</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#characters-of-irreducible-representations" id="id72">Characters of irreducible representations</a><ul>
<li><a class="reference internal" href="#irreps" id="id73"><code class="docutils literal notranslate"><span class="pre">IRREPS</span></code></a></li>
<li><a class="reference internal" href="#show-irreps" id="id74"><code class="docutils literal notranslate"><span class="pre">SHOW_IRREPS</span></code></a></li>
<li><a class="reference internal" href="#little-cogroup" id="id75"><code class="docutils literal notranslate"><span class="pre">LITTLE_COGROUP</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#input-output-file-control" id="id76">Input/Output file control</a><ul>
<li><a class="reference internal" href="#fc-format-readfc-format-writefc-format" id="id77"><code class="docutils literal notranslate"><span class="pre">FC_FORMAT</span></code>,  <code class="docutils literal notranslate"><span class="pre">READFC_FORMAT</span></code>, <code class="docutils literal notranslate"><span class="pre">WRITEFC_FORMAT</span></code></a></li>
<li><a class="reference internal" href="#band-format-mesh-format-qpoints-format" id="id78"><code class="docutils literal notranslate"><span class="pre">BAND_FORMAT</span></code>, <code class="docutils literal notranslate"><span class="pre">MESH_FORMAT</span></code>, <code class="docutils literal notranslate"><span class="pre">QPOINTS_FORMAT</span></code></a></li>
<li><a class="reference internal" href="#hdf5" id="id79"><code class="docutils literal notranslate"><span class="pre">HDF5</span></code></a></li>
</ul>
</li>
</ul>
</div>
<p>Most of the setting tags have corresponding command-line options
(<a class="reference internal" href="command-options.html#command-options"><span class="std std-ref">Command options</span></a>).</p>
<p>For specifying real and reciprocal points, fractional values
(e.g. <code class="docutils literal notranslate"><span class="pre">1/3</span></code>) are accepted. However fractional values must not
have space among characters (e.g. <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">/</span> <span class="pre">3</span></code>) are not allowed.</p>
<div class="section" id="basic-tags">
<h2><a class="toc-backref" href="#id6">Basic tags</a><a class="headerlink" href="#basic-tags" title="Permalink to this headline">¶</a></h2>
<div class="section" id="dim">
<h3><a class="toc-backref" href="#id7"><code class="docutils literal notranslate"><span class="pre">DIM</span></code></a><a class="headerlink" href="#dim" title="Permalink to this headline">¶</a></h3>
<p>The supercell is created from the input unit cell. When three integers
are specified, a supercell elongated along axes of unit cell is
created.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DIM</span> <span class="o">=</span> <span class="mi">2</span> <span class="mi">2</span> <span class="mi">3</span>
</pre></div>
</div>
<p>In this case, a 2x2x3 supercell is created.</p>
<p>When nine integers are specified, the supercell is created by
multiplying the supercell matrix <span class="math notranslate nohighlight">\(M_\mathrm{s}\)</span> with the unit
cell. For example,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DIM</span> <span class="o">=</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">1</span>  <span class="mi">1</span> <span class="mi">0</span> <span class="mi">1</span>  <span class="mi">1</span> <span class="mi">1</span> <span class="mi">0</span>
</pre></div>
</div>
<p>the supercell matrix is</p>
<div class="math notranslate nohighlight">
\[\begin{split}M_\mathrm{s} = \begin{pmatrix}
0 &amp; 1 &amp; 1 \\
1 &amp; 0 &amp; 1 \\
1 &amp; 1 &amp; 0
\end{pmatrix}\end{split}\]</div>
<p>where the rows correspond to the first three, second three, and third
three sets of numbers, respectively. When lattice parameters of unit
cell are the column vectors of <span class="math notranslate nohighlight">\(\mathbf{a}_\mathrm{u}\)</span>,
<span class="math notranslate nohighlight">\(\mathbf{b}_\mathrm{u}\)</span>, and <span class="math notranslate nohighlight">\(\mathbf{c}_\mathrm{u}\)</span>,
those of supercell, <span class="math notranslate nohighlight">\(\mathbf{a}_\mathrm{s}\)</span>,
<span class="math notranslate nohighlight">\(\mathbf{b}_\mathrm{s}\)</span>, <span class="math notranslate nohighlight">\(\mathbf{c}_\mathrm{s}\)</span>, are
determined by,</p>
<div class="math notranslate nohighlight">
\[( \mathbf{a}_\mathrm{s} \; \mathbf{b}_\mathrm{s} \; \mathbf{c}_\mathrm{s} )
=  ( \mathbf{a}_\mathrm{u} \; \mathbf{b}_\mathrm{u} \;
\mathbf{c}_\mathrm{u} ) M_\mathrm{s}\]</div>
<p>Be careful that the axes in <code class="docutils literal notranslate"><span class="pre">POSCAR</span></code> is defined by three row
vectors, i.e., <span class="math notranslate nohighlight">\(( \mathbf{a}_\mathrm{u} \; \mathbf{b}_\mathrm{u}
\; \mathbf{c}_\mathrm{u} )^T\)</span>.</p>
</div>
<div class="section" id="primitive-axes-or-primitive-axis">
<span id="primitive-axis-tag"></span><h3><a class="toc-backref" href="#id8"><code class="docutils literal notranslate"><span class="pre">PRIMITIVE_AXES</span></code> or <code class="docutils literal notranslate"><span class="pre">PRIMITIVE_AXIS</span></code></a><a class="headerlink" href="#primitive-axes-or-primitive-axis" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PRIMITIVE_AXES</span> <span class="o">=</span> <span class="mf">0.0</span> <span class="mf">0.5</span> <span class="mf">0.5</span>  <span class="mf">0.5</span> <span class="mf">0.0</span> <span class="mf">0.5</span>  <span class="mf">0.5</span> <span class="mf">0.5</span> <span class="mf">0.0</span>
</pre></div>
</div>
<p>Likewise,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PRIMITIVE_AXES</span> <span class="o">=</span> <span class="mi">0</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span>  <span class="mi">1</span><span class="o">/</span><span class="mi">2</span> <span class="mi">0</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span>  <span class="mi">1</span><span class="o">/</span><span class="mi">2</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span> <span class="mi">0</span>
</pre></div>
</div>
<p>The primitive cell for building the dynamical matrix is created by
multiplying primitive-axis matrix <span class="math notranslate nohighlight">\(M_\mathrm{p}\)</span>. Let the matrix
as,</p>
<div class="math notranslate nohighlight">
\[\begin{split}M_\mathrm{p} = \begin{pmatrix}
0.0 &amp; 0.5 &amp; 0.5 \\
0.5 &amp; 0.0 &amp; 0.5 \\
0.5 &amp; 0.5 &amp; 0.0
\end{pmatrix}\end{split}\]</div>
<p>where the rows correspond to the first three, second three, and
third three sets of numbers, respectively.</p>
<p>When lattice parameters of unit cell (set by <code class="docutils literal notranslate"><span class="pre">POSCAR</span></code>) are the
column vectors of <span class="math notranslate nohighlight">\(\mathbf{a}_\mathrm{u}\)</span>,
<span class="math notranslate nohighlight">\(\mathbf{b}_\mathrm{u}\)</span>, and <span class="math notranslate nohighlight">\(\mathbf{c}_\mathrm{u}\)</span>,
those of supercell, <span class="math notranslate nohighlight">\(\mathbf{a}_\mathrm{p}\)</span>,
<span class="math notranslate nohighlight">\(\mathbf{b}_\mathrm{p}\)</span>, <span class="math notranslate nohighlight">\(\mathbf{c}_\mathrm{p}\)</span>, are
determined by,</p>
<div class="math notranslate nohighlight">
\[( \mathbf{a}_\mathrm{p} \; \mathbf{b}_\mathrm{p} \; \mathbf{c}_\mathrm{p} )
=  ( \mathbf{a}_\mathrm{u} \; \mathbf{b}_\mathrm{u} \;
\mathbf{c}_\mathrm{u} ) M_\mathrm{p}.\]</div>
<p><span class="math notranslate nohighlight">\(M_\mathrm{p}\)</span> is a change of basis matrix and so
<span class="math notranslate nohighlight">\(M_\mathrm{p}^{-1}\)</span> must be an integer matrix. Be careful that
:math:the axes in <code class="docutils literal notranslate"><span class="pre">POSCAR</span></code> is defined by three row vectors, i.e.,
:math:<span class="math notranslate nohighlight">\(( \mathbf{a}_\mathrm{u} \; \mathbf{b}_\mathrm{u} \;
:math:\mathbf{c}_\mathrm{u} )^T\)</span>.</p>
</div>
<div class="section" id="atom-name">
<h3><a class="toc-backref" href="#id9"><code class="docutils literal notranslate"><span class="pre">ATOM_NAME</span></code></a><a class="headerlink" href="#atom-name" title="Permalink to this headline">¶</a></h3>
<p>Chemical symbols</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ATOM_NAME</span> <span class="o">=</span> <span class="n">Si</span> <span class="n">O</span>
</pre></div>
</div>
<p>The number of chemical symbols have to be same as that of the numbers
in the sixth line of <code class="docutils literal notranslate"><span class="pre">POSCAR</span></code>.</p>
<p>Chemical symbols read by phonopy are overwritten by those written in
<code class="docutils literal notranslate"><span class="pre">POSCAR</span></code>. See <code class="docutils literal notranslate"><span class="pre">POSCAR</span></code> examples. In WIEN2k mode,
you don’t need to set this tag, i.e., chemical symbols are read from
the structure file.</p>
</div>
<div class="section" id="eigenvectors">
<h3><a class="toc-backref" href="#id10"><code class="docutils literal notranslate"><span class="pre">EIGENVECTORS</span></code></a><a class="headerlink" href="#eigenvectors" title="Permalink to this headline">¶</a></h3>
<p>When this tag is ‘.TRUE.’, eigenvectors are calculated. With <code class="docutils literal notranslate"><span class="pre">-p</span></code>
option, partial density of states are calculated.</p>
</div>
<div class="section" id="mass">
<span id="mass-tag"></span><h3><a class="toc-backref" href="#id11"><code class="docutils literal notranslate"><span class="pre">MASS</span></code></a><a class="headerlink" href="#mass" title="Permalink to this headline">¶</a></h3>
<p>This tag is not necessary to use usually, because atomic masses are
automatically set from the chemical symbols.</p>
<p>Atomic masses of a <strong>primitive cell</strong> are overwritten by the values
specified. The order of atoms in the primitive cell that is defined by
<code class="docutils literal notranslate"><span class="pre">PRIMITIVE_AXIS</span></code> tag can be shown using <code class="docutils literal notranslate"><span class="pre">-v</span></code> option. It must be
noted that this tag does not affect to the symmetry search.</p>
<p>For example, when there are six atoms in a primitive cell, <code class="docutils literal notranslate"><span class="pre">MASS</span></code> is
set as follows</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">MASS</span> <span class="o">=</span>   <span class="mf">28.085</span> <span class="mf">28.085</span> <span class="mf">16.000</span> <span class="mf">16.000</span> <span class="mf">16.000</span> <span class="mf">16.000</span>
</pre></div>
</div>
</div>
<div class="section" id="magmom">
<span id="magmom-tag"></span><h3><a class="toc-backref" href="#id12"><code class="docutils literal notranslate"><span class="pre">MAGMOM</span></code></a><a class="headerlink" href="#magmom" title="Permalink to this headline">¶</a></h3>
<p>Symmetry of spin such as collinear magnetic moments is considered
using this tag. The number of values has to be equal to the number of
atoms in the unit cell, not the primitive cell or supercell. If this
tag is used with <code class="docutils literal notranslate"><span class="pre">-d</span></code> option (<code class="docutils literal notranslate"><span class="pre">CREATE_DISPLACEMENTS</span></code> tag),
<code class="docutils literal notranslate"><span class="pre">MAGMOM</span></code> file is created. This file contains the <code class="docutils literal notranslate"><span class="pre">MAGMOM</span></code>
information of the supercell used for VASP. Unlike <code class="docutils literal notranslate"><span class="pre">MAGMOM</span></code> in VASP,
<code class="docutils literal notranslate"><span class="pre">*</span></code> can not be used, i.e., all the values (the same number of times
to the number of atoms in unit cell) have to be explicitly written.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">MAGMOM</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="mf">1.0</span> <span class="o">-</span><span class="mf">1.0</span> <span class="o">-</span><span class="mf">1.0</span>
</pre></div>
</div>
</div>
<div class="section" id="cell-filename">
<span id="dimension-tag"></span><h3><a class="toc-backref" href="#id13"><code class="docutils literal notranslate"><span class="pre">CELL_FILENAME</span></code></a><a class="headerlink" href="#cell-filename" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CELL_FILENAME</span> <span class="o">=</span> <span class="n">UPOSCAR</span>
</pre></div>
</div>
<p>See <a class="reference internal" href="command-options.html#cell-filename-option"><span class="std std-ref">Input cell</span></a>.</p>
</div>
<div class="section" id="frequency-conversion-factor">
<span id="frequency-conversion-factor-tag"></span><h3><a class="toc-backref" href="#id14"><code class="docutils literal notranslate"><span class="pre">FREQUENCY_CONVERSION_FACTOR</span></code></a><a class="headerlink" href="#frequency-conversion-factor" title="Permalink to this headline">¶</a></h3>
<p>Unit conversion factor of frequency from input values to your favorite
unit can be specified, but the use should be limited and it is
recommended to use this tag to convert the frequency unit to THz in
some exceptional case, for example, a special force calculator whose
physical unit system is different from the default setting of phonopy
is used. If the frequency unit is different from THz, though it works
just for seeing results of frequencies, e.g., band structure or DOS,
it doesn’t work for derived values like thermal properties and
mean square displacements.</p>
<p>The default values for calculators are those to convert frequency
units to THz. The default conversion factors are shown at
<a class="reference internal" href="interfaces.html#frequency-default-value-interfaces"><span class="std std-ref">Default unit conversion factor of phonon frequency to THz</span></a>. These are determined
following the physical unit systems of the calculators. How to
calcualte these conversion factors is explained at
<a class="reference internal" href="formulation.html#physical-unit-conversion"><span class="std std-ref">Physical unit conversion</span></a>.</p>
</div>
</div>
<div class="section" id="displacement-creation-tags">
<h2><a class="toc-backref" href="#id15">Displacement creation tags</a><a class="headerlink" href="#displacement-creation-tags" title="Permalink to this headline">¶</a></h2>
<div class="section" id="create-displacements">
<h3><a class="toc-backref" href="#id16"><code class="docutils literal notranslate"><span class="pre">CREATE_DISPLACEMENTS</span></code></a><a class="headerlink" href="#create-displacements" title="Permalink to this headline">¶</a></h3>
<p>Supercells with displacements are created.  This tag is used as the
post process of phonon calculation.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CREATE_DISPLACEMENTS</span> <span class="o">=</span> <span class="o">.</span><span class="n">TRUE</span><span class="o">.</span>
<span class="n">DIM</span> <span class="o">=</span> <span class="mi">2</span> <span class="mi">2</span> <span class="mi">2</span>
</pre></div>
</div>
</div>
<div class="section" id="displacement-distance">
<span id="displacement-distance-tag"></span><h3><a class="toc-backref" href="#id17"><code class="docutils literal notranslate"><span class="pre">DISPLACEMENT_DISTANCE</span></code></a><a class="headerlink" href="#displacement-distance" title="Permalink to this headline">¶</a></h3>
<p>Finite atomic displacement distance is set as specified value when
creating supercells with displacements. The default displacement
amplitude is 0.01 Angstrom, but when the <code class="docutils literal notranslate"><span class="pre">wien2k</span></code> or
<code class="docutils literal notranslate"><span class="pre">abinit</span></code> option is specified, the default value is 0.02 Bohr.</p>
</div>
<div class="section" id="diag">
<h3><a class="toc-backref" href="#id18"><code class="docutils literal notranslate"><span class="pre">DIAG</span></code></a><a class="headerlink" href="#diag" title="Permalink to this headline">¶</a></h3>
<p>When this tag is set <code class="docutils literal notranslate"><span class="pre">.FALSE.</span></code>, displacements in diagonal directions
are not searched, i.e. all the displacements are along the lattice
vectors. <code class="docutils literal notranslate"><span class="pre">DIAG</span> <span class="pre">=</span> <span class="pre">.FALSE.</span></code> is recommended if one of the lattice
parameter of your supercell is much longer or much shorter than the
other lattice parameters.</p>
</div>
<div class="section" id="pm">
<span id="pm-displacement-tag"></span><h3><a class="toc-backref" href="#id19"><code class="docutils literal notranslate"><span class="pre">PM</span></code></a><a class="headerlink" href="#pm" title="Permalink to this headline">¶</a></h3>
<p>This tag specified how displacements are found. When <code class="docutils literal notranslate"><span class="pre">PM</span> <span class="pre">=</span> <span class="pre">.FALSE.</span></code>,
least displacements that can calculate force constants are found. This
may cause less accurate result. When <code class="docutils literal notranslate"><span class="pre">PM</span> <span class="pre">=</span> <span class="pre">.TRUE.</span></code>, all the
displacements that are opposite directions to the least displacements
are also found, which is called plus-minus displacements here. The
default setting is <code class="docutils literal notranslate"><span class="pre">PM</span> <span class="pre">=</span> <span class="pre">AUTO</span></code>. Plus-minus displacements are
considered with this tag. If the plus and minus displacements are
symmetrically equivalent, only the plus displacement is found. This
may be in between <code class="docutils literal notranslate"><span class="pre">.FALSE.</span></code> and <code class="docutils literal notranslate"><span class="pre">.TRUE.</span></code>. You can check how it
works to see the file <code class="docutils literal notranslate"><span class="pre">DISP</span></code> where displacement directions on atoms
are written.</p>
</div>
</div>
<div class="section" id="band-structure-tags">
<span id="band-structure-related-tags"></span><h2><a class="toc-backref" href="#id20">Band structure tags</a><a class="headerlink" href="#band-structure-tags" title="Permalink to this headline">¶</a></h2>
<div class="section" id="band-and-band-points">
<h3><a class="toc-backref" href="#id21"><code class="docutils literal notranslate"><span class="pre">BAND</span></code> and <code class="docutils literal notranslate"><span class="pre">BAND_POINTS</span></code></a><a class="headerlink" href="#band-and-band-points" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">BAND</span></code> gives sampling band paths. The reciprocal points are
specified in reduced coordinates. The given points are connected for
defining band paths. When comma <code class="docutils literal notranslate"><span class="pre">,</span></code> is inserted between the points,
the paths are disconnected.</p>
<p><code class="docutils literal notranslate"><span class="pre">BAND_POINTS</span></code> gives the number of sampling points including the path
ends. The default value is <code class="docutils literal notranslate"><span class="pre">BAND_POINTS</span> <span class="pre">=</span> <span class="pre">51</span></code>.</p>
<p>An example of three paths, (0,0,0) to (1/2,0,1/2), (1/2,1/2,1) to
(0,0,0), and (0,0,0) to (1/2,1/2,1/2), with 101 sampling points of
each path are as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">BAND</span> <span class="o">=</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span>  <span class="mi">1</span><span class="o">/</span><span class="mi">2</span> <span class="mi">0</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span>  <span class="mi">1</span><span class="o">/</span><span class="mi">2</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span> <span class="mi">1</span>  <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span>   <span class="mi">1</span><span class="o">/</span><span class="mi">2</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span>
<span class="n">BAND_POINTS</span> <span class="o">=</span> <span class="mi">101</span>
</pre></div>
</div>
</div>
<div class="section" id="band-labels">
<span id="band-labels-tag"></span><h3><a class="toc-backref" href="#id22"><code class="docutils literal notranslate"><span class="pre">BAND_LABELS</span></code></a><a class="headerlink" href="#band-labels" title="Permalink to this headline">¶</a></h3>
<p>Labels specified are depicted in band structure plot at the points of
band segments. The number of labels has to correspond to the number of
band paths specified by <code class="docutils literal notranslate"><span class="pre">BAND</span></code> plus one. When LaTeX math style
expression such as <span class="math notranslate nohighlight">\(\Gamma\)</span> (<code class="docutils literal notranslate"><span class="pre">\Gamma</span></code>) is expected, it is
probably necessary to place it between two $ characters.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>BAND = 1/2 0 1/2   0 0 0   1/2 1/2 1/2
BAND_LABELS = X $\Gamma$ L
</pre></div>
</div>
<p><a class="reference internal" href="_images/band-labels.png"><img alt="bandlabels" src="_images/band-labels.png" style="width: 320.0px; height: 240.0px;" /></a></p>
<p>The colors of curves are automatically determined by matplotlib. The
same color in a band segment shows the same kind of band. Between
different band segments, the correspondence of colors doesn’t mean
anything.</p>
</div>
<div class="section" id="band-connection">
<span id="band-connection-tag"></span><h3><a class="toc-backref" href="#id23"><code class="docutils literal notranslate"><span class="pre">BAND_CONNECTION</span></code></a><a class="headerlink" href="#band-connection" title="Permalink to this headline">¶</a></h3>
<p>With this option, band connections are estimated from eigenvectors and
band structure is drawn considering band crossings. In sensitive
cases, to obtain better band connections, it requires to increase
number of points calculated in band segments by the <code class="docutils literal notranslate"><span class="pre">BAND_POINTS</span></code> tag.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">BAND</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span> <span class="mi">0</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span>   <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span>   <span class="mi">1</span><span class="o">/</span><span class="mi">2</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span>
<span class="n">BAND_POINTS</span> <span class="o">=</span> <span class="mi">101</span>
<span class="n">BAND_CONNECTION</span> <span class="o">=</span> <span class="o">.</span><span class="n">TRUE</span><span class="o">.</span>
</pre></div>
</div>
<p><a class="reference internal" href="_images/band-connection.png"><img alt="bandconnection" src="_images/band-connection.png" style="width: 320.0px; height: 240.0px;" /></a></p>
</div>
</div>
<div class="section" id="mesh-sampling-tags">
<span id="id2"></span><h2><a class="toc-backref" href="#id24">Mesh sampling tags</a><a class="headerlink" href="#mesh-sampling-tags" title="Permalink to this headline">¶</a></h2>
<p>Mesh sampling tags are used commonly for calculations of thermal
properties and density of states.</p>
<div class="section" id="mesh-mp-or-mesh-numbers">
<span id="mp-tag"></span><h3><a class="toc-backref" href="#id25"><code class="docutils literal notranslate"><span class="pre">MESH</span></code>, <code class="docutils literal notranslate"><span class="pre">MP</span></code>, or <code class="docutils literal notranslate"><span class="pre">MESH_NUMBERS</span></code></a><a class="headerlink" href="#mesh-mp-or-mesh-numbers" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">MESH</span></code> numbers give uniform meshes in each axis. As the default
behavior, the center of mesh is determined by the Monkhorst-Pack
scheme, i.e., for odd number, a point comes to the center, and for
even number, the center is shifted half in the distance between
neighboring mesh points.</p>
<p>Examples of an even mesh with <span class="math notranslate nohighlight">\(\Gamma\)</span> center in two ways,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">MESH</span> <span class="o">=</span> <span class="mi">8</span> <span class="mi">8</span> <span class="mi">8</span>
<span class="n">GAMMA_CENTER</span> <span class="o">=</span> <span class="o">.</span><span class="n">TRUE</span><span class="o">.</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">MESH</span> <span class="o">=</span> <span class="mi">8</span> <span class="mi">8</span> <span class="mi">8</span>
<span class="n">MP_SHIFT</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span>
</pre></div>
</div>
</div>
<div class="section" id="mp-shift">
<h3><a class="toc-backref" href="#id26"><code class="docutils literal notranslate"><span class="pre">MP_SHIFT</span></code></a><a class="headerlink" href="#mp-shift" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">MP_SHIFT</span></code> gives the shifts in direction along the corresponding
reciprocal axes (<span class="math notranslate nohighlight">\(a^*\)</span>, <span class="math notranslate nohighlight">\(b^*\)</span>, <span class="math notranslate nohighlight">\(c^*\)</span>). 0 or 1/2
(0.5) can be used as these values. 1/2 means the half mesh shift with
respect to neighboring grid points in each direction.</p>
</div>
<div class="section" id="gamma-center">
<h3><a class="toc-backref" href="#id27"><code class="docutils literal notranslate"><span class="pre">GAMMA_CENTER</span></code></a><a class="headerlink" href="#gamma-center" title="Permalink to this headline">¶</a></h3>
<p>Instead of employing the Monkhorst-Pack scheme for the mesh sampling,
<span class="math notranslate nohighlight">\(\Gamma\)</span> center mesh is used. The default value is <code class="docutils literal notranslate"><span class="pre">.FALSE.</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">GAMMA_CENTER</span> <span class="o">=</span> <span class="o">.</span><span class="n">TRUE</span><span class="o">.</span>
</pre></div>
</div>
</div>
<div class="section" id="write-mesh">
<span id="write-mesh-tag"></span><h3><a class="toc-backref" href="#id28"><code class="docutils literal notranslate"><span class="pre">WRITE_MESH</span></code></a><a class="headerlink" href="#write-mesh" title="Permalink to this headline">¶</a></h3>
<p>With a dense mesh, with eigenvectors, without mesh symmetry, sometimes
its output file <code class="docutils literal notranslate"><span class="pre">mesh.yaml</span></code> or <code class="docutils literal notranslate"><span class="pre">mesh.hdf5</span></code> can be huge. However
when those files are not needed, e.g., in (P)DOS calculation,
<code class="docutils literal notranslate"><span class="pre">WRITE_MESH</span> <span class="pre">=</span> <span class="pre">.FALSE.</span></code> can disable to write out those files. With
(P)DOS calculation, DOS output files are obtained even with
<code class="docutils literal notranslate"><span class="pre">WRITE_MESH</span> <span class="pre">=</span> <span class="pre">.FALSE.</span></code>. The default setting is <code class="docutils literal notranslate"><span class="pre">.TRUE.</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">WRITE_MESH</span> <span class="o">=</span> <span class="o">.</span><span class="n">FALSE</span><span class="o">.</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="phonon-density-of-states-dos-tags">
<span id="dos-related-tags"></span><h2><a class="toc-backref" href="#id29">Phonon density of states (DOS) tags</a><a class="headerlink" href="#phonon-density-of-states-dos-tags" title="Permalink to this headline">¶</a></h2>
<p>Phonon density of states (DOS) is calcualted either with smearing
method (default) or tetrahedron method. Phonons are calculated on a
sampling mesh, therefore these tags must be used with
<a class="reference internal" href="#mesh-sampling-tags"><span class="std std-ref">Mesh sampling tags</span></a>. The physical unit of horizontal axis is
that of frequency that the user employs, e.g., THz, and that of
vertical axis is {no. of states}/({unit cell} x {unit of the
horizontal axis}). If the DOS is integrated over the frequency range,
it will be <span class="math notranslate nohighlight">\(3N_\mathrm{a}\)</span> states, where <span class="math notranslate nohighlight">\(N_\mathrm{a}\)</span> is
the number of atoms in the unit cell.</p>
<p>Phonon-DOS is formally defined as</p>
<div class="math notranslate nohighlight">
\[g(\omega) = \frac{1}{N} \sum_\lambda \delta(\omega - \omega_\lambda)\]</div>
<p>where <span class="math notranslate nohighlight">\(N\)</span> is the number of unit cells and <span class="math notranslate nohighlight">\(\lambda = (\nu,
\mathbf{q})\)</span> with <span class="math notranslate nohighlight">\(\nu\)</span> as the band index and <span class="math notranslate nohighlight">\(\mathbf{q}\)</span>
as the q-point. This is computed on a set of descritized sampling
frequency points for which <span class="math notranslate nohighlight">\(\omega\)</span> is specified arbitrary using
<a class="reference internal" href="#dos-range-tag"><span class="std std-ref">DOS_RANGE</span></a>. The phonon frequencies <span class="math notranslate nohighlight">\(\omega_\lambda\)</span>
are obtained on a sampling mesh whose the number of grid points being
<span class="math notranslate nohighlight">\(N\)</span>. In the smearing method, the delta function is replaced by
normal distribution (Gaussian function) with the standard deviation
specified by <a class="reference internal" href="#sigma-tag"><span class="std std-ref">SIGMA</span></a>. In the tetrahedron method, the
Brillouin integration is made analytically within tetrahedra in
reciprocal space.</p>
<div class="section" id="dos">
<h3><a class="toc-backref" href="#id30"><code class="docutils literal notranslate"><span class="pre">DOS</span></code></a><a class="headerlink" href="#dos" title="Permalink to this headline">¶</a></h3>
<p>This tag enables to calculate DOS. This tag is automatically set when
<code class="docutils literal notranslate"><span class="pre">PDOS</span></code> tag or <code class="docutils literal notranslate"><span class="pre">-p</span></code> option.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DOS</span> <span class="o">=</span> <span class="o">.</span><span class="n">TRUE</span><span class="o">.</span>
</pre></div>
</div>
</div>
<div class="section" id="dos-range">
<span id="dos-range-tag"></span><h3><a class="toc-backref" href="#id31"><code class="docutils literal notranslate"><span class="pre">DOS_RANGE</span></code></a><a class="headerlink" href="#dos-range" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DOS_RANGE</span> <span class="o">=</span> <span class="mi">0</span> <span class="mi">40</span> <span class="mf">0.1</span>
</pre></div>
</div>
<p>Total and partial density of states are drawn with some
parameters. The example makes DOS be calculated from frequency=0 to 40
with 0.1 pitch.</p>
<p><a class="reference internal" href="#dos-fmin-fmax-tags"><span class="std std-ref">FMIN, FMAX, and FPITCH</span></a> can be alternatively
used to specify the minimum and maximum frequencies (the first and
second values).</p>
</div>
<div class="section" id="fmin-fmax-and-fpitch">
<span id="dos-fmin-fmax-tags"></span><h3><a class="toc-backref" href="#id32"><code class="docutils literal notranslate"><span class="pre">FMIN</span></code>, <code class="docutils literal notranslate"><span class="pre">FMAX</span></code>, and <code class="docutils literal notranslate"><span class="pre">FPITCH</span></code></a><a class="headerlink" href="#fmin-fmax-and-fpitch" title="Permalink to this headline">¶</a></h3>
<p>The uniform frequency sampling points for phonon-DOS calculation are
specified. <code class="docutils literal notranslate"><span class="pre">FMIN</span></code> and <code class="docutils literal notranslate"><span class="pre">FMAX</span></code> give the minimum, maximum frequencies
of the range, respectively, and <code class="docutils literal notranslate"><span class="pre">FPITCH</span></code> gives the frequency pitch
to be sampled. These three values are the same as those that can be
specified by <code class="docutils literal notranslate"><span class="pre">DOS_RANGE</span></code>.</p>
</div>
<div class="section" id="pdos">
<h3><a class="toc-backref" href="#id33"><code class="docutils literal notranslate"><span class="pre">PDOS</span></code></a><a class="headerlink" href="#pdos" title="Permalink to this headline">¶</a></h3>
<p>Projected DOS is calculated using this tag. The formal definition is
written as</p>
<div class="math notranslate nohighlight">
\[g^j(\omega, \hat{\mathbf{n}}) = \frac{1}{N} \sum_\lambda
\delta(\omega - \omega_\lambda) |\hat{\mathbf{n}} \cdot
\mathbf{e}^j_\lambda|^2,\]</div>
<p>where <span class="math notranslate nohighlight">\(j\)</span> is the atom indices and <span class="math notranslate nohighlight">\(\hat{\mathbf{n}}\)</span> is
the unit projection direction vector. Without specifying
<a class="reference internal" href="#projection-direction-tag"><span class="std std-ref">PROJECTION_DIRECTION</span></a> or <a class="reference internal" href="#xyz-projection-tag"><span class="std std-ref">XYZ_PROJECTION</span></a>, PDOS is
computed as sum of <span class="math notranslate nohighlight">\(g^j(\omega, \hat{\mathbf{n}})\)</span> projected
onto Cartesian axes <span class="math notranslate nohighlight">\(x,y,z\)</span>, i.e.,</p>
<div class="math notranslate nohighlight">
\[g^j(\omega) = \sum_{\hat{\mathbf{n}} = \{x, y, z\}} g^j(\omega,
\hat{\mathbf{n}}).\]</div>
<p>The atom indices <span class="math notranslate nohighlight">\(j\)</span> are specified by</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PDOS</span> <span class="o">=</span> <span class="mi">1</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span> <span class="mi">4</span> <span class="mi">5</span> <span class="mi">6</span>
</pre></div>
</div>
<p>These numbers are those in the primitive cell.  <code class="docutils literal notranslate"><span class="pre">,</span></code> separates the
atom sets. In this example, atom 1 and 2 are summarized as one curve
and atom 3, 4, 5, and, 6 are summarized as another curve.</p>
<p><code class="docutils literal notranslate"><span class="pre">EIGENVECTORS</span> <span class="pre">=</span> <span class="pre">.TRUE.</span></code> and <code class="docutils literal notranslate"><span class="pre">MESH_SYMMETRY</span> <span class="pre">=</span> <span class="pre">.FALSE.</span></code> are
automatically set, therefore the calculation takes much more time than
usual DOS calculation. With a very dense sampling mesh, writing data
into <code class="docutils literal notranslate"><span class="pre">mesh.yaml</span></code> or <code class="docutils literal notranslate"><span class="pre">mesh.hdf5</span></code> can be unexpectedly huge. If only
PDOS is necessary but these output files are unnecessary, then it is
good to consider using <code class="docutils literal notranslate"><span class="pre">WRITE_MESH</span> <span class="pre">=</span> <span class="pre">.FALSE.</span></code>
(<a class="reference internal" href="#write-mesh-tag"><span class="std std-ref">WRITE_MESH</span></a>).</p>
</div>
<div class="section" id="projection-direction">
<span id="projection-direction-tag"></span><h3><a class="toc-backref" href="#id34"><code class="docutils literal notranslate"><span class="pre">PROJECTION_DIRECTION</span></code></a><a class="headerlink" href="#projection-direction" title="Permalink to this headline">¶</a></h3>
<p>Eigenvectors are projected along the direction specified by this tag.
Projection direction is specified in reduced coordinates, i.e., with
respect to <em>a</em>, <em>b</em>, <em>c</em> axes.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PDOS</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span>
<span class="n">PROJECTION_DIRECTION</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span>
</pre></div>
</div>
</div>
<div class="section" id="xyz-projection">
<span id="xyz-projection-tag"></span><h3><a class="toc-backref" href="#id35"><code class="docutils literal notranslate"><span class="pre">XYZ_PROJECTION</span></code></a><a class="headerlink" href="#xyz-projection" title="Permalink to this headline">¶</a></h3>
<p>PDOS is calculated using eigenvectors projected along x, y, and z
Cartesian coordinates. The format of output file <code class="docutils literal notranslate"><span class="pre">partial_dos.dat</span></code>
becomes different when using this tag, where phonon-mode-frequency and
x, y, and z components of PDOS are written out in the order:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">frequency</span> <span class="n">atom1_x</span> <span class="n">atom1_y</span> <span class="n">atom1_z</span> <span class="n">atom2_x</span> <span class="n">atom2_y</span> <span class="n">atom2_z</span> <span class="o">...</span>
</pre></div>
</div>
<p>With <code class="docutils literal notranslate"><span class="pre">-p</span></code> option, three curves are drawn. These correspond to
sums of all projections to x, sums of all projections to y, and sums
of all projections to z composents of eigenvectors, respectively.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">XYZ_PROJECTION</span> <span class="o">=</span> <span class="o">.</span><span class="n">TRUE</span><span class="o">.</span>
</pre></div>
</div>
</div>
<div class="section" id="sigma">
<span id="sigma-tag"></span><h3><a class="toc-backref" href="#id36"><code class="docutils literal notranslate"><span class="pre">SIGMA</span></code></a><a class="headerlink" href="#sigma" title="Permalink to this headline">¶</a></h3>
<p>This tag specifies the smearing width. The unit is same as that used
for phonon frequency. The default value is the value given by the
difference of maximum and minimum frequencies divided by 100.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SIGMA</span> <span class="o">=</span> <span class="mf">0.1</span>
</pre></div>
</div>
</div>
<div class="section" id="tetrahedron">
<span id="debye-model-tag"></span><h3><a class="toc-backref" href="#id37"><code class="docutils literal notranslate"><span class="pre">TETRAHEDRON</span></code></a><a class="headerlink" href="#tetrahedron" title="Permalink to this headline">¶</a></h3>
<p>Tetrahedron method is used instead of smearing method.</p>
</div>
<div class="section" id="debye-model">
<h3><a class="toc-backref" href="#id38"><code class="docutils literal notranslate"><span class="pre">DEBYE_MODEL</span></code></a><a class="headerlink" href="#debye-model" title="Permalink to this headline">¶</a></h3>
<p>By setting <code class="docutils literal notranslate"><span class="pre">.TRUE.</span></code>, DOS at lower phonon frequencies are fit to a
Debye model. By default, the DOS from 0 to 1/4 of the maximum phonon
frequencies are used for the fitting. The function used to the fitting
is <span class="math notranslate nohighlight">\(D(\omega)=a\omega^2\)</span> where <span class="math notranslate nohighlight">\(a\)</span> is the parameter and
the Debye frequency is <span class="math notranslate nohighlight">\((9N/a)^{1/3}\)</span> where <span class="math notranslate nohighlight">\(N\)</span> is the
number of atoms in unit cell. Users have to unserstand that this is
<strong>not</strong> a unique way to determine Debye frequency. Debye frequency is
dependent on how to parameterize it.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DEBYE_MODEL</span> <span class="o">=</span> <span class="o">.</span><span class="n">TRUE</span><span class="o">.</span>
</pre></div>
</div>
</div>
<div class="section" id="momemt-and-moment-order">
<span id="dos-moment-tag"></span><h3><a class="toc-backref" href="#id39"><code class="docutils literal notranslate"><span class="pre">MOMEMT</span></code> and <code class="docutils literal notranslate"><span class="pre">MOMENT_ORDER</span></code></a><a class="headerlink" href="#momemt-and-moment-order" title="Permalink to this headline">¶</a></h3>
<p>Phonon moments for DOS and PDOS defined below are calculated using
these tags up to arbitrary order. The order is specified with
<code class="docutils literal notranslate"><span class="pre">MOMENT_ORDER</span></code> (<span class="math notranslate nohighlight">\(n\)</span> in the formula). Unless <code class="docutils literal notranslate"><span class="pre">MOMENT_ORDER</span></code>
specified, the first and second moments are calculated.</p>
<p>The moments for DOS are given as</p>
<div class="math notranslate nohighlight">
\[M_n(\omega_\text{min}, \omega_\text{max})
=\frac{\int_{\omega_\text{min}}^{\omega_\text{max}} \omega^n
g(\omega) d\omega} {\int_{\omega_\text{min}}^{\omega_\text{max}}
g(\omega) d\omega}.\]</div>
<p>The moments for PDOS are given as</p>
<div class="math notranslate nohighlight">
\[M_n^j(\omega_\text{min}, \omega_\text{max})
=\frac{\int_{\omega_\text{min}}^{\omega_\text{max}} \omega^n
g^j(\omega) d\omega} {\int_{\omega_\text{min}}^{\omega_\text{max}}
g^j(\omega) d\omega}.\]</div>
<p><span class="math notranslate nohighlight">\(\omega_\text{min}\)</span> and <span class="math notranslate nohighlight">\(\omega_\text{max}\)</span> are specified
:using ref:<cite>dos_fmin_fmax_tags</cite> tags. When these are not specified,
the moments are computed with the range of <span class="math notranslate nohighlight">\(\epsilon &lt; \omega
&lt; \infty\)</span>, where <span class="math notranslate nohighlight">\(\epsilon\)</span> is a small positive
value. Imaginary frequencies are treated as negative real values in
this computation, therefore it is not a good idea to set negative
<span class="math notranslate nohighlight">\(\omega_\text{min}\)</span>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">MOMENT</span> <span class="o">=</span> <span class="o">.</span><span class="n">TRUE</span><span class="o">.</span>
<span class="n">MOMENT_ORDER</span> <span class="o">=</span> <span class="mi">3</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="thermal-properties-related-tags">
<span id="thermal-properties-tag"></span><h2><a class="toc-backref" href="#id40">Thermal properties related tags</a><a class="headerlink" href="#thermal-properties-related-tags" title="Permalink to this headline">¶</a></h2>
<div class="section" id="tprop-tmin-tmax-and-tstep">
<h3><a class="toc-backref" href="#id41"><code class="docutils literal notranslate"><span class="pre">TPROP</span></code>, <code class="docutils literal notranslate"><span class="pre">TMIN</span></code>, <code class="docutils literal notranslate"><span class="pre">TMAX</span></code>, and <code class="docutils literal notranslate"><span class="pre">TSTEP</span></code></a><a class="headerlink" href="#tprop-tmin-tmax-and-tstep" title="Permalink to this headline">¶</a></h3>
<p>Thermal properties, free energy, heat capacity, and entropy, are
calculated from their statistical thermodynamic expressions (see
<a class="reference internal" href="formulation.html#thermal-properties-expressions"><span class="std std-ref">Thermodynamic properties</span></a>). Thermal properties are
calculated from phonon frequencies on a sampling mesh in the
reciprocal space. Therefore these tags must be used with
<a class="reference internal" href="#mesh-sampling-tags"><span class="std std-ref">Mesh sampling tags</span></a> and their convergence with respect to the
sampling mesh has to be checked. Usually this calculation is not
computationally demanding, so the convergence is easily achieved with
increasing the density of the sampling mesh. <code class="docutils literal notranslate"><span class="pre">-p</span></code> option can be used
together to plot the thermal propreties.</p>
<p>Phonon frequencies in THz, which is the default setting of phonopy,
are used to obtain the thermal properties, therefore physical units
have to be set properly for it (see <a class="reference internal" href="interfaces.html#calculator-interfaces"><span class="std std-ref">Interfaces to calculators</span></a>.)</p>
<p>The calculated values are
written into <code class="docutils literal notranslate"><span class="pre">thermal_properties.yaml</span></code>. The unit systems of free
energy, heat capacity, and entropy are kJ/mol, J/K/mol, and J/K/mol,
respectively, where 1 mol means <span class="math notranslate nohighlight">\(\mathrm{N_A}\times\)</span> your input
unit cell (not formula unit), i.e. you have to divide the value by
number of formula unit in your unit cell by yourself. For example, in
MgO (conventional) unit cell, if you want to compare with experimental
results in kJ/mol, you have to divide the phonopy output by four.</p>
<p><code class="docutils literal notranslate"><span class="pre">TMIN</span></code>, <code class="docutils literal notranslate"><span class="pre">TMAX</span></code>, and <code class="docutils literal notranslate"><span class="pre">TSTEP</span></code> tags are used to specify the
temperature range to be calculated. The default values of them are 0,
1000, and 10, respectively.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">TPROP</span> <span class="o">=</span> <span class="o">.</span><span class="n">TRUE</span><span class="o">.</span>
<span class="n">TMAX</span> <span class="o">=</span> <span class="mi">2000</span>
</pre></div>
</div>
</div>
<div class="section" id="pretend-real">
<span id="pretend-real-tags"></span><h3><a class="toc-backref" href="#id42"><code class="docutils literal notranslate"><span class="pre">PRETEND_REAL</span></code></a><a class="headerlink" href="#pretend-real" title="Permalink to this headline">¶</a></h3>
<p>This enables to take imaginary frequencies as real for thermal
property calculation. This does give false thermal properties,
therefore for a testing purpose only, when a small amount of imaginary
branches obtained.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">TPROP</span> <span class="o">=</span> <span class="o">.</span><span class="n">TRUE</span><span class="o">.</span>
<span class="n">PRETEND_REAL</span> <span class="o">=</span> <span class="o">.</span><span class="n">TRUE</span><span class="o">.</span>
</pre></div>
</div>
</div>
<div class="section" id="cutoff-frequency">
<h3><a class="toc-backref" href="#id43"><code class="docutils literal notranslate"><span class="pre">CUTOFF_FREQUENCY</span></code></a><a class="headerlink" href="#cutoff-frequency" title="Permalink to this headline">¶</a></h3>
<p>Frequencies lower than this cutoff frequency are not used to calculate
thermal properties.</p>
</div>
</div>
<div class="section" id="thermal-displacements">
<span id="thermal-atomic-displacements-tags"></span><h2><a class="toc-backref" href="#id44">Thermal displacements</a><a class="headerlink" href="#thermal-displacements" title="Permalink to this headline">¶</a></h2>
<div class="section" id="tdisp-tmax-tmin-and-tstep">
<span id="thermal-displacements-tag"></span><h3><a class="toc-backref" href="#id45"><code class="docutils literal notranslate"><span class="pre">TDISP</span></code>, <code class="docutils literal notranslate"><span class="pre">TMAX</span></code>, <code class="docutils literal notranslate"><span class="pre">TMIN</span></code>, and <code class="docutils literal notranslate"><span class="pre">TSTEP</span></code></a><a class="headerlink" href="#tdisp-tmax-tmin-and-tstep" title="Permalink to this headline">¶</a></h3>
<p>Mean square displacements projected to Cartesian axes as a function of
temperature are calculated from the number of phonon excitations. The
usages of <code class="docutils literal notranslate"><span class="pre">TMAX</span></code>, <code class="docutils literal notranslate"><span class="pre">TMIN</span></code>, <code class="docutils literal notranslate"><span class="pre">TSTEP</span></code> tags are same as those in
<a class="reference internal" href="#thermal-properties-tag"><span class="std std-ref">thermal properties tags</span></a>. Phonon
frequencies in THz, which is the default setting of phonopy, are used to
obtain the mean square displacements, therefore physical units have to
be set properly for it (see <a class="reference internal" href="interfaces.html#calculator-interfaces"><span class="std std-ref">Interfaces to calculators</span></a>.) The result
is given in <span class="math notranslate nohighlight">\(\text{Angstrom}^2\)</span> and writen into
<code class="docutils literal notranslate"><span class="pre">thermal_displacements.yaml</span></code>. See the detail of the method,
<a class="reference internal" href="formulation.html#thermal-displacement"><span class="std std-ref">Thermal displacement</span></a>. These tags must be used with
<a class="reference internal" href="#mesh-sampling-tags"><span class="std std-ref">Mesh sampling tags</span></a></p>
<p>Optionally, <code class="docutils literal notranslate"><span class="pre">FMIN</span></code> tag (<code class="docutils literal notranslate"><span class="pre">--fmin</span></code> option) with a small value is
recommened to be set when q-points at <span class="math notranslate nohighlight">\(\Gamma\)</span> point or near
<span class="math notranslate nohighlight">\(\Gamma\)</span> point (e.g. using very dense sampling mesh) are sampled
to avoid divergence. <code class="docutils literal notranslate"><span class="pre">FMAX</span></code> tag (<code class="docutils literal notranslate"><span class="pre">--fmax</span></code> option) can be used to
specify an upper bound of phonon frequencies where the phonons are
considered in the summation. The projection is applied along arbitrary
direction using <code class="docutils literal notranslate"><span class="pre">PROJECTION_DIRECTION</span></code> tag
(<a class="reference internal" href="#projection-direction-tag"><span class="std std-ref">PROJECTION_DIRECTION</span></a>).</p>
<p><code class="docutils literal notranslate"><span class="pre">mesh.yaml</span></code> or <code class="docutils literal notranslate"><span class="pre">mesh.hdf5</span></code> is not written out from phonopy-1.11.14.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">TDISP</span> <span class="o">=</span> <span class="o">.</span><span class="n">TRUE</span><span class="o">.</span>
<span class="n">PROJECTION_DIRECTION</span> <span class="o">=</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">0</span>
</pre></div>
</div>
</div>
<div class="section" id="tdispmat-tmax-tmin-and-tstep">
<span id="thermal-displacement-matrices-tag"></span><h3><a class="toc-backref" href="#id46"><code class="docutils literal notranslate"><span class="pre">TDISPMAT</span></code>, <code class="docutils literal notranslate"><span class="pre">TMAX</span></code>, <code class="docutils literal notranslate"><span class="pre">TMIN</span></code>, and <code class="docutils literal notranslate"><span class="pre">TSTEP</span></code></a><a class="headerlink" href="#tdispmat-tmax-tmin-and-tstep" title="Permalink to this headline">¶</a></h3>
<p>Mean square displacement matricies are calculated. The definition is
shown at <a class="reference internal" href="formulation.html#thermal-displacement"><span class="std std-ref">Thermal displacement</span></a>. Phonon frequencies in THz, which
is the default setting of phonopy, are
used to obtain the mean square displacement matricies, therefore
physical units have to be set properly for it (see
<a class="reference internal" href="interfaces.html#calculator-interfaces"><span class="std std-ref">Interfaces to calculators</span></a>.) The result is given in
<span class="math notranslate nohighlight">\(\text{Angstrom}^2\)</span> and writen into
<code class="docutils literal notranslate"><span class="pre">thermal_displacement_matrices.yaml</span></code> where six matrix elements are
given in the order of xx, yy, zz, yz, xz, xy.  In this yaml file,
<code class="docutils literal notranslate"><span class="pre">displacement_matrices</span></code> and <code class="docutils literal notranslate"><span class="pre">displacement_matrices_cif</span></code> correspond
to <span class="math notranslate nohighlight">\(\mathrm{U}_\text{cart}\)</span> and <span class="math notranslate nohighlight">\(\mathrm{U}_\text{cif}\)</span>
defined at <a class="reference internal" href="formulation.html#thermal-displacement-matrix"><span class="std std-ref">Mean square displacement matrix</span></a>, respectively.</p>
<p>Optionally, <code class="docutils literal notranslate"><span class="pre">FMIN</span></code> tag (<code class="docutils literal notranslate"><span class="pre">--fmin</span></code> option) with a small value is
recommened to be set when q-points at <span class="math notranslate nohighlight">\(\Gamma\)</span> point or near
<span class="math notranslate nohighlight">\(\Gamma\)</span> point (e.g. using very dense sampling mesh) are sampled
to avoid divergence. <code class="docutils literal notranslate"><span class="pre">FMAX</span></code> tag (<code class="docutils literal notranslate"><span class="pre">--fmax</span></code> option) can be used to
specify an upper bound of phonon frequencies where the phonons are
considered in the summation.</p>
<p>The 3x3 matrix restricts distribution of each atom around the
equilibrium position to be ellipsoid. But the distribution is not
necessarily to be so.</p>
<p><code class="docutils literal notranslate"><span class="pre">mesh.yaml</span></code> or <code class="docutils literal notranslate"><span class="pre">mesh.hdf5</span></code> is not written out from phonopy-1.11.14.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">TDISPMAT</span> <span class="o">=</span> <span class="o">.</span><span class="n">TRUE</span><span class="o">.</span>
</pre></div>
</div>
</div>
<div class="section" id="tdispmat-cif">
<span id="thermal-displacement-cif-tag"></span><h3><a class="toc-backref" href="#id47"><code class="docutils literal notranslate"><span class="pre">TDISPMAT_CIF</span></code></a><a class="headerlink" href="#tdispmat-cif" title="Permalink to this headline">¶</a></h3>
<p>This tag specifis a temperature (K) at which thermal displacement is
calculated and the mean square displacement matrix is written to the
cif file <code class="docutils literal notranslate"><span class="pre">tdispmat.cif</span></code> with the dictionary item <code class="docutils literal notranslate"><span class="pre">aniso_U</span></code>. Phonon
frequencies in THz, which is the default setting of phonopy, are used
to obtain the mean square displacement matricies, therefore physical
units have to be set properly for it (see
<a class="reference internal" href="interfaces.html#calculator-interfaces"><span class="std std-ref">Interfaces to calculators</span></a>.) The result is given in
<span class="math notranslate nohighlight">\(\textrm{Angstrom}^2\)</span>.</p>
<p><code class="docutils literal notranslate"><span class="pre">mesh.yaml</span></code> or <code class="docutils literal notranslate"><span class="pre">mesh.hdf5</span></code> is not written out from phonopy-1.11.14.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">TDISPMAT_CIF</span> <span class="o">=</span> <span class="mf">1273.0</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="specific-q-points">
<h2><a class="toc-backref" href="#id48">Specific q-points</a><a class="headerlink" href="#specific-q-points" title="Permalink to this headline">¶</a></h2>
<div class="section" id="qpoints">
<span id="qpoints-tag"></span><h3><a class="toc-backref" href="#id49"><code class="docutils literal notranslate"><span class="pre">QPOINTS</span></code></a><a class="headerlink" href="#qpoints" title="Permalink to this headline">¶</a></h3>
<p>When q-points are supplied, those phonons are calculated. Q-points are
specified successive values separated by spaces and collected by every
three values as vectors in reciprocal reduced coordinates.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">QPOINTS</span> <span class="o">=</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span>  <span class="mi">1</span><span class="o">/</span><span class="mi">2</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span>  <span class="mi">1</span><span class="o">/</span><span class="mi">2</span> <span class="mi">0</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span>
</pre></div>
</div>
<p>With <code class="docutils literal notranslate"><span class="pre">QPOINTS</span> <span class="pre">=</span> <span class="pre">.TRUE.</span></code>, q-points are read from <code class="docutils literal notranslate"><span class="pre">QPOITNS</span></code> file
(see the file format at <a class="reference internal" href="input-files.html#qpoints-file"><span class="std std-ref">QPOINTS</span></a>) in curret directory
phonons at the q-points are calculated.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">QPOINTS</span> <span class="o">=</span> <span class="o">.</span><span class="n">TRUE</span><span class="o">.</span>
</pre></div>
</div>
</div>
<div class="section" id="writedm">
<span id="writedm-tag"></span><h3><a class="toc-backref" href="#id50"><code class="docutils literal notranslate"><span class="pre">WRITEDM</span></code></a><a class="headerlink" href="#writedm" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">WRITEDM</span> <span class="o">=</span> <span class="o">.</span><span class="n">TRUE</span><span class="o">.</span>
</pre></div>
</div>
<p>Dynamical matrices <span class="math notranslate nohighlight">\(D\)</span> are written into <code class="docutils literal notranslate"><span class="pre">qpoints.yaml</span></code>
in the following <span class="math notranslate nohighlight">\(6N\times3N\)</span> format, where <em>N</em> is the number of atoms in
the primitive cell.</p>
<p>The physical unit of dynamical matrix is <code class="docutils literal notranslate"><span class="pre">[unit</span> <span class="pre">of</span> <span class="pre">force]</span> <span class="pre">/</span> <span class="pre">([unit</span> <span class="pre">of</span>
<span class="pre">displacement]</span> <span class="pre">*</span> <span class="pre">[unit</span> <span class="pre">of</span> <span class="pre">mass])</span></code>, i.e., square of the unit of phonon
frequency before multiplying the unit conversion factor
(see <a class="reference internal" href="#frequency-conversion-factor-tag"><span class="std std-ref">FREQUENCY_CONVERSION_FACTOR</span></a>).</p>
<div class="math notranslate nohighlight">
\[\begin{split}D =
\begin{pmatrix}
D_{11} &amp; D_{12} &amp; D_{13} &amp; \\
D_{21} &amp; D_{22} &amp; D_{23} &amp; \cdots \\
D_{31} &amp; D_{32} &amp; D_{33} &amp; \\
&amp; \vdots &amp;  &amp; \\
\end{pmatrix},\end{split}\]</div>
<p>and <span class="math notranslate nohighlight">\(D_{jj'}\)</span> is</p>
<div class="math notranslate nohighlight">
\[\begin{split}D_{jj'} =
\begin{pmatrix}
Re(D_{jj'}^{xx}) &amp; Im(D_{jj'}^{xx}) &amp; Re(D_{jj'}^{xy}) &amp;
Im(D_{jj'}^{xy}) &amp; Re(D_{jj'}^{xz}) &amp; Im(D_{jj'}^{xz}) \\
Re(D_{jj'}^{yx}) &amp; Im(D_{jj'}^{yx}) &amp; Re(D_{jj'}^{yy}) &amp;
Im(D_{jj'}^{yy}) &amp; Re(D_{jj'}^{yz}) &amp; Im(D_{jj'}^{yz}) \\
Re(D_{jj'}^{zx}) &amp; Im(D_{jj'}^{zx}) &amp; Re(D_{jj'}^{zy}) &amp;
Im(D_{jj'}^{zy}) &amp; Re(D_{jj'}^{zz}) &amp; Im(D_{jj'}^{zz}) \\
\end{pmatrix},\end{split}\]</div>
<p>where <em>j</em> and <em>j’</em> are the atomic indices in the primitive cell. The
phonon frequencies may be recovered from <code class="docutils literal notranslate"><span class="pre">qpoints.yaml</span></code> by writing a
simple python script. For example, <code class="docutils literal notranslate"><span class="pre">qpoints.yaml</span></code> is obtained for
NaCl at <span class="math notranslate nohighlight">\(q=(0, 0.5, 0.5)\)</span> by</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">phonopy</span> <span class="o">--</span><span class="n">dim</span><span class="o">=</span><span class="s2">&quot;2 2 2&quot;</span> <span class="o">--</span><span class="n">pa</span><span class="o">=</span><span class="s2">&quot;0 1/2 1/2  1/2 0 1/2  1/2 1/2 0&quot;</span> <span class="o">--</span><span class="n">qpoints</span><span class="o">=</span><span class="s2">&quot;0 1/2 1/2&quot;</span> <span class="o">--</span><span class="n">writedm</span>
</pre></div>
</div>
<p>and the dynamical matrix may be used as</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env python</span>

<span class="kn">import</span> <span class="nn">yaml</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>

<span class="n">data</span> <span class="o">=</span> <span class="n">yaml</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="s2">&quot;qpoints.yaml&quot;</span><span class="p">))</span>
<span class="n">dynmat</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">dynmat_data</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;phonon&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;dynamical_matrix&#39;</span><span class="p">]</span>
<span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">dynmat_data</span><span class="p">:</span>
    <span class="n">vals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
    <span class="n">dynmat</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vals</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">vals</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="mi">1j</span><span class="p">)</span>
<span class="n">dynmat</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">dynmat</span><span class="p">)</span>

<span class="n">eigvals</span><span class="p">,</span> <span class="n">eigvecs</span><span class="p">,</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">eigh</span><span class="p">(</span><span class="n">dynmat</span><span class="p">)</span>
<span class="n">frequencies</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">eigvals</span><span class="o">.</span><span class="n">real</span><span class="p">))</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">sign</span><span class="p">(</span><span class="n">eigvals</span><span class="o">.</span><span class="n">real</span><span class="p">)</span>
<span class="n">conversion_factor_to_THz</span> <span class="o">=</span> <span class="mf">15.633302</span>
<span class="k">print</span> <span class="n">frequencies</span> <span class="o">*</span> <span class="n">conversion_factor_to_THz</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="non-analytical-term-correction">
<span id="nac-tag"></span><h2><a class="toc-backref" href="#id51">Non-analytical term correction</a><a class="headerlink" href="#non-analytical-term-correction" title="Permalink to this headline">¶</a></h2>
<div class="section" id="nac">
<h3><a class="toc-backref" href="#id52"><code class="docutils literal notranslate"><span class="pre">NAC</span></code></a><a class="headerlink" href="#nac" title="Permalink to this headline">¶</a></h3>
<p>Non-analytical term correction is applied to dynamical
matrix. <code class="docutils literal notranslate"><span class="pre">BORN</span></code> file has to be prepared in the current directory. See
<a class="reference internal" href="input-files.html#born-file"><span class="std std-ref">BORN (optional)</span></a> and <a class="reference internal" href="formulation.html#non-analytical-term-correction-theory"><span class="std std-ref">Non-analytical term correction</span></a>.
The default method is <code class="docutils literal notranslate"><span class="pre">NAC_METHOD</span> <span class="pre">=</span> <span class="pre">GONZE</span></code> after v1.13.0.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">NAC</span> <span class="o">=</span> <span class="o">.</span><span class="n">TRUE</span><span class="o">.</span>
</pre></div>
</div>
</div>
<div class="section" id="nac-method">
<span id="nac-method-tag"></span><h3><a class="toc-backref" href="#id53"><code class="docutils literal notranslate"><span class="pre">NAC_METHOD</span></code></a><a class="headerlink" href="#nac-method" title="Permalink to this headline">¶</a></h3>
<p>The method of non-analytical term correction is chosen by this tag
between two, <code class="docutils literal notranslate"><span class="pre">NAC_METHOD</span> <span class="pre">=</span> <span class="pre">GONZE</span></code> (<a class="reference internal" href="reference.html#reference-dp-dp-nac"><span class="std std-ref">Correction by dipole-dipole interaction</span></a>) and
<code class="docutils literal notranslate"><span class="pre">NAC_METHOD</span> <span class="pre">=</span> <span class="pre">WANG</span></code> (<a class="reference internal" href="reference.html#reference-wang-nac"><span class="std std-ref">Interpolation scheme at general q-points with non-analytical term correction</span></a>), and the default is
the former after v1.13.0.</p>
</div>
<div class="section" id="q-direction">
<h3><a class="toc-backref" href="#id54"><code class="docutils literal notranslate"><span class="pre">Q_DIRECTION</span></code></a><a class="headerlink" href="#q-direction" title="Permalink to this headline">¶</a></h3>
<p>This tag is used to activate NAC at
<span class="math notranslate nohighlight">\(\mathbf{q}\rightarrow\mathbf{0}\)</span>, i.e. practically
<span class="math notranslate nohighlight">\(\Gamma\)</span>-point. Away from <span class="math notranslate nohighlight">\(\Gamma\)</span>-point, this setting is
ignored and the specified <strong>q</strong>-point is used as the <strong>q</strong>-direction.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">MESH</span> <span class="o">=</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span>
<span class="n">NAC</span> <span class="o">=</span> <span class="o">.</span><span class="n">TRUE</span><span class="o">.</span>
<span class="n">Q_DIRECTION</span> <span class="o">=</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">0</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="group-velocity">
<span id="group-velocity-tag"></span><h2><a class="toc-backref" href="#id55">Group velocity</a><a class="headerlink" href="#group-velocity" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id3">
<h3><a class="toc-backref" href="#id56"><code class="docutils literal notranslate"><span class="pre">GROUP_VELOCITY</span></code></a><a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<p>Group velocities at q-points are calculated by using this tag. The
group velocities are written into a yaml file corresponding to the run
mode in Cartesian coordinates. The physical unit depends on physical
units of input files and frequency conversion factor, but if VASP and
the default settings (e.g., THz for phonon frequency) are simply used,
then the physical unit will be Angstrom THz.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">GROUP_VELOCITY</span> <span class="o">=</span> <span class="o">.</span><span class="n">TRUE</span><span class="o">.</span>
</pre></div>
</div>
<p>Technical details are shown at <a class="reference internal" href="formulation.html#group-velocity"><span class="std std-ref">Group velocity</span></a>.</p>
</div>
<div class="section" id="gv-delta-q">
<h3><a class="toc-backref" href="#id57"><code class="docutils literal notranslate"><span class="pre">GV_DELTA_Q</span></code></a><a class="headerlink" href="#gv-delta-q" title="Permalink to this headline">¶</a></h3>
<p>The reciprocal distance used for finite difference method is
specified. The default value is <code class="docutils literal notranslate"><span class="pre">1e-5</span></code> for the method of non-analytical
term correction by Gonze <em>et al.</em>. In other case, unless this tag is
specified, analytical derivative is used instead of the finite
difference method.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">GV_DELTA_Q</span> <span class="o">=</span> <span class="mf">0.01</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="symmetry">
<h2><a class="toc-backref" href="#id58">Symmetry</a><a class="headerlink" href="#symmetry" title="Permalink to this headline">¶</a></h2>
<div class="section" id="symmetry-tag">
<span id="id4"></span><h3><a class="toc-backref" href="#id59"><code class="docutils literal notranslate"><span class="pre">SYMMETRY</span></code></a><a class="headerlink" href="#symmetry-tag" title="Permalink to this headline">¶</a></h3>
<p>P1 symmetry is enforced to the input unit cell by setting <code class="docutils literal notranslate"><span class="pre">SYMMETRY</span> <span class="pre">=</span> <span class="pre">.FALSE</span></code>.</p>
</div>
<div class="section" id="mesh-symmetry">
<span id="nomeshsym-tag"></span><h3><a class="toc-backref" href="#id60"><code class="docutils literal notranslate"><span class="pre">MESH_SYMMETRY</span></code></a><a class="headerlink" href="#mesh-symmetry" title="Permalink to this headline">¶</a></h3>
<p>Symmetry search on the reciprocal sampling mesh is disabled by setting
<code class="docutils literal notranslate"><span class="pre">MESH_SYMMETRY</span> <span class="pre">=</span> <span class="pre">.FALSE.</span></code>.</p>
</div>
<div class="section" id="fc-symmetry">
<span id="fc-symmetry-tag"></span><h3><a class="toc-backref" href="#id61"><code class="docutils literal notranslate"><span class="pre">FC_SYMMETRY</span></code></a><a class="headerlink" href="#fc-symmetry" title="Permalink to this headline">¶</a></h3>
<p><strong>Changed at v1.12.3</strong></p>
<p>Previously this tag required a number for the iteration. From version
1.12.3, the way of symmetrization for translation invariance is
modified and this number became unnecessary.</p>
<p>This tag is used to symmetrize force constants by translational
symmetry and permutation symmetry with <code class="docutils literal notranslate"><span class="pre">.TRUE.</span></code> or <code class="docutils literal notranslate"><span class="pre">.FALSE.</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">FC_SYMMETRY</span> <span class="o">=</span> <span class="o">.</span><span class="n">TRUE</span><span class="o">.</span>
</pre></div>
</div>
<p>From the translation invariance condition,</p>
<div class="math notranslate nohighlight">
\[\sum_i \Phi_{ij}^{\alpha\beta} = 0, \;\;\text{for all $j$, $\alpha$, $\beta$},\]</div>
<p>where <em>i</em> and <em>j</em> are the atom indices, and <span class="math notranslate nohighlight">\(\alpha\)</span> and
<span class="math notranslate nohighlight">\(\beta\)</span> are the Catesian indices for atoms <em>i</em> and <em>j</em>,
respectively. When this condition is broken, the sum gives non-zero
value. This value is subtracted from the diagonal blocks. Force
constants are symmetric in each pair as</p>
<div class="math notranslate nohighlight">
\[\Phi_{ij}^{\alpha\beta}
     = \frac{\partial^2 U}{\partial u_i^\alpha \partial u_j^\beta}
     = \frac{\partial^2 U}{\partial u_j^\beta \partial u_i^\alpha}
     = \Phi_{ji}^{\beta\alpha}\]</div>
<p>Mind that the other symmetries of force constants, i.e., the
symmetry from crystal symmetry or rotational symmetry, are broken to
use <code class="docutils literal notranslate"><span class="pre">FC_SYMMETRY</span></code>.</p>
</div>
</div>
<div class="section" id="force-constants">
<span id="force-constants-tag"></span><h2><a class="toc-backref" href="#id62">Force constants</a><a class="headerlink" href="#force-constants" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id5">
<h3><a class="toc-backref" href="#id63"><code class="docutils literal notranslate"><span class="pre">FORCE_CONSTANTS</span></code></a><a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">FORCE_CONSTANTS</span> <span class="o">=</span> <span class="n">READ</span>
</pre></div>
</div>
<p>There are three values to be set, which are <code class="docutils literal notranslate"><span class="pre">READ</span></code> and <code class="docutils literal notranslate"><span class="pre">WRITE</span></code>,
and <code class="docutils literal notranslate"><span class="pre">.FALSE.</span></code>. The default is <code class="docutils literal notranslate"><span class="pre">.FALSE.</span></code>. When <code class="docutils literal notranslate"><span class="pre">FORCE_CONSTANTS</span> <span class="pre">=</span>
<span class="pre">READ</span></code>, force constants are read from <code class="docutils literal notranslate"><span class="pre">FORCE_CONSTANTS</span></code> file. With
<code class="docutils literal notranslate"><span class="pre">FORCE_CONSTANTS</span> <span class="pre">=</span> <span class="pre">WRITE</span></code>, force constants calculated from
<code class="docutils literal notranslate"><span class="pre">FORCE_SETS</span></code> are written to <code class="docutils literal notranslate"><span class="pre">FORCE_CONSTANTS</span></code> file.</p>
<p>The file format of <code class="docutils literal notranslate"><span class="pre">FORCE_CONSTANTS</span></code> is shown
<a class="reference internal" href="input-files.html#file-force-constants"><span class="std std-ref">here</span></a>.</p>
</div>
<div class="section" id="full-force-constants">
<span id="full-force-constants-tag"></span><h3><a class="toc-backref" href="#id64"><code class="docutils literal notranslate"><span class="pre">FULL_FORCE_CONSTANTS</span></code></a><a class="headerlink" href="#full-force-constants" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">FULL_FORCE_CONSTANTS</span> <span class="pre">=</span> <span class="pre">.TRUE.</span></code> is used to compute full supercell
constants matrix. The default setting is <code class="docutils literal notranslate"><span class="pre">.FALSE.</span></code>. By <code class="docutils literal notranslate"><span class="pre">.TRUE.</span></code> or
<code class="docutils literal notranslate"><span class="pre">.FALSE.</span></code>, the array shape becomes <code class="docutils literal notranslate"><span class="pre">(n_patom,</span> <span class="pre">n_satom,</span> <span class="pre">3,</span> <span class="pre">3)</span></code> or
<code class="docutils literal notranslate"><span class="pre">(n_satom,</span> <span class="pre">n_satom,</span> <span class="pre">3,</span> <span class="pre">3)</span></code>, respectively. The detail is found at
<a class="reference internal" href="input-files.html#file-force-constants"><span class="std std-ref">FORCE_CONSTANTS and force_constants.hdf5</span></a>.</p>
</div>
<div class="section" id="read-force-constants">
<h3><a class="toc-backref" href="#id65"><code class="docutils literal notranslate"><span class="pre">READ_FORCE_CONSTANTS</span></code></a><a class="headerlink" href="#read-force-constants" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">READ_FORCE_CONSTANTS</span> <span class="pre">=</span> <span class="pre">.TRUE.</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">FORCE_CONSTANTS</span> <span class="pre">=</span>
<span class="pre">READ</span></code>.</p>
</div>
<div class="section" id="write-force-constants">
<h3><a class="toc-backref" href="#id66"><code class="docutils literal notranslate"><span class="pre">WRITE_FORCE_CONSTANTS</span></code></a><a class="headerlink" href="#write-force-constants" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">WRITE_FORCE_CONSTANTS</span> <span class="pre">=</span> <span class="pre">.TRUE.</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">FORCE_CONSTANTS</span> <span class="pre">=</span>
<span class="pre">WRITE</span></code>.</p>
</div>
</div>
<div class="section" id="create-animation-file">
<span id="animation-tag"></span><h2><a class="toc-backref" href="#id67">Create animation file</a><a class="headerlink" href="#create-animation-file" title="Permalink to this headline">¶</a></h2>
<div class="section" id="anime-type">
<h3><a class="toc-backref" href="#id68"><code class="docutils literal notranslate"><span class="pre">ANIME_TYPE</span></code></a><a class="headerlink" href="#anime-type" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ANIME_TYPE</span> <span class="o">=</span> <span class="n">JMOL</span>
</pre></div>
</div>
<p>There are <code class="docutils literal notranslate"><span class="pre">V_SIM</span></code>, <code class="docutils literal notranslate"><span class="pre">ARC</span></code>, <code class="docutils literal notranslate"><span class="pre">XYZ</span></code>, <code class="docutils literal notranslate"><span class="pre">JMOL</span></code>, and <code class="docutils literal notranslate"><span class="pre">POSCAR</span></code>
settings. Those may be viewed by <code class="docutils literal notranslate"><span class="pre">v_sim</span></code>, <code class="docutils literal notranslate"><span class="pre">gdis</span></code>, <code class="docutils literal notranslate"><span class="pre">jmol</span></code>
(animation), <code class="docutils literal notranslate"><span class="pre">jmol</span></code> (vibration), respectively. For <code class="docutils literal notranslate"><span class="pre">POSCAR</span></code>, a set
of <code class="docutils literal notranslate"><span class="pre">POSCAR</span></code> format structure files corresponding to respective
animation images are created such as <code class="docutils literal notranslate"><span class="pre">APOSCAR-000</span></code>,
<code class="docutils literal notranslate"><span class="pre">APOSCAR-001</span></code>,….</p>
<p>There are several parameters to be set in the <code class="docutils literal notranslate"><span class="pre">ANIME</span></code> tag.</p>
</div>
<div class="section" id="anime">
<h3><a class="toc-backref" href="#id69"><code class="docutils literal notranslate"><span class="pre">ANIME</span></code></a><a class="headerlink" href="#anime" title="Permalink to this headline">¶</a></h3>
<p><strong>The format of ``ANIME`` tag was modified after ver. 0.9.3.3.</strong></p>
<div class="section" id="for-v-sim">
<h4>For v_sim<a class="headerlink" href="#for-v-sim" title="Permalink to this headline">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ANIME</span> <span class="o">=</span> <span class="mf">0.5</span> <span class="mf">0.5</span> <span class="mi">0</span>
</pre></div>
</div>
<p>The values are the <em>q</em>-point to be calculated. An animation file of
<code class="docutils literal notranslate"><span class="pre">anime.ascii</span></code> is generated.</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="animation.html">How to watch animation</a></li>
</ul>
</div>
</div>
<div class="section" id="for-the-other-animation-formats">
<h4>For the other animation formats<a class="headerlink" href="#for-the-other-animation-formats" title="Permalink to this headline">¶</a></h4>
<p>Phonon is only calculated at <span class="math notranslate nohighlight">\(\Gamma\)</span> point. So <em>q</em>-point is not
necessary to be set.</p>
<p><code class="docutils literal notranslate"><span class="pre">anime.arc</span></code>, <code class="docutils literal notranslate"><span class="pre">anime.xyz</span></code>, <code class="docutils literal notranslate"><span class="pre">anime.xyz_jmol</span></code>, or <code class="docutils literal notranslate"><span class="pre">APOSCAR-*</span></code>
are generated according to the <code class="docutils literal notranslate"><span class="pre">ANIME_TYPE</span></code> setting.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ANIME</span> <span class="o">=</span> <span class="mi">4</span> <span class="mi">5</span> <span class="mi">20</span>  <span class="mf">0.5</span> <span class="mf">0.5</span> <span class="mi">0</span>
</pre></div>
</div>
<p>The values are as follows from left:</p>
<ol class="arabic simple">
<li>Band index given by ascending order in phonon frequency.</li>
<li>Magnitude to be multiplied. In the harmonic phonon calculation,
there is no amplitude information obtained directly. The relative
amplitude among atoms in primitive cell can be obtained from
eigenvectors with the constraint of the norm or the eigenvectors
equals one, i.e., number of atoms in the primitive is large, the
displacements become small. Therefore this has to be adjusted to
make the animation good looking.</li>
<li>Number of images in one phonon period.</li>
<li>(4-6) Shift of atomic points in reduced coordinate in real space. These
values can be omitted and the default values are <code class="docutils literal notranslate"><span class="pre">0</span> <span class="pre">0</span> <span class="pre">0</span></code>.</li>
</ol>
<p>For <code class="docutils literal notranslate"><span class="pre">anime.xyz_jmol</span></code>, the first and third values are not used,
however dummy values, e.g. 0, are required.</p>
</div>
</div>
</div>
<div class="section" id="create-modulated-structure">
<span id="modulation-tag"></span><h2><a class="toc-backref" href="#id70">Create modulated structure</a><a class="headerlink" href="#create-modulated-structure" title="Permalink to this headline">¶</a></h2>
<div class="section" id="modulation">
<h3><a class="toc-backref" href="#id71"><code class="docutils literal notranslate"><span class="pre">MODULATION</span></code></a><a class="headerlink" href="#modulation" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">MODULATION</span></code> tag is used to create a crystal structure with
displacements along normal modes at q-point in the specified supercell
dimension.</p>
<p>Atomic displacement of the <em>j</em>-th atom is created from the real part
of the eigenvectors with amplitudes and phase factors as</p>
<div class="math notranslate nohighlight">
\[\frac{A} { \sqrt{N_\mathrm{a}m_j} } \operatorname{Re} \left[ \exp(i\phi)
\mathbf{e}_j \exp( \mathbf{q} \cdot \mathbf{r}_{jl} ) \right],\]</div>
<p>where <span class="math notranslate nohighlight">\(A\)</span> is the amplitude, <span class="math notranslate nohighlight">\(\phi\)</span> is the phase,
<span class="math notranslate nohighlight">\(N_\mathrm{a}\)</span> is the number of atoms in the supercell specified
in this tag and <span class="math notranslate nohighlight">\(m_j\)</span> is the mass of the <em>j</em>-th atom,
<span class="math notranslate nohighlight">\(\mathbf{q}\)</span> is the q-point specified, <span class="math notranslate nohighlight">\(\mathbf{r}_{jl}\)</span>
is the position of the <em>j</em>-th atom in the <em>l</em>-th unit cell, and
<span class="math notranslate nohighlight">\(\mathbf{e}_j\)</span> is the <em>j</em>-th atom part of eigenvector. Convention of
eigenvector or dynamical matrix employed in phonopy is shown in
<a class="reference internal" href="formulation.html#dynacmial-matrix-theory"><span class="std std-ref">Dynamical matrix</span></a>.</p>
<p>If several modes are specified as shown in the example above, they are
overlapped on the structure. The output filenames are
<code class="docutils literal notranslate"><span class="pre">MPOSCAR...</span></code>. Each modulated structure of a normal mode is written
in <code class="docutils literal notranslate"><span class="pre">MPOSCAR-&lt;number&gt;</span></code> where the numbers correspond to the order of
specified sets of modulations. <code class="docutils literal notranslate"><span class="pre">MPOSCAR</span></code> is the structure where all
the modulations are summed. <code class="docutils literal notranslate"><span class="pre">MPOSCAR-orig</span></code> is the structure without
containing modulation, but the dimension is the one that is specified.
Some information is written into <code class="docutils literal notranslate"><span class="pre">modulation.yaml</span></code>.</p>
<div class="section" id="usage">
<h4>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h4>
<p>The first three (nine) values correspond to supercell dimension
(supercell matrix) like the <a class="reference internal" href="#dimension-tag"><span class="std std-ref">CELL_FILENAME</span></a> tag. The following
values are used to describe how the atoms are modulated. Multiple sets
of modulations can be specified by separating by comma <code class="docutils literal notranslate"><span class="pre">,</span></code>. In each
set, the first three values give a Q-point in the reduced coordinates
in reciprocal space. Then the next three values are the band index
from the bottom with ascending order, amplitude, and phase factor in
degrees. The phase factor is optional. If it is not specified, 0 is
used.</p>
<p>Before multiplying user specified phase factor, the phase of
the modulation vector is adjusted as the largest absolute value,
<span class="math notranslate nohighlight">\(\left|\mathbf{e}_j\right|/\sqrt{m_j}\)</span>, of element of
3N dimensional modulation vector to be real. The complex modulation
vector is shown in <code class="docutils literal notranslate"><span class="pre">modulation.yaml</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">MODULATION</span> <span class="o">=</span> <span class="mi">3</span> <span class="mi">3</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">3</span> <span class="mi">1</span><span class="o">/</span><span class="mi">3</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">3</span> <span class="mi">1</span><span class="o">/</span><span class="mi">3</span> <span class="mi">0</span> <span class="mi">2</span> <span class="mf">3.5</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">MODULATION</span> <span class="o">=</span> <span class="mi">3</span> <span class="mi">3</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">3</span> <span class="mi">1</span><span class="o">/</span><span class="mi">3</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">3</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">2</span> <span class="mi">2</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">MODULATION</span> <span class="o">=</span> <span class="mi">3</span> <span class="mi">3</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">3</span> <span class="mi">1</span><span class="o">/</span><span class="mi">3</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">3</span> <span class="mi">1</span><span class="o">/</span><span class="mi">3</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">90</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">MODULATION</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span> <span class="o">-</span><span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">2</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="characters-of-irreducible-representations">
<span id="irreducible-representation-related-tags"></span><h2><a class="toc-backref" href="#id72">Characters of irreducible representations</a><a class="headerlink" href="#characters-of-irreducible-representations" title="Permalink to this headline">¶</a></h2>
<div class="section" id="irreps">
<span id="irreps-tag"></span><h3><a class="toc-backref" href="#id73"><code class="docutils literal notranslate"><span class="pre">IRREPS</span></code></a><a class="headerlink" href="#irreps" title="Permalink to this headline">¶</a></h3>
<p>Characters of irreducible representations (IRs) of phonon modes are
shown. For this calculation, a primitive cell has to be used. If the
input unit cell is a non-primitive cell, it has to be transformed to a
primitive cell using <code class="docutils literal notranslate"><span class="pre">PRIMITIVE_AXIS</span></code> tag.</p>
<p>The first three values gives a <em>q</em>-point in reduced coordinates
to be calculated.  The degenerated modes are searched only by the closeness of
frequencies. The frequency difference to be tolerated is specified by
the fourth value in the frequency unit that the user specified.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">IRREPS</span> <span class="o">=</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mf">1e-3</span>
</pre></div>
</div>
<p>Only the databases of IRs for a few point group types at the
<span class="math notranslate nohighlight">\(\Gamma\)</span> point are implemented. If the database is available,
the symbols of the IRs and the rotation operations are shown.</p>
</div>
<div class="section" id="show-irreps">
<h3><a class="toc-backref" href="#id74"><code class="docutils literal notranslate"><span class="pre">SHOW_IRREPS</span></code></a><a class="headerlink" href="#show-irreps" title="Permalink to this headline">¶</a></h3>
<p>Irreducible representations are shown along with character table.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">IRREPS</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="mi">3</span> <span class="mi">1</span><span class="o">/</span><span class="mi">3</span> <span class="mi">0</span>
<span class="n">SHOW_IRREPS</span> <span class="o">=</span> <span class="o">.</span><span class="n">TRUE</span><span class="o">.</span>
</pre></div>
</div>
</div>
<div class="section" id="little-cogroup">
<h3><a class="toc-backref" href="#id75"><code class="docutils literal notranslate"><span class="pre">LITTLE_COGROUP</span></code></a><a class="headerlink" href="#little-cogroup" title="Permalink to this headline">¶</a></h3>
<p>Show irreps of little co-group (point-group of wavevector) instead of
little group.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">IRREPS</span> <span class="o">=</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">1</span><span class="o">/</span><span class="mi">8</span>
<span class="n">LITTLE_COGROUP</span> <span class="o">=</span> <span class="o">.</span><span class="n">TRUE</span><span class="o">.</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="input-output-file-control">
<h2><a class="toc-backref" href="#id76">Input/Output file control</a><a class="headerlink" href="#input-output-file-control" title="Permalink to this headline">¶</a></h2>
<div class="section" id="fc-format-readfc-format-writefc-format">
<span id="fc-format-tag"></span><h3><a class="toc-backref" href="#id77"><code class="docutils literal notranslate"><span class="pre">FC_FORMAT</span></code>,  <code class="docutils literal notranslate"><span class="pre">READFC_FORMAT</span></code>, <code class="docutils literal notranslate"><span class="pre">WRITEFC_FORMAT</span></code></a><a class="headerlink" href="#fc-format-readfc-format-writefc-format" title="Permalink to this headline">¶</a></h3>
<p>There are two file-formats to store force constants. Currently
<a class="reference internal" href="input-files.html#file-force-constants"><span class="std std-ref">text style</span></a> (<code class="docutils literal notranslate"><span class="pre">TEXT</span></code>) and hdf5 (<code class="docutils literal notranslate"><span class="pre">HDF5</span></code>)
formats are supported. The default file format is the <a class="reference internal" href="input-files.html#file-force-constants"><span class="std std-ref">text
style</span></a>. Reading and writing force constants are
invoked by <a class="reference internal" href="#force-constants-tag"><span class="std std-ref">FORCE_CONSTANTS tag</span></a>. Using
these tags, the input/output formats are switched.</p>
<p><code class="docutils literal notranslate"><span class="pre">FC_FORMAT</span></code> affects to both input and output, e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">FORCE_CONSTANTS</span> <span class="o">=</span> <span class="n">WRITE</span>
<span class="n">FC_FORMAT</span> <span class="o">=</span> <span class="n">HDF5</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">READFC_FORMAT</span></code> and <code class="docutils literal notranslate"><span class="pre">WRITEFC_FORMAT</span></code> can be used to control
input and output formats separately, i.e., the following setting to
convert force constants format is possible:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">READ_FORCE_CONSTANTS</span> <span class="o">=</span> <span class="o">.</span><span class="n">TRUE</span><span class="o">.</span>
<span class="n">WRITE_FORCE_CONSTANTS</span> <span class="o">=</span> <span class="o">.</span><span class="n">TRUE</span><span class="o">.</span>
<span class="n">WRITEFC_FORMAT</span> <span class="o">=</span> <span class="n">HDF5</span>
</pre></div>
</div>
</div>
<div class="section" id="band-format-mesh-format-qpoints-format">
<span id="band-format-tag"></span><h3><a class="toc-backref" href="#id78"><code class="docutils literal notranslate"><span class="pre">BAND_FORMAT</span></code>, <code class="docutils literal notranslate"><span class="pre">MESH_FORMAT</span></code>, <code class="docutils literal notranslate"><span class="pre">QPOINTS_FORMAT</span></code></a><a class="headerlink" href="#band-format-mesh-format-qpoints-format" title="Permalink to this headline">¶</a></h3>
<p>There are two file-formats to write the results of band structure,
mesh, and q-points calculations. Currently YAML (<code class="docutils literal notranslate"><span class="pre">YAML</span></code>) and hdf5
(<code class="docutils literal notranslate"><span class="pre">HDF5</span></code>) formats are supported. The default file format is the YAML
format. The file format is changed as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">BAND_FORMAT</span> <span class="o">=</span> <span class="n">HDF5</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">MESH_FORMAT</span> <span class="o">=</span> <span class="n">HDF5</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">QPOINTS_FORMAT</span> <span class="o">=</span> <span class="n">HDF5</span>
</pre></div>
</div>
</div>
<div class="section" id="hdf5">
<span id="hdf5-tag"></span><h3><a class="toc-backref" href="#id79"><code class="docutils literal notranslate"><span class="pre">HDF5</span></code></a><a class="headerlink" href="#hdf5" title="Permalink to this headline">¶</a></h3>
<p><strong>This tag is deprecated.</strong></p>
<p>The following output files are written in hdf5 format instead of their
original formats (in parenthesis) by <code class="docutils literal notranslate"><span class="pre">HDF5</span> <span class="pre">=</span> <span class="pre">.TRUE.</span></code>.  In addition,
<code class="docutils literal notranslate"><span class="pre">force_constants.hdf5</span></code> is read with this tag.</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">force_constants.hdf5</span></code> (<code class="docutils literal notranslate"><span class="pre">FORCE_CONSTANTS</span></code>)</li>
<li><code class="docutils literal notranslate"><span class="pre">mesh.hdf5</span></code> (<code class="docutils literal notranslate"><span class="pre">mesh.yaml</span></code>)</li>
<li><code class="docutils literal notranslate"><span class="pre">band.hdf5</span></code> (<code class="docutils literal notranslate"><span class="pre">band.yaml</span></code>)</li>
<li><code class="docutils literal notranslate"><span class="pre">qpoints.hdf5</span></code> (<code class="docutils literal notranslate"><span class="pre">qpoints.yaml</span></code>)</li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">HDF5</span> <span class="o">=</span> <span class="o">.</span><span class="n">TRUE</span><span class="o">.</span>
</pre></div>
</div>
<div class="section" id="force-constants-hdf5">
<h4><code class="docutils literal notranslate"><span class="pre">force_constants.hdf5</span></code><a class="headerlink" href="#force-constants-hdf5" title="Permalink to this headline">¶</a></h4>
<p>With <code class="docutils literal notranslate"><span class="pre">--hdf5</span></code> option and <code class="docutils literal notranslate"><span class="pre">FORCE_CONSTANTS</span> <span class="pre">=</span> <span class="pre">WRITE</span></code>
(<code class="docutils literal notranslate"><span class="pre">--writefc</span></code>), <code class="docutils literal notranslate"><span class="pre">force_constants.hdf5</span></code> is written.
With <code class="docutils literal notranslate"><span class="pre">--hdf5</span></code> option and <code class="docutils literal notranslate"><span class="pre">FORCE_CONSTANTS</span> <span class="pre">=</span> <span class="pre">READ</span></code> (<code class="docutils literal notranslate"><span class="pre">--readfc</span></code>),
<code class="docutils literal notranslate"><span class="pre">force_constants.hdf5</span></code> is read.</p>
</div>
<div class="section" id="mesh-hdf5">
<h4><code class="docutils literal notranslate"><span class="pre">mesh.hdf5</span></code><a class="headerlink" href="#mesh-hdf5" title="Permalink to this headline">¶</a></h4>
<p>In the mesh sampling calculations (see <a class="reference internal" href="#mesh-sampling-tags"><span class="std std-ref">Mesh sampling tags</span></a>),
calculation results are written into <code class="docutils literal notranslate"><span class="pre">mesh.hdf5</span></code> but not into
<code class="docutils literal notranslate"><span class="pre">mesh.yaml</span></code>. Using this option may reduce the data output size and
thus writing time when <code class="docutils literal notranslate"><span class="pre">mesh.yaml</span></code> is huge, e.g., eigenvectors are
written on a dense sampling mesh.</p>
</div>
<div class="section" id="qpoints-hdf5">
<h4><code class="docutils literal notranslate"><span class="pre">qpoints.hdf5</span></code><a class="headerlink" href="#qpoints-hdf5" title="Permalink to this headline">¶</a></h4>
<p>In the specific q-points calculations (<a class="reference internal" href="#qpoints-tag"><span class="std std-ref">QPOINTS</span></a>),
calculation results are written into <code class="docutils literal notranslate"><span class="pre">qpoints.hdf5</span></code> but not into
<code class="docutils literal notranslate"><span class="pre">qpoints.yaml</span></code>. With <a class="reference internal" href="#writedm-tag"><span class="std std-ref">WRITEDM</span></a>, dynamical matrices are also
stored in <code class="docutils literal notranslate"><span class="pre">qpoints.hdf5</span></code>. Using this option may be useful with large
set of q-points with including eigenvector or dynamical matrix output.</p>
</div>
<div class="section" id="band-hdf5">
<h4><code class="docutils literal notranslate"><span class="pre">band.hdf5</span></code><a class="headerlink" href="#band-hdf5" title="Permalink to this headline">¶</a></h4>
<p>In the band structure calculations (<a class="reference internal" href="#band-structure-related-tags"><span class="std std-ref">Band structure tags</span></a>),
calculation results are written into <code class="docutils literal notranslate"><span class="pre">band.hdf5</span></code> but not into
<code class="docutils literal notranslate"><span class="pre">band.yaml</span></code>.</p>
</div>
</div>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
<div id="sourcelink">
  <a href="_sources/setting-tags.rst.txt"
     rel="nofollow">Source</a>
</div>
      
    </p>
    <p>
        &copy; Copyright 2009, Atsushi Togo.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.1.<br/>
    </p>
  </div>
</footer>
  </body>
</html>