
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Input files &#8212; Phonopy v.2.32.0</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!-- 
    this give us a css class that will be invisible only if js is disabled 
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=26a4bc78f4c0ddb94549" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=26a4bc78f4c0ddb94549" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=a3416100" />
  
  <!-- So that users can add custom icons -->
  <script src="_static/scripts/fontawesome.js?digest=26a4bc78f4c0ddb94549"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=26a4bc78f4c0ddb94549" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=26a4bc78f4c0ddb94549" />

    <script src="_static/documentation_options.js?v=a98d72f5"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'input-files';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Output files" href="output-files.html" />
    <link rel="prev" title="Examples" href="examples.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="2.32" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
  
  
    <p class="title logo__title">Phonopy v.2.32.0</p>
  
</a></div>
        <div class="sidebar-primary-item">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="symmetry.html">Crystal symmetry</a></li>
<li class="toctree-l1"><a class="reference internal" href="workflow.html">Work flow</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Input files</a></li>
<li class="toctree-l1"><a class="reference internal" href="output-files.html">Output files</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="setting-tags.html">Setting tags</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="animation.html">How to watch animation</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="command-options.html">Command options</a></li>
<li class="toctree-l1"><a class="reference internal" href="dynamic-structure-factor.html">Dynamic structure factor</a></li>
<li class="toctree-l1"><a class="reference internal" href="gruneisen.html">Mode Gr√ºneisen parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="qha.html">Quasi harmonic approximation</a></li>
<li class="toctree-l1"><a class="reference internal" href="random-displacements.html">Random displacements</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="interfaces.html">Interfaces to calculators</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="vasp.html">VASP &amp; phonopy calculation</a></li>
<li class="toctree-l2"><a class="reference internal" href="wien2k.html">Wien2k &amp; phonopy calculation</a></li>
<li class="toctree-l2"><a class="reference internal" href="qe.html">Quantum ESPRESSO (QE) &amp; phonopy calculation</a></li>
<li class="toctree-l2"><a class="reference internal" href="abinit.html">Abinit &amp; phonopy calculation</a></li>
<li class="toctree-l2"><a class="reference internal" href="siesta.html">Siesta &amp; phonopy calculation</a></li>
<li class="toctree-l2"><a class="reference internal" href="elk.html">Elk &amp; phonopy calculation</a></li>
<li class="toctree-l2"><a class="reference internal" href="crystal.html">CRYSTAL &amp; phonopy calculation</a></li>
<li class="toctree-l2"><a class="reference internal" href="dftb%2B.html">DFTB+ &amp; phonopy calculation</a></li>
<li class="toctree-l2"><a class="reference internal" href="turbomole.html">TURBOMOLE &amp; phonopy calculation</a></li>
<li class="toctree-l2"><a class="reference internal" href="cp2k.html">CP2K &amp; phonopy calculation</a></li>
<li class="toctree-l2"><a class="reference internal" href="aims.html">FHI-aims &amp; phonopy calculations</a></li>
<li class="toctree-l2"><a class="reference internal" href="castep.html">CASTEP &amp; phonopy calculation</a></li>
<li class="toctree-l2"><a class="reference internal" href="Fleur.html">Fleur &amp; phonopy calculation</a></li>
<li class="toctree-l2"><a class="reference internal" href="abacus.html">ABACUS &amp; phonopy calculation</a></li>
<li class="toctree-l2"><a class="reference internal" href="lammps.html">LAMMPS &amp; phonopy calculation</a></li>
<li class="toctree-l2"><a class="reference internal" href="vasp-dfpt.html">VASP-DFPT &amp; phonopy calculation</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="auxiliary-tools.html">Auxiliary tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="external-tools.html">External tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="phonopy-module.html">Phonopy API for Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="phonopy-yaml.html">phonopy-yaml format</a></li>
<li class="toctree-l1"><a class="reference internal" href="phonopy-load.html">phonopy-load command</a></li>
<li class="toctree-l1"><a class="reference internal" href="mlp-sscha.html">Temperature dependent force constants calculation using pypolymlp and symfc</a></li>
<li class="toctree-l1"><a class="reference internal" href="formulation.html">Formulations</a></li>
<li class="toctree-l1"><a class="reference internal" href="citation.html">How to cite phonopy</a></li>
<li class="toctree-l1"><a class="reference internal" href="reference.html">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Change Log</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/input-files.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button>


<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Input files</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#setting-file">Setting file</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#phonopy-disp-yaml"><code class="docutils literal notranslate"><span class="pre">phonopy_disp.yaml</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#structure-file">Structure file</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#vasp-poscar-like-format">VASP POSCAR like format</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#example-of-rutile-type-silicon-oxide-crystal-structure-vasp-4-style">Example of rutile-type silicon oxide crystal structure (VASP 4 style)</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#example-of-rutile-type-silicon-oxide-crystal-structure-vasp-5-style">Example of rutile-type silicon oxide crystal structure (VASP 5 style)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#force-file-force-sets">Force file (<code class="docutils literal notranslate"><span class="pre">FORCE_SETS</span></code>)</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#type-1">Type 1</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#example">Example</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#type-2">Type 2</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Example</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#force-constants-and-force-constants-hdf5"><code class="docutils literal notranslate"><span class="pre">FORCE_CONSTANTS</span></code> and <code class="docutils literal notranslate"><span class="pre">force_constants.hdf5</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#format-of-force-constants">Format of <code class="docutils literal notranslate"><span class="pre">FORCE_CONSTANTS</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">Example</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#format-of-force-constants-hdf5">Format of <code class="docutils literal notranslate"><span class="pre">force_constants.hdf5</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#qpoints-optional"><code class="docutils literal notranslate"><span class="pre">QPOINTS</span></code> (optional)</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">Example</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#born-optional"><code class="docutils literal notranslate"><span class="pre">BORN</span></code> (optional)</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#format">Format</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">Example</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="input-files">
<h1>Input files<a class="headerlink" href="#input-files" title="Link to this heading">#</a></h1>
<section id="setting-file">
<h2>Setting file<a class="headerlink" href="#setting-file" title="Link to this heading">#</a></h2>
<p>Configuration of phonopy calculation can be written in a setting file though
it is recommended to use phonopy with <a class="reference internal" href="command-options.html#command-options"><span class="std std-ref">Command options</span></a>.</p>
<p>The setting file contains phonopy configurations whose details are found
at <a class="reference internal" href="setting-tags.html#setting-tags"><span class="std std-ref">Setting tags</span></a>. This file is passed to phonopy as the argument of
<code class="docutils literal notranslate"><span class="pre">--conf</span></code> option, e.g.,</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>%<span class="w"> </span>phonopy-load<span class="w"> </span>--config<span class="w"> </span>phonopy.conf<span class="w"> </span><span class="o">[</span>OPTIONS<span class="o">]</span>
</pre></div>
</div>
<p>where the configuration filename is arbitrary.</p>
</section>
<section id="phonopy-disp-yaml">
<h2><code class="docutils literal notranslate"><span class="pre">phonopy_disp.yaml</span></code><a class="headerlink" href="#phonopy-disp-yaml" title="Link to this heading">#</a></h2>
<p>This is an output file after creating the displacements by <code class="docutils literal notranslate"><span class="pre">-d</span></code> option. This
contains the crystal structure information, primitive cell and supercell sizes,
and also the calculator interface. Therefore with this file, users will not need
to specify those crystal structure related tags when running phonopy.
<code class="docutils literal notranslate"><span class="pre">phonopy_disp.yaml</span></code> is a default file name that phonopy tries to find in the
current directory. Therefore, phonopy can be used as</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">phonopy</span><span class="o">-</span><span class="n">load</span> <span class="p">[</span><span class="n">OPTIONS</span><span class="p">]</span>
</pre></div>
</div>
<p>and <code class="docutils literal notranslate"><span class="pre">FORCE_SETS</span></code> and <code class="docutils literal notranslate"><span class="pre">BORN</span></code> are also searched automatically in the current
directory. <code class="docutils literal notranslate"><span class="pre">FORCE_CONSTANTS</span></code> can be read <code class="docutils literal notranslate"><span class="pre">--readfc</span></code> option.</p>
<p>Other information such as forces (in <code class="docutils literal notranslate"><span class="pre">FORCE_SETS</span></code>), parameters for
non-analytical term correction (in <code class="docutils literal notranslate"><span class="pre">BORN</span></code>) can be also stored in
<code class="docutils literal notranslate"><span class="pre">phonopy_*.yaml</span></code> like file. If <code class="docutils literal notranslate"><span class="pre">phonopy_params.yaml</span></code> contains necessary
information to run expected phonon calculation, it is unnecessary to have
<code class="docutils literal notranslate"><span class="pre">FORCE_SETS</span></code> and <code class="docutils literal notranslate"><span class="pre">BORN</span></code> in the current directory when <code class="docutils literal notranslate"><span class="pre">phonopy_params.yaml</span></code> is
passed as the first argument of <code class="docutils literal notranslate"><span class="pre">phonopy-load</span></code></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">phonopy</span><span class="o">-</span><span class="n">load</span> <span class="n">phonopy_params</span><span class="o">.</span><span class="n">yaml</span> <span class="p">[</span><span class="n">OPTIONS</span><span class="p">]</span>
</pre></div>
</div>
<p>can perform the phonon calculation. See more details in
<a class="reference internal" href="phonopy-load.html#phonopy-load-command"><span class="std std-ref">phonopy-load command</span></a>.</p>
</section>
<section id="structure-file">
<h2>Structure file<a class="headerlink" href="#structure-file" title="Link to this heading">#</a></h2>
<p>Crystal structure is described by a file with specific format for each
calculator, though the default crystal structure is written in VASP POSCAR
format. See the detail of the calculator interfaces at
<a class="reference internal" href="interfaces.html#calculator-interfaces"><span class="std std-ref">Interfaces to calculators</span></a>.</p>
<section id="vasp-poscar-like-format">
<h3>VASP POSCAR like format<a class="headerlink" href="#vasp-poscar-like-format" title="Link to this heading">#</a></h3>
<p>In the following, the VASP POSCAR format that phonopy can parse is explained.
The format is simple. The first line is for your comment, where you can write
anything you want. The second line is the ratio for lattice parameters. You can
multiply by this number. The third to fifth lines give the lattice parameters,
<em>a</em>, <em>b</em>, and <em>c</em> for the respective lines. The sixth line contains the number
of atoms for each atomic species, which have to correspond to the atomic
positions in the order. The seventh line should be written as <code class="docutils literal notranslate"><span class="pre">Direct</span></code>. This
means that the atomic positions are represented in fractional (reduced)
coordinates. When you write chemical symbols in the first line, they are read
and those defined by the <code class="docutils literal notranslate"><span class="pre">ATOM_NAME</span></code> tag are overwritten.</p>
<section id="example-of-rutile-type-silicon-oxide-crystal-structure-vasp-4-style">
<span id="example-poscar1"></span><h4>Example of rutile-type silicon oxide crystal structure (VASP 4 style)<a class="headerlink" href="#example-of-rutile-type-silicon-oxide-crystal-structure-vasp-4-style" title="Link to this heading">#</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Si</span> <span class="n">O</span>
   <span class="mf">1.00000000000000</span>
     <span class="mf">4.2266540199664249</span>    <span class="mf">0.0000000000000000</span>    <span class="mf">0.0000000000000000</span>
     <span class="mf">0.0000000000000000</span>    <span class="mf">4.2266540199664249</span>    <span class="mf">0.0000000000000000</span>
     <span class="mf">0.0000000000000000</span>    <span class="mf">0.0000000000000000</span>    <span class="mf">2.6888359272289208</span>
 <span class="mi">2</span>   <span class="mi">4</span>
<span class="n">Direct</span>
  <span class="mf">0.0000000000000000</span>  <span class="mf">0.0000000000000000</span>  <span class="mf">0.0000000000000000</span>
  <span class="mf">0.5000000000000000</span>  <span class="mf">0.5000000000000000</span>  <span class="mf">0.5000000000000000</span>
  <span class="mf">0.3067891334429594</span>  <span class="mf">0.3067891334429594</span>  <span class="mf">0.0000000000000000</span>
  <span class="mf">0.6932108665570406</span>  <span class="mf">0.6932108665570406</span>  <span class="mf">0.0000000000000000</span>
  <span class="mf">0.1932108665570406</span>  <span class="mf">0.8067891334429594</span>  <span class="mf">0.5000000000000000</span>
  <span class="mf">0.8067891334429594</span>  <span class="mf">0.1932108665570406</span>  <span class="mf">0.5000000000000000</span>
</pre></div>
</div>
</section>
<section id="example-of-rutile-type-silicon-oxide-crystal-structure-vasp-5-style">
<h4>Example of rutile-type silicon oxide crystal structure (VASP 5 style)<a class="headerlink" href="#example-of-rutile-type-silicon-oxide-crystal-structure-vasp-5-style" title="Link to this heading">#</a></h4>
<p>The VASP 5.x style is also supported. Chemical symbols are inserted just before
the line of the numbers of atoms. The chemical symbols in this line overwrite
those defined by the <code class="docutils literal notranslate"><span class="pre">ATOM_NAME</span></code> tag and those defined by the first line of
<code class="docutils literal notranslate"><span class="pre">POSCAR</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Stishovite</span>
   <span class="mf">1.00000000000000</span>
     <span class="mf">4.2266540199664249</span>    <span class="mf">0.0000000000000000</span>    <span class="mf">0.0000000000000000</span>
     <span class="mf">0.0000000000000000</span>    <span class="mf">4.2266540199664249</span>    <span class="mf">0.0000000000000000</span>
     <span class="mf">0.0000000000000000</span>    <span class="mf">0.0000000000000000</span>    <span class="mf">2.6888359272289208</span>
<span class="n">Si</span>   <span class="n">O</span>
 <span class="mi">2</span>   <span class="mi">4</span>
<span class="n">Direct</span>
  <span class="mf">0.0000000000000000</span>  <span class="mf">0.0000000000000000</span>  <span class="mf">0.0000000000000000</span>
  <span class="mf">0.5000000000000000</span>  <span class="mf">0.5000000000000000</span>  <span class="mf">0.5000000000000000</span>
  <span class="mf">0.3067891334429594</span>  <span class="mf">0.3067891334429594</span>  <span class="mf">0.0000000000000000</span>
  <span class="mf">0.6932108665570406</span>  <span class="mf">0.6932108665570406</span>  <span class="mf">0.0000000000000000</span>
  <span class="mf">0.1932108665570406</span>  <span class="mf">0.8067891334429594</span>  <span class="mf">0.5000000000000000</span>
  <span class="mf">0.8067891334429594</span>  <span class="mf">0.1932108665570406</span>  <span class="mf">0.5000000000000000</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="force-file-force-sets">
<span id="file-forces"></span><h2>Force file (<code class="docutils literal notranslate"><span class="pre">FORCE_SETS</span></code>)<a class="headerlink" href="#force-file-force-sets" title="Link to this heading">#</a></h2>
<p>Two types of <code class="docutils literal notranslate"><span class="pre">FORCE_SETS</span></code> formats are supported.</p>
<section id="type-1">
<span id="file-forces-type-1"></span><h3>Type 1<a class="headerlink" href="#type-1" title="Link to this heading">#</a></h3>
<p>This format is the default format of phonopy and force constants can be
calculated by built-in force constants calculator of phonopy by finite
difference method, though external force constants calculator can be also used
to obtain force constants with this format by the fitting approach.</p>
<p>This file gives sets of forces in supercells with finite atomic displacements.
Each supercell involves one displaced atom. The first line is the number of
atoms in supercell. The second line gives number of calculated supercells with
displacements. Below the lines, sets of forces with displacements are written.
In each set, firstly the atom number in supercell is written. Secondary, the
atomic displacement in <strong>Cartesian coordinates</strong> is written. Below the
displacement line, atomic forces in <strong>Cartesian coordinates</strong> are successively
written. This is repeated for the set of displacements. Blank likes are simply
ignored.</p>
<p>In the following example, the third line is the displaced atom number that
corresponds to the atom number in the supercell created by phonopy. The fourth
line gives the displacements in <strong>Cartesian coordinates</strong>. The lines below, the
atomic forces in <strong>Cartesian coordinates</strong> are written. Once all the forces for
a supercell are written, the next set of forces are written. This routine is
repeated until the forces of all the displacements have been written.</p>
<section id="example">
<h4>Example<a class="headerlink" href="#example" title="Link to this heading">#</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">48</span>
<span class="mi">2</span>

<span class="mi">1</span>
  <span class="mf">0.0050650623043761</span>   <span class="mf">0.0000000000000000</span>   <span class="mf">0.0086223630086415</span>
  <span class="o">-</span><span class="mf">0.0347116200</span>   <span class="o">-</span><span class="mf">0.0000026500</span>   <span class="o">-</span><span class="mf">0.0679795200</span>
   <span class="mf">0.0050392400</span>   <span class="o">-</span><span class="mf">0.0015711700</span>   <span class="o">-</span><span class="mf">0.0079514600</span>
   <span class="mf">0.0027380900</span>   <span class="o">-</span><span class="mf">0.0017851900</span>   <span class="o">-</span><span class="mf">0.0069206400</span>
<span class="o">...</span> <span class="p">(</span><span class="k">continue</span> <span class="n">until</span> <span class="nb">all</span> <span class="n">the</span> <span class="n">forces</span> <span class="k">for</span> <span class="n">this</span> <span class="n">displacement</span> <span class="n">have</span> <span class="n">written</span><span class="p">)</span>

<span class="mi">25</span>
  <span class="mf">0.0050650623043761</span>   <span class="mf">0.0000000000000000</span>   <span class="mf">0.0086223630086415</span>
  <span class="o">-</span><span class="mf">0.0017134500</span>   <span class="o">-</span><span class="mf">0.0001539800</span>    <span class="mf">0.0017333400</span>
   <span class="mf">0.0013248100</span>    <span class="mf">0.0001984300</span>   <span class="o">-</span><span class="mf">0.0001203700</span>
  <span class="o">-</span><span class="mf">0.0001310200</span>   <span class="o">-</span><span class="mf">0.0007955600</span>    <span class="mf">0.0003889300</span>
<span class="o">...</span> <span class="p">(</span><span class="k">continue</span> <span class="n">until</span> <span class="nb">all</span> <span class="n">the</span> <span class="n">forces</span> <span class="k">for</span> <span class="n">this</span> <span class="n">displacement</span> <span class="n">have</span> <span class="n">written</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="type-2">
<span id="file-forces-type-2"></span><h3>Type 2<a class="headerlink" href="#type-2" title="Link to this heading">#</a></h3>
<p>The format is compatible to <code class="docutils literal notranslate"><span class="pre">DFSET</span></code> of
<a class="reference external" href="https://alm.readthedocs.io/en/develop/format-dfset.html#format-of-dfset">ALM code</a>.</p>
<p>Each line has exactly 6 elements. The first three and second three elements give
displacement and force of an atom in a supercell, respectively. One set with the
number of lines of supercell atoms corresponds to one supercell calculation and
the number of supercell calculations are concatenated as many as the user likes.
This file is parsed to finally get displacements and forces to have the array
shapes of <code class="docutils literal notranslate"><span class="pre">displacements.shape</span> <span class="pre">=</span> <span class="pre">(num_supercells,</span> <span class="pre">num_atoms,</span> <span class="pre">3)</span></code> and
<code class="docutils literal notranslate"><span class="pre">forces.shape</span> <span class="pre">=</span> <span class="pre">(num_supercells,</span> <span class="pre">num_atoms,</span> <span class="pre">3)</span></code>.</p>
<p>Force constants can be calculated by the fitting approach and this force
constants calculation requires an external force constants calculator such as
<a class="reference external" href="https://github.com/symfc/symfc">symfc</a> (<code class="docutils literal notranslate"><span class="pre">--symfc</span></code>) or
<a class="reference external" href="https://alm.readthedocs.io/en/develop/index.html">ALM</a> (<code class="docutils literal notranslate"><span class="pre">--alm</span></code>
option). All the data are used for calculating force constants in the fitting
(usually least square fitting) by the force constants calculator.</p>
<section id="id1">
<h4>Example<a class="headerlink" href="#id1" title="Link to this heading">#</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="mf">0.00834956</span>     <span class="mf">0.00506291</span>     <span class="mf">0.00215683</span>    <span class="o">-</span><span class="mf">0.01723508</span>    <span class="o">-</span><span class="mf">0.00418148</span>    <span class="o">-</span><span class="mf">0.00376513</span>
<span class="o">-</span><span class="mf">0.00494556</span>     <span class="mf">0.00866021</span>    <span class="o">-</span><span class="mf">0.00073630</span>     <span class="mf">0.00849148</span>    <span class="o">-</span><span class="mf">0.01091833</span>    <span class="o">-</span><span class="mf">0.00458456</span>
<span class="o">-</span><span class="mf">0.00403290</span>    <span class="o">-</span><span class="mf">0.00837741</span>     <span class="mf">0.00368169</span>     <span class="mf">0.00476247</span>     <span class="mf">0.00907379</span>    <span class="o">-</span><span class="mf">0.00210179</span>
<span class="o">-</span><span class="mf">0.00462319</span>     <span class="mf">0.00361350</span>    <span class="o">-</span><span class="mf">0.00809745</span>     <span class="mf">0.00996582</span>    <span class="o">-</span><span class="mf">0.00320343</span>     <span class="mf">0.01904460</span>
 <span class="mf">0.00496785</span>    <span class="o">-</span><span class="mf">0.00596540</span>    <span class="o">-</span><span class="mf">0.00630352</span>    <span class="o">-</span><span class="mf">0.01882121</span>    <span class="o">-</span><span class="mf">0.00100787</span>     <span class="mf">0.01681980</span>
<span class="o">...</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="force-constants-and-force-constants-hdf5">
<span id="file-force-constants"></span><h2><code class="docutils literal notranslate"><span class="pre">FORCE_CONSTANTS</span></code> and <code class="docutils literal notranslate"><span class="pre">force_constants.hdf5</span></code><a class="headerlink" href="#force-constants-and-force-constants-hdf5" title="Link to this heading">#</a></h2>
<p>If the force constants of a supercell are known, it is not necessary to prepared
<code class="docutils literal notranslate"><span class="pre">FORCES</span></code>. Phonopy has an interface to read and write <code class="docutils literal notranslate"><span class="pre">FORCE_CONSTANTS</span></code> or
<code class="docutils literal notranslate"><span class="pre">force_constants.hdf5</span></code>. To read and write these files are controlled by
<a class="reference internal" href="setting-tags.html#force-constants-tag"><span class="std std-ref">force constants tags</span></a> and <a class="reference internal" href="setting-tags.html#fc-format-tag"><span class="std std-ref">FC_FORMAT, READFC_FORMAT, WRITEFC_FORMAT</span></a>. VASP
users can use <a class="reference internal" href="command-options.html#vasp-force-constants"><span class="std std-ref">VASP DFPT interface</span></a> to create
<code class="docutils literal notranslate"><span class="pre">FORCE_CONSTANTS</span></code> from <code class="docutils literal notranslate"><span class="pre">vasprun.xml</span></code>. Quantum ESPRESSO users can use <code class="docutils literal notranslate"><span class="pre">q2r.x</span></code> to
create force constants file by followng the instraction shown at <a class="reference internal" href="qe.html#qe-q2r"><span class="std std-ref">Using q2r.x to create phonopy force constants file</span></a></p>
<p>Force constants are stored in either array shape of</p>
<ul class="simple">
<li><p>Compact format: <code class="docutils literal notranslate"><span class="pre">(n_patom,</span> <span class="pre">n_satom,</span> <span class="pre">3,</span> <span class="pre">3)</span></code></p></li>
<li><p>Full format: <code class="docutils literal notranslate"><span class="pre">(n_satom,</span> <span class="pre">n_satom,</span> <span class="pre">3,</span> <span class="pre">3)</span></code></p></li>
</ul>
<p>where <code class="docutils literal notranslate"><span class="pre">n_satom</span></code> and <code class="docutils literal notranslate"><span class="pre">n_patom</span></code> are the numbers of atoms in supercell and
primitive cell, respectively.</p>
<section id="format-of-force-constants">
<h3>Format of <code class="docutils literal notranslate"><span class="pre">FORCE_CONSTANTS</span></code><a class="headerlink" href="#format-of-force-constants" title="Link to this heading">#</a></h3>
<p>First line contains the first two elements of the shape of the force constants
array, i.e., for <code class="docutils literal notranslate"><span class="pre">(n_satom,</span> <span class="pre">n_satom,</span> <span class="pre">3,</span> <span class="pre">3)</span></code>, the first and second numbers are
the same and are the number of atoms in the supercell, and for
<code class="docutils literal notranslate"><span class="pre">(n_patom,</span> <span class="pre">n_satom,</span> <span class="pre">3,</span> <span class="pre">3)</span></code>, they are the numbers of atoms in the primitive cell
and supercell. If the first line contains only one number, it is assumed same as
that of the former case.</p>
<p>Below second line, force constants between atoms are written by every four
lines. In first line of the four lines, anything can be written, i.e., just
ignored. Second to fourth lines of the four lines are for the second rank tensor
of force constant in Cartesian coordinates, i.e.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">xx</span> <span class="n">xy</span> <span class="n">xz</span>
<span class="n">yx</span> <span class="n">yy</span> <span class="n">yz</span>
<span class="n">zx</span> <span class="n">zy</span> <span class="n">zz</span>
</pre></div>
</div>
</section>
<section id="id2">
<h3>Example<a class="headerlink" href="#id2" title="Link to this heading">#</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">32</span>  <span class="mi">32</span>
<span class="mi">1</span>   <span class="mi">1</span>
  <span class="mf">4.635786969900131</span>    <span class="o">-</span><span class="mf">0.000000000000000</span>    <span class="o">-</span><span class="mf">0.000000000000000</span>
 <span class="o">-</span><span class="mf">0.000000000000000</span>     <span class="mf">4.635786969900130</span>    <span class="o">-</span><span class="mf">0.000000000000000</span>
 <span class="o">-</span><span class="mf">0.000000000000000</span>    <span class="o">-</span><span class="mf">0.000000000000000</span>     <span class="mf">4.635786969900130</span>
<span class="mi">1</span>   <span class="mi">2</span>
 <span class="o">-</span><span class="mf">0.246720998398056</span>    <span class="o">-</span><span class="mf">0.000000000000000</span>    <span class="o">-</span><span class="mf">0.000000000000000</span>
 <span class="o">-</span><span class="mf">0.000000000000000</span>     <span class="mf">0.018256999881458</span>    <span class="o">-</span><span class="mf">0.000000000000000</span>
 <span class="o">-</span><span class="mf">0.000000000000000</span>    <span class="o">-</span><span class="mf">0.000000000000000</span>     <span class="mf">0.018256999881458</span>
<span class="o">...</span>
<span class="mi">1</span>  <span class="mi">32</span>
  <span class="mf">0.002646999982813</span>     <span class="mf">0.018011999883049</span>    <span class="o">-</span><span class="mf">0.000000000000000</span>
  <span class="mf">0.018011999883049</span>     <span class="mf">0.002646999982813</span>    <span class="o">-</span><span class="mf">0.000000000000000</span>
 <span class="o">-</span><span class="mf">0.000000000000000</span>    <span class="o">-</span><span class="mf">0.000000000000000</span>     <span class="mf">0.035303999770773</span>
<span class="mi">2</span>   <span class="mi">1</span>
 <span class="o">-</span><span class="mf">0.246720998398056</span>     <span class="mf">0.000000000000000</span>     <span class="mf">0.000000000000000</span>
  <span class="mf">0.000000000000000</span>     <span class="mf">0.018256999881458</span>     <span class="mf">0.000000000000000</span>
  <span class="mf">0.000000000000000</span>     <span class="mf">0.000000000000000</span>     <span class="mf">0.018256999881458</span>
<span class="o">...</span>
<span class="mi">32</span>  <span class="mi">32</span>
  <span class="mf">4.635786969900131</span>     <span class="mf">0.000000000000000</span>     <span class="mf">0.000000000000000</span>
  <span class="mf">0.000000000000000</span>     <span class="mf">4.635786969900130</span>     <span class="mf">0.000000000000000</span>
  <span class="mf">0.000000000000000</span>     <span class="mf">0.000000000000000</span>     <span class="mf">4.635786969900130</span>
</pre></div>
</div>
</section>
<section id="format-of-force-constants-hdf5">
<h3>Format of <code class="docutils literal notranslate"><span class="pre">force_constants.hdf5</span></code><a class="headerlink" href="#format-of-force-constants-hdf5" title="Link to this heading">#</a></h3>
<p>This is an alternative of <code class="docutils literal notranslate"><span class="pre">FORCE_CONSTANTS</span></code> but the data is stored in HDF5
format. See the detail of how to obtain this file, <a class="reference internal" href="setting-tags.html#fc-format-tag"><span class="std std-ref">FC_FORMAT, READFC_FORMAT, WRITEFC_FORMAT</span></a>.</p>
<p>The data are stored as follows. <code class="docutils literal notranslate"><span class="pre">p2s_map</span></code> is introduced at version 1.12.6. Force
constants data can be stored in the array shape of either
<code class="docutils literal notranslate"><span class="pre">(n_satom,</span> <span class="pre">n_satom,</span> <span class="pre">3,</span> <span class="pre">3)</span></code> or <code class="docutils literal notranslate"><span class="pre">(n_patom,</span> <span class="pre">n_satom,</span> <span class="pre">3,</span> <span class="pre">3)</span></code>. In the later case,
<code class="docutils literal notranslate"><span class="pre">p2s_map</span></code> is necessary for the consistency check and this gives the indices of
atoms in the primitive cell in supercell index system.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="kn">import</span> <span class="nn">h5py</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">2</span><span class="p">]:</span> <span class="n">f</span> <span class="o">=</span> <span class="n">h5py</span><span class="o">.</span><span class="n">File</span><span class="p">(</span><span class="s2">&quot;force_constants.hdf5&quot;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">3</span><span class="p">]:</span> <span class="nb">list</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">3</span><span class="p">]:</span> <span class="p">[</span><span class="s1">&#39;force_constants&#39;</span><span class="p">,</span> <span class="s1">&#39;p2s_map&#39;</span><span class="p">]</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">4</span><span class="p">]:</span> <span class="n">f</span><span class="p">[</span><span class="s1">&#39;force_constants&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">4</span><span class="p">]:</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">5</span><span class="p">]:</span> <span class="n">f</span><span class="p">[</span><span class="s1">&#39;p2s_map&#39;</span><span class="p">][:]</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">5</span><span class="p">]:</span> <span class="n">array</span><span class="p">([</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">32</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">int32</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="qpoints-optional">
<span id="qpoints-file"></span><h2><code class="docutils literal notranslate"><span class="pre">QPOINTS</span></code> (optional)<a class="headerlink" href="#qpoints-optional" title="Link to this heading">#</a></h2>
<p>Specific q-points are calculated using <code class="docutils literal notranslate"><span class="pre">QPOINTS</span> <span class="pre">=</span> <span class="pre">.TRUE.</span></code> tag and <code class="docutils literal notranslate"><span class="pre">QPOINTS</span></code>
file. The file format of <code class="docutils literal notranslate"><span class="pre">QPOINTS</span></code> is as follows. The first line gives the
number of q-points. Then the successive lines give q-points in reduced
coordinate of reciprocal space of the input unit cell.</p>
<section id="id3">
<h3>Example<a class="headerlink" href="#id3" title="Link to this heading">#</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">512</span>
<span class="o">-</span><span class="mf">0.437500000000000</span>  <span class="o">-</span><span class="mf">0.437500000000000</span>  <span class="o">-</span><span class="mf">0.437500000000000</span>
<span class="o">-</span><span class="mf">0.312500000000000</span>  <span class="o">-</span><span class="mf">0.437500000000000</span>  <span class="o">-</span><span class="mf">0.437500000000000</span>
<span class="o">-</span><span class="mf">0.187500000000000</span>  <span class="o">-</span><span class="mf">0.437500000000000</span>  <span class="o">-</span><span class="mf">0.437500000000000</span>
<span class="o">...</span>
</pre></div>
</div>
</section>
</section>
<section id="born-optional">
<span id="born-file"></span><h2><code class="docutils literal notranslate"><span class="pre">BORN</span></code> (optional)<a class="headerlink" href="#born-optional" title="Link to this heading">#</a></h2>
<p>This file is used with the <code class="docutils literal notranslate"><span class="pre">--nac</span></code> option or <code class="docutils literal notranslate"><span class="pre">NAC</span></code> tag.</p>
<p>The formula implemented is refered to
<a class="reference internal" href="formulation.html#non-analytical-term-correction-theory"><span class="std std-ref">Non-analytical term correction</span></a>.</p>
<section id="format">
<h3>Format<a class="headerlink" href="#format" title="Link to this heading">#</a></h3>
<p>In the first line, unit conversion factor is given. In versions 1.10.4 or later,
the default value for each calculater can be used if characters than numerical
number are given. The default values for the calculaters are found at
<a class="reference internal" href="interfaces.html#nac-default-value-interfaces"><span class="std std-ref">Default unit conversion factor for non-analytical term correction</span></a>.</p>
<p>In the second line, dielectric constant <span class="math notranslate nohighlight">\(\epsilon\)</span> is specifed in
Cartesian coordinates. The nine values correspond to the tensor elements of xx,
xy, xz, yx, yy, yz, zx, zy, and zz.</p>
<p>From the third line, Born effective charges <span class="math notranslate nohighlight">\(Z\)</span> for the independent atoms
in the <strong>primitive cell</strong> have to be written in Cartesian coordinates. The
independent atoms can be found using the <code class="docutils literal notranslate"><span class="pre">-v</span></code> option. As shown below in the
Al2O3 example, the independent atoms are marked by <code class="docutils literal notranslate"><span class="pre">*</span></code> in front of atomic
positions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">phonopy</span> <span class="o">--</span><span class="n">pa</span> <span class="n">R</span> <span class="o">-</span><span class="n">v</span>
  <span class="n">_</span> <span class="n">__</span> <span class="o">|</span> <span class="o">|</span><span class="n">__</span>   <span class="n">___</span>  <span class="n">_</span> <span class="n">__</span>   <span class="n">___</span>   <span class="n">_</span> <span class="n">__</span>  <span class="n">_</span>   <span class="n">_</span>
 <span class="o">|</span> <span class="s1">&#39;_ \| &#39;</span><span class="n">_</span> \ <span class="o">/</span> <span class="n">_</span> \<span class="o">|</span> <span class="s1">&#39;_ \ / _ \ | &#39;</span><span class="n">_</span> \<span class="o">|</span> <span class="o">|</span> <span class="o">|</span> <span class="o">|</span>
 <span class="o">|</span> <span class="o">|</span><span class="n">_</span><span class="p">)</span> <span class="o">|</span> <span class="o">|</span> <span class="o">|</span> <span class="o">|</span> <span class="p">(</span><span class="n">_</span><span class="p">)</span> <span class="o">|</span> <span class="o">|</span> <span class="o">|</span> <span class="o">|</span> <span class="p">(</span><span class="n">_</span><span class="p">)</span> <span class="o">||</span> <span class="o">|</span><span class="n">_</span><span class="p">)</span> <span class="o">|</span> <span class="o">|</span><span class="n">_</span><span class="o">|</span> <span class="o">|</span>
 <span class="o">|</span> <span class="o">.</span><span class="n">__</span><span class="o">/|</span><span class="n">_</span><span class="o">|</span> <span class="o">|</span><span class="n">_</span><span class="o">|</span>\<span class="n">___</span><span class="o">/|</span><span class="n">_</span><span class="o">|</span> <span class="o">|</span><span class="n">_</span><span class="o">|</span>\<span class="n">___</span><span class="p">(</span><span class="n">_</span><span class="p">)</span> <span class="o">.</span><span class="n">__</span><span class="o">/</span> \<span class="n">__</span><span class="p">,</span> <span class="o">|</span>
 <span class="o">|</span><span class="n">_</span><span class="o">|</span>                            <span class="o">|</span><span class="n">_</span><span class="o">|</span>    <span class="o">|</span><span class="n">___</span><span class="o">/</span>
                                      <span class="mf">2.12.0</span>

<span class="n">Python</span> <span class="n">version</span> <span class="mf">3.9.6</span>
<span class="n">Spglib</span> <span class="n">version</span> <span class="mf">1.16.2</span>

<span class="n">Crystal</span> <span class="n">structure</span> <span class="n">was</span> <span class="n">read</span> <span class="kn">from</span> <span class="s2">&quot;phonopy_disp.yaml&quot;</span><span class="o">.</span>
<span class="n">Unit</span> <span class="n">of</span> <span class="n">length</span><span class="p">:</span> <span class="n">angstrom</span>
<span class="n">Settings</span><span class="p">:</span>
  <span class="n">Supercell</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span> <span class="mi">2</span> <span class="mi">1</span><span class="p">]</span>
  <span class="n">Primitive</span> <span class="n">matrix</span><span class="p">:</span>
    <span class="p">[</span><span class="mf">0.6666666666666666</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.3333333333333333</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.3333333333333333</span><span class="p">]</span>
    <span class="p">[</span><span class="mf">0.3333333333333333</span><span class="p">,</span> <span class="mf">0.3333333333333333</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.6666666666666666</span><span class="p">]</span>
    <span class="p">[</span><span class="mf">0.3333333333333333</span><span class="p">,</span> <span class="mf">0.3333333333333333</span><span class="p">,</span> <span class="mf">0.3333333333333333</span><span class="p">]</span>
<span class="n">Spacegroup</span><span class="p">:</span> <span class="n">R</span><span class="o">-</span><span class="mi">3</span><span class="n">c</span> <span class="p">(</span><span class="mi">167</span><span class="p">)</span>
<span class="o">------------------------------</span> <span class="n">primitive</span> <span class="n">cell</span> <span class="o">------------------------------</span>
<span class="n">Lattice</span> <span class="n">vectors</span><span class="p">:</span>
  <span class="n">a</span>    <span class="mf">2.387113172649497</span>    <span class="mf">1.378200432815288</span>    <span class="mf">4.337119797109073</span>
  <span class="n">b</span>   <span class="o">-</span><span class="mf">2.387113172649497</span>    <span class="mf">1.378200432815288</span>    <span class="mf">4.337119797109073</span>
  <span class="n">c</span>    <span class="mf">0.000000000000000</span>   <span class="o">-</span><span class="mf">2.756400865630577</span>    <span class="mf">4.337119797109073</span>
<span class="n">Atomic</span> <span class="n">positions</span> <span class="p">(</span><span class="n">fractional</span><span class="p">):</span>
   <span class="o">*</span><span class="mi">1</span> <span class="n">Al</span>  <span class="mf">0.35209370789580</span>  <span class="mf">0.35209370789579</span>  <span class="mf">0.35209370789580</span>  <span class="mf">26.982</span>
    <span class="mi">2</span> <span class="n">Al</span>  <span class="mf">0.64790629210421</span>  <span class="mf">0.64790629210420</span>  <span class="mf">0.64790629210421</span>  <span class="mf">26.982</span>
    <span class="mi">3</span> <span class="n">Al</span>  <span class="mf">0.14790629210421</span>  <span class="mf">0.14790629210421</span>  <span class="mf">0.14790629210421</span>  <span class="mf">26.982</span>
    <span class="mi">4</span> <span class="n">Al</span>  <span class="mf">0.85209370789579</span>  <span class="mf">0.85209370789580</span>  <span class="mf">0.85209370789579</span>  <span class="mf">26.982</span>
   <span class="o">*</span><span class="mi">5</span> <span class="n">O</span>   <span class="mf">0.55580865378801</span>  <span class="mf">0.94419134621199</span>  <span class="mf">0.25000000000000</span>  <span class="mf">15.999</span>
    <span class="mi">6</span> <span class="n">O</span>   <span class="mf">0.44419134621199</span>  <span class="mf">0.05580865378802</span>  <span class="mf">0.75000000000000</span>  <span class="mf">15.999</span>
    <span class="mi">7</span> <span class="n">O</span>   <span class="mf">0.25000000000000</span>  <span class="mf">0.55580865378801</span>  <span class="mf">0.94419134621199</span>  <span class="mf">15.999</span>
    <span class="mi">8</span> <span class="n">O</span>   <span class="mf">0.75000000000000</span>  <span class="mf">0.44419134621200</span>  <span class="mf">0.05580865378801</span>  <span class="mf">15.999</span>
    <span class="mi">9</span> <span class="n">O</span>   <span class="mf">0.94419134621199</span>  <span class="mf">0.25000000000000</span>  <span class="mf">0.55580865378801</span>  <span class="mf">15.999</span>
   <span class="mi">10</span> <span class="n">O</span>   <span class="mf">0.05580865378801</span>  <span class="mf">0.75000000000001</span>  <span class="mf">0.44419134621199</span>  <span class="mf">15.999</span>
<span class="o">--------------------------------</span> <span class="n">unit</span> <span class="n">cell</span> <span class="o">---------------------------------</span>
<span class="n">Lattice</span> <span class="n">vectors</span><span class="p">:</span>
  <span class="n">a</span>    <span class="mf">4.774226345298994</span>    <span class="mf">0.000000000000000</span>   <span class="o">-</span><span class="mf">0.000000000000000</span>
  <span class="n">b</span>   <span class="o">-</span><span class="mf">2.387113172649497</span>    <span class="mf">4.134601298445865</span>    <span class="mf">0.000000000000000</span>
  <span class="n">c</span>   <span class="o">-</span><span class="mf">0.000000000000000</span>    <span class="mf">0.000000000000000</span>   <span class="mf">13.011359391327222</span>
<span class="n">Atomic</span> <span class="n">positions</span> <span class="p">(</span><span class="n">fractional</span><span class="p">):</span>
   <span class="o">*</span><span class="mi">1</span> <span class="n">Al</span>  <span class="mf">0.33333333333334</span>  <span class="mf">0.66666666666666</span>  <span class="mf">0.01876037456246</span>  <span class="mf">26.982</span> <span class="o">&gt;</span> <span class="mi">1</span>
    <span class="mi">2</span> <span class="n">Al</span>  <span class="mf">0.33333333333334</span>  <span class="mf">0.66666666666666</span>  <span class="mf">0.31457295877087</span>  <span class="mf">26.982</span> <span class="o">&gt;</span> <span class="mi">2</span>
    <span class="mi">3</span> <span class="n">Al</span>  <span class="mf">0.00000000000000</span>  <span class="mf">0.00000000000000</span>  <span class="mf">0.14790629210421</span>  <span class="mf">26.982</span> <span class="o">&gt;</span> <span class="mi">3</span>
    <span class="mi">4</span> <span class="n">Al</span>  <span class="mf">0.66666666666666</span>  <span class="mf">0.33333333333334</span>  <span class="mf">0.18542704122913</span>  <span class="mf">26.982</span> <span class="o">&gt;</span> <span class="mi">4</span>
    <span class="mi">5</span> <span class="n">Al</span>  <span class="mf">0.00000000000000</span>  <span class="mf">0.00000000000000</span>  <span class="mf">0.35209370789579</span>  <span class="mf">26.982</span> <span class="o">&gt;</span> <span class="mi">1</span>
    <span class="mi">6</span> <span class="n">Al</span>  <span class="mf">0.00000000000000</span>  <span class="mf">0.00000000000000</span>  <span class="mf">0.64790629210421</span>  <span class="mf">26.982</span> <span class="o">&gt;</span> <span class="mi">2</span>
    <span class="mi">7</span> <span class="n">Al</span>  <span class="mf">0.66666666666666</span>  <span class="mf">0.33333333333334</span>  <span class="mf">0.48123962543754</span>  <span class="mf">26.982</span> <span class="o">&gt;</span> <span class="mi">3</span>
    <span class="mi">8</span> <span class="n">Al</span>  <span class="mf">0.33333333333334</span>  <span class="mf">0.66666666666666</span>  <span class="mf">0.51876037456246</span>  <span class="mf">26.982</span> <span class="o">&gt;</span> <span class="mi">4</span>
    <span class="mi">9</span> <span class="n">Al</span>  <span class="mf">0.66666666666666</span>  <span class="mf">0.33333333333334</span>  <span class="mf">0.68542704122913</span>  <span class="mf">26.982</span> <span class="o">&gt;</span> <span class="mi">1</span>
   <span class="mi">10</span> <span class="n">Al</span>  <span class="mf">0.66666666666666</span>  <span class="mf">0.33333333333334</span>  <span class="mf">0.98123962543754</span>  <span class="mf">26.982</span> <span class="o">&gt;</span> <span class="mi">2</span>
   <span class="mi">11</span> <span class="n">Al</span>  <span class="mf">0.33333333333334</span>  <span class="mf">0.66666666666666</span>  <span class="mf">0.81457295877087</span>  <span class="mf">26.982</span> <span class="o">&gt;</span> <span class="mi">3</span>
   <span class="mi">12</span> <span class="n">Al</span>  <span class="mf">0.00000000000000</span>  <span class="mf">0.00000000000000</span>  <span class="mf">0.85209370789579</span>  <span class="mf">26.982</span> <span class="o">&gt;</span> <span class="mi">4</span>
  <span class="o">*</span><span class="mi">13</span> <span class="n">O</span>   <span class="mf">0.30580865378801</span>  <span class="mf">0.00000000000000</span>  <span class="mf">0.25000000000000</span>  <span class="mf">15.999</span> <span class="o">&gt;</span> <span class="mi">5</span>
   <span class="mi">14</span> <span class="n">O</span>   <span class="mf">0.36085801287865</span>  <span class="mf">0.33333333333334</span>  <span class="mf">0.08333333333334</span>  <span class="mf">15.999</span> <span class="o">&gt;</span> <span class="mi">6</span>
   <span class="mi">15</span> <span class="n">O</span>   <span class="mf">0.00000000000000</span>  <span class="mf">0.30580865378801</span>  <span class="mf">0.25000000000000</span>  <span class="mf">15.999</span> <span class="o">&gt;</span> <span class="mi">7</span>
   <span class="mi">16</span> <span class="n">O</span>   <span class="mf">0.66666666666666</span>  <span class="mf">0.02752467954532</span>  <span class="mf">0.08333333333334</span>  <span class="mf">15.999</span> <span class="o">&gt;</span> <span class="mi">8</span>
   <span class="mi">17</span> <span class="n">O</span>   <span class="mf">0.69419134621199</span>  <span class="mf">0.69419134621199</span>  <span class="mf">0.25000000000000</span>  <span class="mf">15.999</span> <span class="o">&gt;</span> <span class="mi">9</span>
   <span class="mi">18</span> <span class="n">O</span>   <span class="mf">0.97247532045468</span>  <span class="mf">0.63914198712135</span>  <span class="mf">0.08333333333334</span>  <span class="mf">15.999</span> <span class="o">&gt;</span> <span class="mi">10</span>
   <span class="mi">19</span> <span class="n">O</span>   <span class="mf">0.97247532045468</span>  <span class="mf">0.33333333333334</span>  <span class="mf">0.58333333333334</span>  <span class="mf">15.999</span> <span class="o">&gt;</span> <span class="mi">5</span>
   <span class="mi">20</span> <span class="n">O</span>   <span class="mf">0.02752467954532</span>  <span class="mf">0.66666666666666</span>  <span class="mf">0.41666666666666</span>  <span class="mf">15.999</span> <span class="o">&gt;</span> <span class="mi">6</span>
   <span class="mi">21</span> <span class="n">O</span>   <span class="mf">0.66666666666666</span>  <span class="mf">0.63914198712135</span>  <span class="mf">0.58333333333334</span>  <span class="mf">15.999</span> <span class="o">&gt;</span> <span class="mi">7</span>
   <span class="mi">22</span> <span class="n">O</span>   <span class="mf">0.33333333333334</span>  <span class="mf">0.36085801287865</span>  <span class="mf">0.41666666666666</span>  <span class="mf">15.999</span> <span class="o">&gt;</span> <span class="mi">8</span>
   <span class="mi">23</span> <span class="n">O</span>   <span class="mf">0.36085801287865</span>  <span class="mf">0.02752467954532</span>  <span class="mf">0.58333333333334</span>  <span class="mf">15.999</span> <span class="o">&gt;</span> <span class="mi">9</span>
   <span class="mi">24</span> <span class="n">O</span>   <span class="mf">0.63914198712135</span>  <span class="mf">0.97247532045468</span>  <span class="mf">0.41666666666666</span>  <span class="mf">15.999</span> <span class="o">&gt;</span> <span class="mi">10</span>
   <span class="mi">25</span> <span class="n">O</span>   <span class="mf">0.63914198712135</span>  <span class="mf">0.66666666666666</span>  <span class="mf">0.91666666666666</span>  <span class="mf">15.999</span> <span class="o">&gt;</span> <span class="mi">5</span>
   <span class="mi">26</span> <span class="n">O</span>   <span class="mf">0.69419134621199</span>  <span class="mf">0.00000000000000</span>  <span class="mf">0.75000000000000</span>  <span class="mf">15.999</span> <span class="o">&gt;</span> <span class="mi">6</span>
   <span class="mi">27</span> <span class="n">O</span>   <span class="mf">0.33333333333334</span>  <span class="mf">0.97247532045468</span>  <span class="mf">0.91666666666666</span>  <span class="mf">15.999</span> <span class="o">&gt;</span> <span class="mi">7</span>
   <span class="mi">28</span> <span class="n">O</span>  <span class="o">-</span><span class="mf">0.00000000000000</span>  <span class="mf">0.69419134621199</span>  <span class="mf">0.75000000000000</span>  <span class="mf">15.999</span> <span class="o">&gt;</span> <span class="mi">8</span>
   <span class="mi">29</span> <span class="n">O</span>   <span class="mf">0.02752467954532</span>  <span class="mf">0.36085801287865</span>  <span class="mf">0.91666666666666</span>  <span class="mf">15.999</span> <span class="o">&gt;</span> <span class="mi">9</span>
   <span class="mi">30</span> <span class="n">O</span>   <span class="mf">0.30580865378801</span>  <span class="mf">0.30580865378801</span>  <span class="mf">0.75000000000000</span>  <span class="mf">15.999</span> <span class="o">&gt;</span> <span class="mi">10</span>
<span class="o">--------------------------------</span> <span class="nb">super</span> <span class="n">cell</span> <span class="o">--------------------------------</span>
<span class="o">...</span>
</pre></div>
</div>
<p>If VASP is used as the calculator for Born effective charge, and the hexagonal
unit cell is used for the calculation, the Born effective charge tensors of
atoms No. 1 and 13 have to be written in <code class="docutils literal notranslate"><span class="pre">BORN</span></code> file.</p>
</section>
<section id="id4">
<h3>Example<a class="headerlink" href="#id4" title="Link to this heading">#</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="mf">14.400</span>
 <span class="mf">3.269</span>  <span class="mf">0.000</span>  <span class="mf">0.000</span>  <span class="mf">0.000</span>  <span class="mf">3.269</span>  <span class="mf">0.000</span>  <span class="mf">0.000</span>  <span class="mf">0.000</span>  <span class="mf">3.234</span>
 <span class="mf">2.981</span>  <span class="mf">0.000</span>  <span class="mf">0.000</span>  <span class="mf">0.000</span>  <span class="mf">2.981</span>  <span class="mf">0.000</span>  <span class="mf">0.000</span>  <span class="mf">0.000</span>  <span class="mf">2.952</span>
<span class="o">-</span><span class="mf">1.935</span>  <span class="mf">0.000</span>  <span class="mf">0.000</span>  <span class="mf">0.000</span> <span class="o">-</span><span class="mf">2.036</span> <span class="o">-</span><span class="mf">0.261</span>  <span class="mf">0.000</span> <span class="o">-</span><span class="mf">0.261</span> <span class="o">-</span><span class="mf">1.968</span>
</pre></div>
</div>
<p>or using the default NAC unit conversion factor (version 1.10.4 or later),</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">default</span> <span class="n">value</span>
 <span class="mf">3.269</span>  <span class="mf">0.000</span>  <span class="mf">0.000</span>  <span class="mf">0.000</span>  <span class="mf">3.269</span>  <span class="mf">0.000</span>  <span class="mf">0.000</span>  <span class="mf">0.000</span>  <span class="mf">3.234</span>
 <span class="mf">2.981</span>  <span class="mf">0.000</span>  <span class="mf">0.000</span>  <span class="mf">0.000</span>  <span class="mf">2.981</span>  <span class="mf">0.000</span>  <span class="mf">0.000</span>  <span class="mf">0.000</span>  <span class="mf">2.952</span>
<span class="o">-</span><span class="mf">1.935</span>  <span class="mf">0.000</span>  <span class="mf">0.000</span>  <span class="mf">0.000</span> <span class="o">-</span><span class="mf">2.036</span> <span class="o">-</span><span class="mf">0.261</span>  <span class="mf">0.000</span> <span class="o">-</span><span class="mf">0.261</span> <span class="o">-</span><span class="mf">1.968</span>
</pre></div>
</div>
</section>
</section>
</section>


                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="examples.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Examples</p>
      </div>
    </a>
    <a class="right-next"
       href="output-files.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Output files</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#setting-file">Setting file</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#phonopy-disp-yaml"><code class="docutils literal notranslate"><span class="pre">phonopy_disp.yaml</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#structure-file">Structure file</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#vasp-poscar-like-format">VASP POSCAR like format</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#example-of-rutile-type-silicon-oxide-crystal-structure-vasp-4-style">Example of rutile-type silicon oxide crystal structure (VASP 4 style)</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#example-of-rutile-type-silicon-oxide-crystal-structure-vasp-5-style">Example of rutile-type silicon oxide crystal structure (VASP 5 style)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#force-file-force-sets">Force file (<code class="docutils literal notranslate"><span class="pre">FORCE_SETS</span></code>)</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#type-1">Type 1</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#example">Example</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#type-2">Type 2</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Example</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#force-constants-and-force-constants-hdf5"><code class="docutils literal notranslate"><span class="pre">FORCE_CONSTANTS</span></code> and <code class="docutils literal notranslate"><span class="pre">force_constants.hdf5</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#format-of-force-constants">Format of <code class="docutils literal notranslate"><span class="pre">FORCE_CONSTANTS</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">Example</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#format-of-force-constants-hdf5">Format of <code class="docutils literal notranslate"><span class="pre">force_constants.hdf5</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#qpoints-optional"><code class="docutils literal notranslate"><span class="pre">QPOINTS</span></code> (optional)</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">Example</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#born-optional"><code class="docutils literal notranslate"><span class="pre">BORN</span></code> (optional)</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#format">Format</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">Example</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Author name not set
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      ¬© Copyright 2009, Atsushi Togo.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="_static/scripts/bootstrap.js?digest=26a4bc78f4c0ddb94549"></script>
<script defer src="_static/scripts/pydata-sphinx-theme.js?digest=26a4bc78f4c0ddb94549"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>